<!DOCTYPE html><html><head>
      <title>mordern_c++</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\DOC\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.18\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#qt-c-åŸ¹è®­" class="md-toc-link"><p>QT C++ åŸ¹è®­</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day1-ç¯å¢ƒå®‰è£…å’Œå…¥é—¨20250305" class="md-toc-link"><p>Day1 ç¯å¢ƒå®‰è£…å’Œå…¥é—¨ï¼ˆ2025.03.05ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#qt-è‡ªå¸¦çš„ç¼–è¯‘å™¨" class="md-toc-link">
            <p>Qt è‡ªå¸¦çš„ç¼–è¯‘å™¨</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#qt-çš„ç¼–è¯‘è„šæœ¬qmake--cmake" class="md-toc-link"><p>Qt çš„ç¼–è¯‘è„šæœ¬ï¼šqmake / CMake</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç¤ºä¾‹testpro-æ–‡ä»¶" class="md-toc-link">
            </a><p><a href="#ç¤ºä¾‹testpro-æ–‡ä»¶" class="md-toc-link"><strong>ç¤ºä¾‹ï¼š</strong></a><strong><a href="http://Test.pro">Test.pro</a> æ–‡ä»¶</strong></p>

          </div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#qt-çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="md-toc-link">
            <p>Qt çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#c-ä¸­çš„å¤´æ–‡ä»¶" class="md-toc-link">
            <p>C++ ä¸­çš„å¤´æ–‡ä»¶</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#c-ä¸­çš„å‘½åç©ºé—´" class="md-toc-link">
            <p>C++ ä¸­çš„å‘½åç©ºé—´</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#c-ä¸­çš„ç¼–è¯‘-é“¾æ¥-è¿è¡Œ" class="md-toc-link">
            <p>C++ ä¸­çš„ç¼–è¯‘ã€é“¾æ¥ã€è¿è¡Œ</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day2-cè¯­æ³•å’Œå·¥ç¨‹å®è·µ20250306" class="md-toc-link"><p>Day2 C++è¯­æ³•å’Œå·¥ç¨‹å®è·µï¼ˆ2025.03.06ï¼‰</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#cä¸­çš„å†…ç½®ç±»å‹" class="md-toc-link"><p>C++ä¸­çš„å†…ç½®ç±»å‹</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-åŸºæœ¬æ•°æ®ç±»å‹" class="md-toc-link">
            <ol>
<li>åŸºæœ¬æ•°æ®ç±»å‹</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-å¸ƒå°”ç±»å‹" class="md-toc-link">
            <ol start="2">
<li>å¸ƒå°”ç±»å‹</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-ç©ºç±»å‹" class="md-toc-link">
            <ol start="3">
<li>ç©ºç±»å‹</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-ç±»å‹é™å®šç¬¦" class="md-toc-link">
            <ol start="4">
<li>ç±»å‹é™å®šç¬¦</li>
</ol>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#cä¸­çš„è‡ªå®šä¹‰ç±»å‹" class="md-toc-link"><p>C++ä¸­çš„è‡ªå®šä¹‰ç±»å‹</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-ç±»class" class="md-toc-link">
            <ol>
<li>ç±»ï¼ˆClassï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-ç»“æ„ä½“struct" class="md-toc-link">
            <ol start="2">
<li>ç»“æ„ä½“ï¼ˆStructï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-æšä¸¾enum" class="md-toc-link">
            <ol start="3">
<li>æšä¸¾ï¼ˆEnumï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-ç±»å‹åˆ«åtype-aliases" class="md-toc-link">
            <ol start="4">
<li>ç±»å‹åˆ«åï¼ˆType Aliasesï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-æ¨¡æ¿template" class="md-toc-link">
            <ol start="5">
<li>æ¨¡æ¿ï¼ˆTemplateï¼‰</li>
</ol>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#å·¦å€¼å³å€¼" class="md-toc-link"><p>å·¦å€¼/å³å€¼</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-å·¦å€¼lvalue" class="md-toc-link">
            <ol>
<li>å·¦å€¼ï¼ˆLvalueï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-å³å€¼rvalue" class="md-toc-link">
            <ol start="2">
<li>å³å€¼ï¼ˆRvalueï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨" class="md-toc-link">
            <ol start="3">
<li>å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-é‡è¦æ¦‚å¿µ" class="md-toc-link">
            <ol start="4">
<li>é‡è¦æ¦‚å¿µ</li>
</ol>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#æŒ‡é’ˆå¼•ç”¨" class="md-toc-link"><p>æŒ‡é’ˆ/å¼•ç”¨</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#-1-æŒ‡é’ˆpointer" class="md-toc-link"><p>ğŸ“Œ 1. æŒ‡é’ˆï¼ˆPointerï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-ä»€ä¹ˆæ˜¯æŒ‡é’ˆ" class="md-toc-link">
            <p>1.1 ä»€ä¹ˆæ˜¯æŒ‡é’ˆï¼Ÿ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#12-æŒ‡é’ˆçš„è¯­æ³•" class="md-toc-link">
            <p>1.2 æŒ‡é’ˆçš„è¯­æ³•</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#13-å¸¸è§æ“ä½œ" class="md-toc-link">
            <p>1.3 å¸¸è§æ“ä½œ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#14-æŒ‡é’ˆçš„ç§ç±»" class="md-toc-link">
            <p>1.4 æŒ‡é’ˆçš„ç§ç±»</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#15-åŠ¨æ€å†…å­˜åˆ†é…" class="md-toc-link">
            <p>1.5 åŠ¨æ€å†…å­˜åˆ†é…</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#-2-å¼•ç”¨reference" class="md-toc-link"><p>ğŸ“Œ 2. å¼•ç”¨ï¼ˆReferenceï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-ä»€ä¹ˆæ˜¯å¼•ç”¨" class="md-toc-link">
            <p>2.1 ä»€ä¹ˆæ˜¯å¼•ç”¨ï¼Ÿ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#22-å¼•ç”¨çš„ç‰¹ç‚¹" class="md-toc-link">
            <p>2.2 å¼•ç”¨çš„ç‰¹ç‚¹</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#23-å¸¸é‡å¼•ç”¨" class="md-toc-link">
            <p>2.3 å¸¸é‡å¼•ç”¨</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#-3-æŒ‡é’ˆä¸å¼•ç”¨çš„åŒºåˆ«" class="md-toc-link">
            <p>ğŸ“Œ 3. æŒ‡é’ˆä¸å¼•ç”¨çš„åŒºåˆ«</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#-4-æŒ‡é’ˆå’Œå¼•ç”¨åœ¨å‡½æ•°ä¸­çš„åº”ç”¨" class="md-toc-link"><p>ğŸ“Œ 4. æŒ‡é’ˆå’Œå¼•ç”¨åœ¨å‡½æ•°ä¸­çš„åº”ç”¨</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#41-é€šè¿‡æŒ‡é’ˆä¿®æ”¹å‚æ•°" class="md-toc-link">
            <p>4.1 é€šè¿‡æŒ‡é’ˆä¿®æ”¹å‚æ•°</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#42-é€šè¿‡å¼•ç”¨ä¿®æ”¹å‚æ•°" class="md-toc-link">
            <p>4.2 é€šè¿‡å¼•ç”¨ä¿®æ”¹å‚æ•°</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#43-æŒ‡é’ˆå’Œå¼•ç”¨çš„æ··åˆä½¿ç”¨" class="md-toc-link">
            <p>4.3 æŒ‡é’ˆå’Œå¼•ç”¨çš„æ··åˆä½¿ç”¨</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#-5-ä»€ä¹ˆæ—¶å€™ç”¨æŒ‡é’ˆä»€ä¹ˆæ—¶å€™ç”¨å¼•ç”¨" class="md-toc-link">
            <p>ğŸ“Œ 5. ä»€ä¹ˆæ—¶å€™ç”¨æŒ‡é’ˆï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨å¼•ç”¨ï¼Ÿ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#-6-å°ç»“" class="md-toc-link">
            <p>ğŸ¯ 6. å°ç»“</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¼˜ç§€å®è·µ" class="md-toc-link">
            <p>ä¼˜ç§€å®è·µ</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day3-ç§»åŠ¨è¯­ä¹‰å’Œæ„é€ ææ„æ‹·è´æ„é€ 20250307" class="md-toc-link"><p>Day3 ç§»åŠ¨è¯­ä¹‰å’Œæ„é€ /ææ„/æ‹·è´æ„é€ ï¼ˆ2025.03.07ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#è¿›ç¨‹çš„å†…å­˜æ˜ åƒ" class="md-toc-link">
            <p>è¿›ç¨‹çš„å†…å­˜æ˜ åƒ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#æ ˆå’Œå †" class="md-toc-link">
            <p>æ ˆå’Œå †</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#newå’Œmalloc" class="md-toc-link">
            <p>newå’Œmalloc</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ç±»å’Œå¯¹è±¡" class="md-toc-link"><p>ç±»å’Œå¯¹è±¡</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-ç±»class-1" class="md-toc-link">
            <ol>
<li>ç±»ï¼ˆClassï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-ç»“æ„ä½“struct-1" class="md-toc-link">
            <ol start="2">
<li>ç»“æ„ä½“ï¼ˆStructï¼‰</li>
</ol>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day4-1-æ™ºèƒ½æŒ‡é’ˆ20250318" class="md-toc-link"><p>Day4-1 æ™ºèƒ½æŒ‡é’ˆï¼ˆ2025.03.18ï¼‰</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#æ™ºèƒ½æŒ‡é’ˆçš„ç”¨æ³•" class="md-toc-link"><p>æ™ºèƒ½æŒ‡é’ˆçš„ç”¨æ³•</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#myclassç±»å¤´æ–‡ä»¶" class="md-toc-link">
            <p>MyClassç±»å¤´æ–‡ä»¶</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#myclassç±»å®ç°æ–‡ä»¶" class="md-toc-link">
            <p>MyClassç±»å®ç°æ–‡ä»¶</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¸»ç¨‹åºmaincpp" class="md-toc-link">
            <p>ä¸»ç¨‹åºmain.cpp</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day4-2ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦-c20250319" class="md-toc-link"><p>Day4-2ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ (C++)ï¼ˆ2025.03.19ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¸º-c-åˆ›å»ºç§»åŠ¨æ„é€ å‡½æ•°" class="md-toc-link">
            <p>ä¸º C++ åˆ›å»ºç§»åŠ¨æ„é€ å‡½æ•°</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¸º-c-ç±»åˆ›å»ºç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦" class="md-toc-link">
            <p>ä¸º C++ ç±»åˆ›å»ºç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç¤ºä¾‹å®Œæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦" class="md-toc-link">
            <p>ç¤ºä¾‹ï¼šå®Œæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç¤ºä¾‹-ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰æ¥æé«˜æ€§èƒ½" class="md-toc-link">
            <p>ç¤ºä¾‹ ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰æ¥æé«˜æ€§èƒ½</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#å¯é ç¼–ç¨‹" class="md-toc-link">
            <p>å¯é ç¼–ç¨‹</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day4-3-cå››å¤§å‡½æ•°æ„é€ æ‹·è´æ„é€ ææ„èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°20250319" class="md-toc-link"><p>Day4-3 C++å››å¤§å‡½æ•°ï¼ˆæ„é€ /æ‹·è´æ„é€ /ææ„/èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼‰ï¼ˆ2025.03.19ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#pointç±»" class="md-toc-link">
            <p>Pointç±»</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#computerç±»" class="md-toc-link">
            <p>Computerç±»</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day4-4-new-ä¸-delete-è¡¨è¾¾å¼20250320" class="md-toc-link"><p>Day4-4 New ä¸ delete è¡¨è¾¾å¼ï¼ˆ2025.03.20ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-new-è¡¨è¾¾å¼çš„ä¸‰ä¸ªæ­¥éª¤" class="md-toc-link">
            <ol>
<li><code>new</code> è¡¨è¾¾å¼çš„ä¸‰ä¸ªæ­¥éª¤</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-delete-è¡¨è¾¾å¼çš„ä¸¤ä¸ªæ­¥éª¤" class="md-toc-link">
            <ol start="2">
<li><code>delete</code> è¡¨è¾¾å¼çš„ä¸¤ä¸ªæ­¥éª¤</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-new-ä¸-delete" class="md-toc-link">
            <ol start="3">
<li><code>new[]</code> ä¸ <code>delete[]</code></li>
</ol>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day5-ç±»çš„å®šä¹‰å’Œå…³é”®å­—å†æ¢20250324" class="md-toc-link"><p>Day5 ç±»çš„å®šä¹‰å’Œå…³é”®å­—å†æ¢ï¼ˆ2025.03.24ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-c-å…³é”®å­—-const-static-extern" class="md-toc-link">
            <ol>
<li>C++ å…³é”®å­— <code>const</code>ã€<code>static</code>ã€<code>extern</code></li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-ç±»çš„å®šä¹‰circle-å’Œ-rect" class="md-toc-link">
            <ol start="2">
<li>ç±»çš„å®šä¹‰ï¼šCircle å’Œ Rect</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-å®Œæ•´ä»£ç " class="md-toc-link">
            <ol start="3">
<li>å®Œæ•´ä»£ç </li>
</ol>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day5-1-è¿ç®—ç¬¦é‡è½½20250324" class="md-toc-link"><p>Day5-1 è¿ç®—ç¬¦é‡è½½ï¼ˆ2025.03.24ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-å¤æ•°ç±»-complex-åŠå…¶è¿ç®—ç¬¦é‡è½½" class="md-toc-link">
            <ol>
<li>å¤æ•°ç±» <code>Complex</code> åŠå…¶è¿ç®—ç¬¦é‡è½½</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-è¿ç®—ç¬¦é‡è½½çš„å‡ ç§æ–¹å¼" class="md-toc-link">
            <ol start="2">
<li>è¿ç®—ç¬¦é‡è½½çš„å‡ ç§æ–¹å¼</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-å…³é”®åŒºåˆ«" class="md-toc-link">
            <ol start="3">
<li>å…³é”®åŒºåˆ«</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4å®Œæ•´ä»£ç " class="md-toc-link">
            <p>4.å®Œæ•´ä»£ç </p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day5-2-æ–‡ä»¶io20250324" class="md-toc-link"><p>Day5-2 æ–‡ä»¶IOï¼ˆ2025.03.24ï¼‰</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-ç¼“å†²åŒºä¸åˆ·æ–°" class="md-toc-link"><ol>
<li>ç¼“å†²åŒºä¸åˆ·æ–°</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-å¸¸è§çš„ç¼“å†²åˆ·æ–°æ–¹å¼" class="md-toc-link">
            <p>1.1 å¸¸è§çš„ç¼“å†²åˆ·æ–°æ–¹å¼</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-æ–‡ä»¶è¯»å†™æ“ä½œ" class="md-toc-link"><ol start="2">
<li>æ–‡ä»¶è¯»å†™æ“ä½œ</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-è¯»å–æ–‡ä»¶" class="md-toc-link">
            <p>2.1 è¯»å–æ–‡ä»¶</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#22-å†™å…¥æ–‡ä»¶" class="md-toc-link">
            <p>2.2 å†™å…¥æ–‡ä»¶</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#23-è¿½åŠ æ¨¡å¼å†™å…¥" class="md-toc-link">
            <p>2.3 è¿½åŠ æ¨¡å¼å†™å…¥</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#23-å®Œæ•´ä»£ç " class="md-toc-link">
            <p>2.3 å®Œæ•´ä»£ç </p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-æ–‡ä»¶å®šä½æ“ä½œ" class="md-toc-link">
            <ol start="3">
<li>æ–‡ä»¶å®šä½æ“ä½œ</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-å­—ç¬¦ä¸²io" class="md-toc-link">
            <ol start="4">
<li>å­—ç¬¦ä¸²IO</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-é…ç½®æ–‡ä»¶è§£æç¤ºä¾‹" class="md-toc-link">
            <ol start="5">
<li>é…ç½®æ–‡ä»¶è§£æç¤ºä¾‹</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#6-å®Œæ•´ä»£ç " class="md-toc-link">
            <ol start="6">
<li>å®Œæ•´ä»£ç </li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#7-äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ" class="md-toc-link">
            <ol start="7">
<li>äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#æ€»ç»“" class="md-toc-link">
            <p>æ€»ç»“</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day6-1-è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½20250325" class="md-toc-link"><p><strong>Day6-1 è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½ï¼ˆ2025.03.25ï¼‰</strong></p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-å›é¡¾" class="md-toc-link"><p><strong>1. å›é¡¾</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº" class="md-toc-link">
            <p><strong>1.1 æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-å‹å…ƒ" class="md-toc-link"><p><strong>2. å‹å…ƒ</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-å‹å…ƒå‡½æ•°" class="md-toc-link">
            <p><strong>2.1 å‹å…ƒå‡½æ•°</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#3-è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½" class="md-toc-link"><p><strong>3. è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#31-å…³é”®çŸ¥è¯†ç‚¹" class="md-toc-link">
            <p><strong>3.1 å…³é”®çŸ¥è¯†ç‚¹</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#32-ä»£ç " class="md-toc-link">
            <p><strong>3.2 ä»£ç </strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#33-å…³é”®é—®é¢˜" class="md-toc-link">
            <p><strong>3.3 å…³é”®é—®é¢˜</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#34-å®Œæ•´ä»£ç " class="md-toc-link">
            <p><strong>3.4 å®Œæ•´ä»£ç </strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#4-ä¸‹æ ‡è®¿é—®è¿ç®—ç¬¦-operator" class="md-toc-link"><p><strong>4. ä¸‹æ ‡è®¿é—®è¿ç®—ç¬¦ <code>operator[]</code></strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#41-å…³é”®çŸ¥è¯†ç‚¹" class="md-toc-link">
            <p><strong>4.1 å…³é”®çŸ¥è¯†ç‚¹</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#42-ä»£ç " class="md-toc-link">
            <p><strong>4.2 ä»£ç </strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#5-å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦-operator" class="md-toc-link"><p><strong>5. å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ <code>operator()</code></strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#51-å…³é”®çŸ¥è¯†ç‚¹" class="md-toc-link">
            <p><strong>5.1 å…³é”®çŸ¥è¯†ç‚¹</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#52-ä»£ç " class="md-toc-link">
            <p><strong>5.2 ä»£ç </strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#53-ç¤ºä¾‹" class="md-toc-link">
            <p><strong>5.3 ç¤ºä¾‹</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#54-å®Œæ•´ä»£ç " class="md-toc-link">
            <p><strong>5.4 å®Œæ•´ä»£ç </strong></p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#day6-2-æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½20250325" class="md-toc-link">
            <p><strong>Day6-2 æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½ï¼ˆ2025.03.25ï¼‰</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-å¤ä¹ " class="md-toc-link">
            <p><strong>1. å¤ä¹ </strong></p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½" class="md-toc-link"><p><strong>2. æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½</strong></p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#21-ç®­å¤´è¿ç®—ç¬¦---é‡è½½" class="md-toc-link"><p><strong>2.1 ç®­å¤´è¿ç®—ç¬¦ (<code>-&gt;</code>) é‡è½½</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-è¯­æ³•" class="md-toc-link">
            <p><strong>(1) è¯­æ³•</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#22-è§£å¼•ç”¨è¿ç®—ç¬¦--é‡è½½" class="md-toc-link"><p><strong>2.2 è§£å¼•ç”¨è¿ç®—ç¬¦ (<code>*</code>) é‡è½½</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-è¯­æ³•-1" class="md-toc-link">
            <p><strong>(1) è¯­æ³•</strong></p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#3-ä»£ç åˆ†æ" class="md-toc-link"><p><strong>3. ä»£ç åˆ†æ</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#31-ä»£ç ç»“æ„" class="md-toc-link">
            <p><strong>3.1 ä»£ç ç»“æ„</strong></p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#32-ä»£ç è§£æ" class="md-toc-link"><p><strong>3.2 ä»£ç è§£æ</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-data-ç±»" class="md-toc-link">
            <p><strong>(1) <code>Data</code> ç±»</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-secondlayer-ç±»" class="md-toc-link">
            <p><strong>(2) <code>SecondLayer</code> ç±»</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-thirdlayer-ç±»" class="md-toc-link">
            <p><strong>(3) <code>ThirdLayer</code> ç±»</strong></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#33-è¿è¡Œ-test-æ–¹æ³•" class="md-toc-link">
            <p><strong>3.3 è¿è¡Œ <code>test()</code> æ–¹æ³•</strong></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-æ€»ç»“" class="md-toc-link">
            <p><strong>4. æ€»ç»“</strong></p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day6-3-ç±»å‹è½¬æ¢å‡½æ•°å’Œç±»åŸŸ" class="md-toc-link"><p><strong>Day6-3 ç±»å‹è½¬æ¢å‡½æ•°å’Œç±»åŸŸ</strong></p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-ç±»å‹è½¬æ¢å‡½æ•°type-conversion-functions" class="md-toc-link"><p><strong>1. ç±»å‹è½¬æ¢å‡½æ•°ï¼ˆType Conversion Functionsï¼‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-æ¦‚è¿°" class="md-toc-link">
            <p><strong>1.1 æ¦‚è¿°</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#12-ä»£ç ç¤ºä¾‹" class="md-toc-link">
            <p><strong>1.2 ä»£ç ç¤ºä¾‹</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#13-å…³é”®ä¼˜åŒ–" class="md-toc-link">
            <p><strong>1.3 å…³é”®ä¼˜åŒ–</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-ç±»åŸŸclass-scope" class="md-toc-link"><p><strong>2. ç±»åŸŸï¼ˆClass Scopeï¼‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-ä½œç”¨åŸŸ-vs-å¯è§åŸŸ" class="md-toc-link">
            <p><strong>2.1 ä½œç”¨åŸŸ vs å¯è§åŸŸ</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#22-ä»£ç ç¤ºä¾‹" class="md-toc-link">
            <p><strong>2.2 ä»£ç ç¤ºä¾‹</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#23-å…³é”®ä¼˜åŒ–" class="md-toc-link">
            <p><strong>2.3 å…³é”®ä¼˜åŒ–</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#3-å†…éƒ¨ç±»nested-class" class="md-toc-link"><p><strong>3. å†…éƒ¨ç±»ï¼ˆNested Classï¼‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#31-å†…éƒ¨ç±»çš„å®šä¹‰" class="md-toc-link">
            <p><strong>3.1 å†…éƒ¨ç±»çš„å®šä¹‰</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#32-è®¿é—®å¤–éƒ¨ç±»çš„-private-æˆå‘˜" class="md-toc-link">
            <p><strong>3.2 è®¿é—®å¤–éƒ¨ç±»çš„ <code>private</code> æˆå‘˜</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#33-é™æ€å†…éƒ¨ç±»" class="md-toc-link">
            <p><strong>3.3 é™æ€å†…éƒ¨ç±»</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#4-ä½œç”¨åŸŸè¿ç®—ç¬¦scope-resolution-operator-" class="md-toc-link"><p><strong>4. ä½œç”¨åŸŸè¿ç®—ç¬¦ï¼ˆScope Resolution Operator <code>::</code>ï¼‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#41-è®¿é—®å…¨å±€å˜é‡" class="md-toc-link">
            <p><strong>4.1 è®¿é—®å…¨å±€å˜é‡</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#42-è®¿é—®å‘½åç©ºé—´å†…çš„å˜é‡" class="md-toc-link">
            <p><strong>4.2 è®¿é—®å‘½åç©ºé—´å†…çš„å˜é‡</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#43-è®¿é—®ç±»çš„é™æ€æˆå‘˜" class="md-toc-link">
            <p><strong>4.3 è®¿é—®ç±»çš„é™æ€æˆå‘˜</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#5-ç±»å‹è½¬æ¢è¿ç®—ç¬¦type-casting-operators" class="md-toc-link"><p><strong>5. ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆType Casting Operatorsï¼‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#51-static_cast-ç”¨æ³•" class="md-toc-link">
            <p><strong>5.1 <code>static_cast</code> ç”¨æ³•</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#52-dynamic_cast-ç”¨æ³•" class="md-toc-link">
            <p><strong>5.2 <code>dynamic_cast</code> ç”¨æ³•</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#53-const_cast-ç”¨æ³•" class="md-toc-link">
            <p><strong>5.3 <code>const_cast</code> ç”¨æ³•</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#54-reinterpret_cast-ç”¨æ³•" class="md-toc-link">
            <p><strong>5.4 <code>reinterpret_cast</code> ç”¨æ³•</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#6-å…³é”®å­—-explicit-ä¸ç±»å‹è½¬æ¢" class="md-toc-link"><p><strong>6. å…³é”®å­— <code>explicit</code> ä¸ç±»å‹è½¬æ¢</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#61-éšå¼è½¬æ¢" class="md-toc-link">
            <p><strong>6.1 éšå¼è½¬æ¢</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#62-ä½¿ç”¨-explicit-ç¦æ­¢éšå¼è½¬æ¢" class="md-toc-link">
            <p><strong>6.2 ä½¿ç”¨ <code>explicit</code> ç¦æ­¢éšå¼è½¬æ¢</strong></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#7-æ€»ç»“" class="md-toc-link">
            <p><strong>7. æ€»ç»“</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day7-1-æ™ºèƒ½æŒ‡é’ˆé›å½¢" class="md-toc-link"><p><strong>Day7-1 æ™ºèƒ½æŒ‡é’ˆé›å½¢</strong></p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-ç‹¬å è¯­ä¹‰å’Œå…±äº«è¯­ä¹‰" class="md-toc-link"><p><strong>1. ç‹¬å è¯­ä¹‰å’Œå…±äº«è¯­ä¹‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-æ¦‚è¿°-1" class="md-toc-link">
            <p><strong>1.1 æ¦‚è¿°</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-stdstringçš„å®ç°" class="md-toc-link"><p><strong>2. std::stringçš„å®ç°</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-æ¦‚è¿°" class="md-toc-link">
            <p><strong>2.1 æ¦‚è¿°</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#3-ç§»åŠ¨è¯­ä¹‰" class="md-toc-link"><p><strong>3. ç§»åŠ¨è¯­ä¹‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#31-æ¦‚è¿°" class="md-toc-link">
            <p><strong>3.1 æ¦‚è¿°</strong></p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#day7-2-ç»§æ‰¿å’Œå¤šæ€" class="md-toc-link"><p><strong>Day7-2 ç»§æ‰¿å’Œå¤šæ€</strong></p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ä¸€-ç»§æ‰¿" class="md-toc-link"><p>ä¸€ã€ç»§æ‰¿</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-ç»§æ‰¿çš„åŸºç¡€" class="md-toc-link">
            <p>1ã€ç»§æ‰¿çš„åŸºç¡€</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-ç»§æ‰¿çš„å®šä¹‰" class="md-toc-link">
            <p>2ã€ç»§æ‰¿çš„å®šä¹‰</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-æ´¾ç”Ÿç±»äº§ç”Ÿçš„è¿‡ç¨‹" class="md-toc-link">
            <p>3ã€æ´¾ç”Ÿç±»äº§ç”Ÿçš„è¿‡ç¨‹</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-ç»§æ‰¿çš„å±€é™" class="md-toc-link">
            <p>4ã€ç»§æ‰¿çš„å±€é™</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-è®¿é—®æƒé™" class="md-toc-link">
            <p>5ã€è®¿é—®æƒé™</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#6-protectedä¸privateç»§æ‰¿åŒºåˆ«" class="md-toc-link">
            <p>6ã€protectedä¸privateç»§æ‰¿åŒºåˆ«</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#äºŒ-æ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€ " class="md-toc-link">
            <p>äºŒã€æ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€ </p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¸‰-æ´¾ç”Ÿç±»å¯¹è±¡çš„é”€æ¯" class="md-toc-link">
            <p>ä¸‰ã€æ´¾ç”Ÿç±»å¯¹è±¡çš„é”€æ¯</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#å››-å¤šç»§æ‰¿é‡è¦" class="md-toc-link"><p>å››ã€å¤šç»§æ‰¿ï¼ˆé‡è¦ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-å¤šç»§æ‰¿åŸºç¡€" class="md-toc-link">
            <p>1ã€å¤šç»§æ‰¿åŸºç¡€</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-å¤šç»§æ‰¿çš„é—®é¢˜" class="md-toc-link"><p>2ã€å¤šç»§æ‰¿çš„é—®é¢˜</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-æˆå‘˜å‡½æ•°è®¿é—®å†²çª" class="md-toc-link">
            <p>1ã€æˆå‘˜å‡½æ•°è®¿é—®å†²çª</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-æ•°æ®æˆå‘˜çš„å­˜å‚¨äºŒä¹‰æ€§" class="md-toc-link">
            <p>2ã€æ•°æ®æˆå‘˜çš„å­˜å‚¨äºŒä¹‰æ€§</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#day7-3-åŸºç±»ä¸æ´¾ç”Ÿç±»æ·±å…¥" class="md-toc-link">
            <p><strong>Day7-3 åŸºç±»ä¸æ´¾ç”Ÿç±»æ·±å…¥</strong></p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#cday16" class="md-toc-link"><p>C++Day16</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¸€-é—®é¢˜å›é¡¾" class="md-toc-link">
            <p>ä¸€ã€é—®é¢˜å›é¡¾</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#äºŒ-åŸºç±»ä¸æ´¾ç”Ÿç±»é—´çš„è½¬æ¢" class="md-toc-link">
            <p>äºŒã€åŸºç±»ä¸æ´¾ç”Ÿç±»é—´çš„è½¬æ¢</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#å…³äº-base-ref--derived-çš„æ¨èç¨‹åº¦" class="md-toc-link">
            <p><strong>å…³äº <code>Base&amp; ref = derived</code> çš„æ¨èç¨‹åº¦</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-base--derivedå¯¹è±¡èµ‹å€¼å‘ç”Ÿåˆ‡ç‰‡" class="md-toc-link"><p><strong>1. <code>base = derived</code>ï¼ˆå¯¹è±¡èµ‹å€¼ï¼Œå‘ç”Ÿåˆ‡ç‰‡ï¼‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç‰¹ç‚¹" class="md-toc-link">
            <p><strong>ç‰¹ç‚¹ï¼š</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-base-ref--derivedå¼•ç”¨ç»‘å®šæ— åˆ‡ç‰‡" class="md-toc-link"><p><strong>2. <code>Base&amp; ref = derived</code>ï¼ˆå¼•ç”¨ç»‘å®šï¼Œæ— åˆ‡ç‰‡ï¼‰</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç‰¹ç‚¹-1" class="md-toc-link">
            <p><strong>ç‰¹ç‚¹ï¼š</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#3-æ¨èç¨‹åº¦" class="md-toc-link"><p><strong>3. æ¨èç¨‹åº¦</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#æ›´æ¨èçš„æ›¿ä»£æ–¹æ¡ˆbaseæŒ‡é’ˆ" class="md-toc-link">
            <p><strong>æ›´æ¨èçš„æ›¿ä»£æ–¹æ¡ˆï¼š<code>Base*</code>ï¼ˆæŒ‡é’ˆï¼‰</strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#4-æ€»ç»“-1" class="md-toc-link"><p><strong>4. æ€»ç»“</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#æœ€ä½³å®è·µ" class="md-toc-link">
            <p><strong>æœ€ä½³å®è·µ</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¸‰-æ´¾ç”Ÿç±»é—´çš„å¤åˆ¶æ§åˆ¶" class="md-toc-link">
            <p>ä¸‰ã€æ´¾ç”Ÿç±»é—´çš„å¤åˆ¶æ§åˆ¶</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#å››-å¤šæ€é‡è¦" class="md-toc-link"><p>å››ã€å¤šæ€ï¼ˆé‡è¦ï¼‰</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-å¤šæ€çš„åŸºç¡€" class="md-toc-link">
            <p>1ã€å¤šæ€çš„åŸºç¡€</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-å¤šæ€çš„åˆ†ç±»" class="md-toc-link">
            <p>2ã€å¤šæ€çš„åˆ†ç±»</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-è™šå‡½æ•°" class="md-toc-link">
            <p>3ã€è™šå‡½æ•°</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-è™šå‡½æ•°åŸç†é‡è¦" class="md-toc-link">
            <p>4ã€è™šå‡½æ•°åŸç†ï¼ˆé‡è¦ï¼‰</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-è™šå‡½æ•°æœºåˆ¶è¢«æ¿€æ´»çš„æ¡ä»¶é‡è¦" class="md-toc-link">
            <p>5ã€è™šå‡½æ•°æœºåˆ¶è¢«æ¿€æ´»çš„æ¡ä»¶ï¼ˆé‡è¦ï¼‰</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#6-è™šå‡½æ•°çš„é™åˆ¶" class="md-toc-link">
            <p>6ã€è™šå‡½æ•°çš„é™åˆ¶</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#7-è™šå‡½æ•°çš„è®¿é—®" class="md-toc-link">
            <p>7ã€è™šå‡½æ•°çš„è®¿é—®</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#8-æŠ½è±¡ç±»" class="md-toc-link">
            <p>8ã€æŠ½è±¡ç±»</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-è¯­æ³•å½¢å¼ç›¸ä¼¼" class="md-toc-link">
            <p><strong>1. è¯­æ³•å½¢å¼ç›¸ä¼¼</strong></p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-æ ¸å¿ƒåŒºåˆ«" class="md-toc-link"><p><strong>2. æ ¸å¿ƒåŒºåˆ«</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-å¼•ç”¨ç»‘å®šçš„å¯¹è±¡ç±»å‹" class="md-toc-link">
            <p><strong>(1) å¼•ç”¨ç»‘å®šçš„å¯¹è±¡ç±»å‹</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-å¯è®¿é—®çš„æˆå‘˜" class="md-toc-link">
            <p><strong>(2) å¯è®¿é—®çš„æˆå‘˜</strong></p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-å¤šæ€è¡Œä¸ºè™šå‡½æ•°" class="md-toc-link">
            <p><strong>(3) å¤šæ€è¡Œä¸ºï¼ˆè™šå‡½æ•°ï¼‰</strong></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-åº•å±‚æœºåˆ¶" class="md-toc-link">
            <p><strong>3. åº•å±‚æœºåˆ¶</strong></p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#4-æ€»ç»“-2" class="md-toc-link"><p><strong>4. æ€»ç»“</strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#å…³é”®ç»“è®º" class="md-toc-link">
            <p><strong>å…³é”®ç»“è®º</strong></p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#c-ä¸­åˆ›å»ºçº¿ç¨‹å¹¶ä¼ å…¥ç±»ç±»å‹çš„æ­£ç¡®å†™æ³•" class="md-toc-link"><p>C++ ä¸­åˆ›å»ºçº¿ç¨‹å¹¶ä¼ å…¥ç±»ç±»å‹çš„æ­£ç¡®å†™æ³•</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#1-ä¼ é€’æˆå‘˜å‡½æ•°ä½¿ç”¨å¯¹è±¡æŒ‡é’ˆ" class="md-toc-link">
            <ol>
<li>ä¼ é€’æˆå‘˜å‡½æ•°ï¼ˆä½¿ç”¨å¯¹è±¡æŒ‡é’ˆï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-ä¼ é€’-lambda-è¡¨è¾¾å¼æ•è·å¯¹è±¡" class="md-toc-link">
            <ol start="2">
<li>ä¼ é€’ lambda è¡¨è¾¾å¼æ•è·å¯¹è±¡</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#3-ä¼ é€’ä¸´æ—¶å¯¹è±¡ç§»åŠ¨è¯­ä¹‰" class="md-toc-link">
            <ol start="3">
<li>ä¼ é€’ä¸´æ—¶å¯¹è±¡ï¼ˆç§»åŠ¨è¯­ä¹‰ï¼‰</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-ä½¿ç”¨-stdref-ä¼ é€’å¼•ç”¨" class="md-toc-link">
            <ol start="4">
<li>ä½¿ç”¨ std::ref ä¼ é€’å¼•ç”¨</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ" class="md-toc-link">
            <ol start="5">
<li>ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</li>
</ol>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#æ³¨æ„äº‹é¡¹" class="md-toc-link"><p>æ³¨æ„äº‹é¡¹</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#é—®é¢˜æè¿°" class="md-toc-link">
            <p>é—®é¢˜æè¿°</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#åˆæ­¥è§‚å¯Ÿ" class="md-toc-link">
            <p>åˆæ­¥è§‚å¯Ÿ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç†è§£å¯¹è±¡æ„é€ è¿‡ç¨‹" class="md-toc-link">
            <p>ç†è§£å¯¹è±¡æ„é€ è¿‡ç¨‹</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#è™šå‡½æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„è¡Œä¸º" class="md-toc-link">
            <p>è™šå‡½æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„è¡Œä¸º</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#cæ ‡å‡†çš„è§„å®š" class="md-toc-link">
            <p>C++æ ‡å‡†çš„è§„å®š</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç¤ºä¾‹éªŒè¯" class="md-toc-link">
            <p>ç¤ºä¾‹éªŒè¯</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡" class="md-toc-link">
            <p>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ç±»ä¼¼è¡Œä¸ºææ„å‡½æ•°" class="md-toc-link">
            <p>ç±»ä¼¼è¡Œä¸ºï¼šææ„å‡½æ•°</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#è§£å†³æ–¹æ¡ˆ" class="md-toc-link">
            <p>è§£å†³æ–¹æ¡ˆ</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#æ€»ç»“-1" class="md-toc-link">
            <p>æ€»ç»“</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#æœ€ç»ˆç­”æ¡ˆ" class="md-toc-link">
            <p>æœ€ç»ˆç­”æ¡ˆ</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ä¸‰çº§æ ‡é¢˜" class="md-toc-link"><p>ä¸‰çº§æ ‡é¢˜</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#å››çº§æ ‡é¢˜" class="md-toc-link"><p>å››çº§æ ‡é¢˜</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#äº”çº§æ ‡é¢˜" class="md-toc-link"><p>äº”çº§æ ‡é¢˜</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#å…­çº§æ ‡é¢˜" class="md-toc-link">
            <p>å…­çº§æ ‡é¢˜</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
        </div>
      </details>
    
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<h1 id="qt-c-åŸ¹è®­">QT C++ åŸ¹è®­ </h1>
<h2 id="day1-ç¯å¢ƒå®‰è£…å’Œå…¥é—¨20250305">Day1 ç¯å¢ƒå®‰è£…å’Œå…¥é—¨ï¼ˆ2025.03.05ï¼‰ </h2>
<h3 id="qt-è‡ªå¸¦çš„ç¼–è¯‘å™¨">Qt è‡ªå¸¦çš„ç¼–è¯‘å™¨ </h3>
<p>Qt ä½¿ç”¨ MinGW ä½œä¸ºå…¶é»˜è®¤çš„ç¼–è¯‘å™¨ã€‚MinGW æ˜¯åŸºäº GCC çš„ç¼–è¯‘å™¨ï¼Œè€Œåœ¨ Java å’Œ Python ä¸­ï¼Œåˆ†åˆ«å¯ä»¥ä½¿ç”¨ Maven å’Œ <code>pip install</code> ç­‰å·¥å…·å®‰è£…ä¾èµ–æˆ–ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<p>C++ ç”±æ ‡å‡†å§”å‘˜ä¼šæŒ‡å®šæ ‡å‡†ï¼Œä¸åŒå‚å•†ä¼šå®ç°è‡ªå·±çš„ç¼–è¯‘å™¨å’Œæ ‡å‡†åº“ã€‚Qt è‡´åŠ›äºè·¨å¹³å°å¼€å‘ï¼Œå°è£…äº†ä¸€å¥—è·¨å¹³å°çš„åº“ï¼Œä½†å¹¶ä¸æ˜¯â€œä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œâ€ã€‚</p>
<p>C++ å‚è€ƒæ‰‹å†ŒæŒ‡å‡ºï¼Œä» C++11 å¼€å§‹ï¼ŒC++ è¿›å…¥äº†ä¸€ä¸ªè¾ƒå¿«çš„å‘å±•é˜¶æ®µï¼Œæ¯ä¸‰å¹´å°±ä¼šæœ‰ä¸€ä¸ªæ–°ç‰ˆæœ¬å‘å¸ƒã€‚</p>
<h3 id="qt-çš„ç¼–è¯‘è„šæœ¬qmake--cmake">Qt çš„ç¼–è¯‘è„šæœ¬ï¼šqmake / CMake </h3>
<p><code>qmake</code> æ˜¯ Qt å®˜æ–¹ç»´æŠ¤çš„æˆç†Ÿæ„å»ºå·¥å…·ï¼Œä½†ä» Qt 5.15 ç‰ˆæœ¬å¼€å§‹ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ <code>CMake</code> ä½œä¸ºé»˜è®¤çš„æ„å»ºå·¥å…·ã€‚</p>
<h4 id="ç¤ºä¾‹testpro-æ–‡ä»¶"><strong>ç¤ºä¾‹ï¼š<a href="http://Test.pro">Test.pro</a> æ–‡ä»¶</strong> </h4>
<pre data-role="codeBlock" data-info="ini" class="language-ini ini"><code><span class="token key attr-name">TEMPLATE</span> <span class="token punctuation">=</span> <span class="token value attr-value">app</span>
<span class="token key attr-name">CONFIG +</span><span class="token punctuation">=</span> <span class="token value attr-value">console c++11</span>
<span class="token key attr-name">CONFIG -</span><span class="token punctuation">=</span> <span class="token value attr-value">app_bundle</span>
<span class="token key attr-name">CONFIG -</span><span class="token punctuation">=</span> <span class="token value attr-value">qt</span>

<span class="token key attr-name">SOURCES +</span><span class="token punctuation">=</span> <span class="token value attr-value">\</span>
        main.cpp
</code></pre><h3 id="qt-çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ">Qt çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ </h3>
<p>æ¨èä½¿ç”¨ <strong>Git</strong> è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¯ä¸ªå¼€å‘äººå‘˜é€šå¸¸æœ‰å„è‡ªçš„åˆ†å·¥ï¼Œåˆç†çš„ Git æµç¨‹å¯ä»¥å‡å°‘ä»£ç å†²çªï¼Œæé«˜åä½œæ•ˆç‡ã€‚</p>
<h3 id="c-ä¸­çš„å¤´æ–‡ä»¶">C++ ä¸­çš„å¤´æ–‡ä»¶ </h3>
<ul>
<li>å¤´æ–‡ä»¶ä¸»è¦ç”¨äº<strong>å£°æ˜</strong>ï¼ˆdeclarationï¼‰ã€‚</li>
<li>æºæ–‡ä»¶ï¼ˆ.cppï¼‰ä¸»è¦ç”¨äº<strong>å®šä¹‰å’Œå®ç°</strong>ï¼ˆdefinition &amp; implementationï¼‰ã€‚</li>
</ul>
<h3 id="c-ä¸­çš„å‘½åç©ºé—´">C++ ä¸­çš„å‘½åç©ºé—´ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
</code></pre><p>è¿™è¡Œä»£ç ä¼šå°†æ•´ä¸ª <code>std</code> æ ‡å‡†åº“æš´éœ²åœ¨æºä»£ç ä¸­ã€‚ä¸€èˆ¬æ¨èä½¿ç”¨å…·ä½“å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">;</span>
</code></pre><p>è¿™æ ·å¯ä»¥é¿å…å‘½åå†²çªï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ã€‚</p>
<h3 id="c-ä¸­çš„ç¼–è¯‘-é“¾æ¥-è¿è¡Œ">C++ ä¸­çš„ç¼–è¯‘ã€é“¾æ¥ã€è¿è¡Œ </h3>
<p>åœ¨ C++ å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç¨‹åºçš„æ„å»ºä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li>
<p><strong>æ„å»ºï¼ˆBuildï¼‰</strong></p>
<ul>
<li><strong>é¢„å¤„ç†</strong>ï¼šå¤„ç† <code>#include</code> å¤´æ–‡ä»¶ï¼Œå±•å¼€å®å®šä¹‰ã€‚</li>
<li><strong>ç¼–è¯‘</strong>ï¼šå°†æ¯ä¸ª <code>.cpp</code> æˆ– <code>.c</code> æ–‡ä»¶ç¼–è¯‘æˆ <code>.o</code>ï¼ˆç›®æ ‡æ–‡ä»¶ï¼‰ï¼Œè¿™äº›ç›®æ ‡æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ ¼å¼çš„ç¼–è¯‘å•å…ƒã€‚</li>
<li><strong>é“¾æ¥</strong>ï¼šå°†æ‰€æœ‰ <code>.o</code> ç›®æ ‡æ–‡ä»¶é“¾æ¥åœ¨ä¸€èµ·ï¼Œç”Ÿæˆ <code>.exe</code> å¯æ‰§è¡Œæ–‡ä»¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿è¡Œï¼ˆRunï¼‰</strong></p>
<ul>
<li>è¿è¡Œç¼–è¯‘å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰§è¡Œç¨‹åºé€»è¾‘ã€‚</li>
</ul>
</li>
</ol>
<h2 id="day2-cè¯­æ³•å’Œå·¥ç¨‹å®è·µ20250306">Day2 C++è¯­æ³•å’Œå·¥ç¨‹å®è·µï¼ˆ2025.03.06ï¼‰ </h2>
<hr>
<h3 id="cä¸­çš„å†…ç½®ç±»å‹">C++ä¸­çš„å†…ç½®ç±»å‹ </h3>
<p>C++ æä¾›äº†ä¸€ç³»åˆ—å†…ç½®æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨ä¸åŒç±»å‹çš„å€¼ã€‚å¸¸è§çš„å†…ç½®ç±»å‹åŒ…æ‹¬ï¼š</p>
<h4 id="1-åŸºæœ¬æ•°æ®ç±»å‹">1. åŸºæœ¬æ•°æ®ç±»å‹ </h4>
<ul>
<li><strong>æ•´æ•°ç±»å‹</strong>ï¼š
<ul>
<li><code>int</code>ï¼šç”¨äºå­˜å‚¨æ•´æ•°ï¼Œå¤§å°é€šå¸¸ä¸º 4 å­—èŠ‚ï¼ˆå…·ä½“å¤§å°ä¾èµ–äºç³»ç»Ÿï¼‰ã€‚</li>
<li><code>short</code>ï¼šè¾ƒå°çš„æ•´æ•°ç±»å‹ï¼Œé€šå¸¸ä¸º 2 å­—èŠ‚ã€‚</li>
<li><code>long</code>ï¼šè¾ƒå¤§çš„æ•´æ•°ç±»å‹ï¼Œé€šå¸¸ä¸º 4 æˆ– 8 å­—èŠ‚ã€‚</li>
<li><code>long long</code>ï¼šæ›´å¤§çš„æ•´æ•°ç±»å‹ï¼Œé€šå¸¸ä¸º 8 å­—èŠ‚ã€‚</li>
</ul>
</li>
<li><strong>å­—ç¬¦ç±»å‹</strong>ï¼š
<ul>
<li><code>char</code>ï¼šç”¨äºå­˜å‚¨å­—ç¬¦ï¼Œé€šå¸¸ä¸º 1 å­—èŠ‚ã€‚</li>
<li><code>wchar_t</code>ï¼šç”¨äºå­˜å‚¨å®½å­—ç¬¦ï¼ˆUnicode å­—ç¬¦ï¼‰ï¼Œé€šå¸¸ä¸º 2 æˆ– 4 å­—èŠ‚ã€‚</li>
</ul>
</li>
<li><strong>æµ®ç‚¹ç±»å‹</strong>ï¼š
<ul>
<li><code>float</code>ï¼šç”¨äºå­˜å‚¨å•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œé€šå¸¸ä¸º 4 å­—èŠ‚ã€‚</li>
<li><code>double</code>ï¼šç”¨äºå­˜å‚¨åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œé€šå¸¸ä¸º 8 å­—èŠ‚ã€‚</li>
<li><code>long double</code>ï¼šç”¨äºå­˜å‚¨æ›´é«˜ç²¾åº¦çš„æµ®ç‚¹æ•°ï¼Œå¤§å°ä¾èµ–äºç³»ç»Ÿï¼Œé€šå¸¸ä¸º 10 æˆ– 12 å­—èŠ‚ã€‚</li>
</ul>
</li>
</ul>
<h4 id="2-å¸ƒå°”ç±»å‹">2. å¸ƒå°”ç±»å‹ </h4>
<ul>
<li><strong><code>bool</code></strong>ï¼šç”¨äºå­˜å‚¨å¸ƒå°”å€¼ï¼Œå–å€¼ä¸º <code>true</code> æˆ– <code>false</code>ï¼Œé€šå¸¸ä¸º 1 å­—èŠ‚ã€‚</li>
</ul>
<h4 id="3-ç©ºç±»å‹">3. ç©ºç±»å‹ </h4>
<ul>
<li><strong><code>void</code></strong>ï¼šè¡¨ç¤ºæ²¡æœ‰ç±»å‹ï¼Œå¸¸ç”¨äºå‡½æ•°è¿”å›ç±»å‹æˆ–æŒ‡é’ˆå£°æ˜ã€‚</li>
</ul>
<h4 id="4-ç±»å‹é™å®šç¬¦">4. ç±»å‹é™å®šç¬¦ </h4>
<ul>
<li><strong><code>const</code></strong>ï¼šå¸¸é‡ç±»å‹ï¼Œè¡¨ç¤ºå˜é‡çš„å€¼ä¸å¯ä¿®æ”¹ã€‚</li>
<li><strong><code>volatile</code></strong>ï¼šè¡¨ç¤ºå˜é‡å¯èƒ½ä¼šè¢«å¤–éƒ¨å› ç´ ä¿®æ”¹ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨é¿å…ä¼˜åŒ–ã€‚</li>
<li><strong><code>mutable</code></strong>ï¼šå…è®¸å³ä½¿åœ¨ <code>const</code> æˆå‘˜å‡½æ•°ä¸­ä¹Ÿå¯ä»¥ä¿®æ”¹ç±»çš„æŸäº›æˆå‘˜å˜é‡ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//C++å†…ç½®ç±»å‹</span>
<span class="token comment">//int char float double</span>
<span class="token keyword keyword-void">void</span> <span class="token function">builtin_type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-bool">bool</span> a <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//1ä¸ªå­—èŠ‚ å¸ƒå°”å‹</span>

	<span class="token keyword keyword-char">char</span> b<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1ä¸ªå­—èŠ‚ å­—ç¬¦å‹</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-char">char</span> c<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1ä¸ªå­—èŠ‚</span>

	<span class="token keyword keyword-short">short</span> d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2ä¸ªå­—èŠ‚ çŸ­æ•´å‹</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-short">short</span> d1<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2ä¸ªå­—èŠ‚	</span>

	<span class="token keyword keyword-int">int</span> e<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4ä¸ªå­—èŠ‚ æ•´å‹</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> f<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4ä¸ªå­—èŠ‚</span>

	<span class="token keyword keyword-long">long</span> g<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//4ä¸ªå­—èŠ‚ é•¿æ•´å‹</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span> h<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4ä¸ªå­—èŠ‚	</span>

	<span class="token keyword keyword-long">long</span> <span class="token keyword keyword-long">long</span> i<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//8ä¸ªå­—èŠ‚ é•¿é•¿æ•´å‹</span>
	<span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span> <span class="token keyword keyword-long">long</span> j<span class="token punctuation">;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//8ä¸ªå­—èŠ‚</span>

	<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span><span class="token comment">//stræŒ‡å‘çš„å†…å®¹ä¸èƒ½æ”¹å˜</span>
	<span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4ä¸ªå­—èŠ‚ æŒ‡é’ˆçš„å¤§å° 32ä½ç³»ç»Ÿ4ä¸ªå­—èŠ‚ 64ä½ç³»ç»Ÿ8ä¸ªå­—èŠ‚ Cè¯­è¨€å­—ç¬¦ä¸²ä»¥'\0'ç»“å°¾ 1ä¸ªå­—èŠ‚</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span><span class="token comment">//5ä¸ªå­—èŠ‚</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

	<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> str1 <span class="token operator">=</span> <span class="token string">"xxx"</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span><span class="token comment">//"xxx"æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡ï¼Œå ç”¨4ä¸ªå­—èŠ‚ å› ä¸ºCè¯­è¨€å­—ç¬¦ä¸²ä»¥'\0'ç»“å°¾ 1ä¸ªå­—èŠ‚</span>


  <span class="token comment">//æ•°ç»„</span>
	<span class="token comment">//å®šä¹‰ï¼šç±»å‹ æ•°ç»„å[å…ƒç´ ä¸ªæ•°] = {å…ƒç´ 1, å…ƒç´ 2, ...};</span>
	<span class="token keyword keyword-int">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//40ä¸ªå­—èŠ‚</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span><span class="token comment">//40ä¸ªå­—èŠ‚</span>
	<span class="token comment">//ä¸ç”¨new[]åˆ†é…çš„æ•°ç»„æ˜¯æ ˆä¸Šçš„æ•°ç»„ï¼Œç¼–è¯‘æ—¶å°±ç¡®å®šäº†æ•°ç»„çš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯è¦æ±‚ä¸ªæ•°å¿…é¡»æ˜¯å¸¸é‡ï¼ˆå·²çŸ¥çš„ï¼‰</span>
	<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> aa <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> a_stack_arr<span class="token punctuation">[</span>aa<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//40ä¸ªå­—èŠ‚</span>
	<span class="token comment">//è®¿é—®æ•°ç»„å…ƒç´ ï¼ˆç¬¬ä¸€ä¸ªå€¼ï¼‰</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//1</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>arr <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//1</span>
	<span class="token comment">//è®¿é—®ç¬¬äºŒä¸ªå€¼</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a_stack_arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>		<span class="token comment">//2</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>a_stack_arr <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//2</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">builtin_type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="cä¸­çš„è‡ªå®šä¹‰ç±»å‹">C++ä¸­çš„è‡ªå®šä¹‰ç±»å‹ </h3>
<p>C++ å…è®¸å¼€å‘è€…å®šä¹‰è‡ªå®šä¹‰ç±»å‹ï¼Œä»¥ä¾¿æ„å»ºæ›´å¤æ‚çš„ç¨‹åºç»“æ„ã€‚å¸¸è§çš„è‡ªå®šä¹‰ç±»å‹åŒ…æ‹¬ï¼š</p>
<h4 id="1-ç±»class">1. ç±»ï¼ˆClassï¼‰ </h4>
<p>ç±»æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ä¸­æœ€å¸¸è§çš„è‡ªå®šä¹‰ç±»å‹ï¼Œå…è®¸å¼€å‘è€…å®šä¹‰å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> age<span class="token punctuation">;</span>

    <span class="token comment">// æ„é€ å‡½æ•°</span>
    <span class="token function">Person</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string n<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> a<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">name</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">// æ–¹æ³•</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, my name is "</span> <span class="token operator">&lt;&lt;</span> name <span class="token operator">&lt;&lt;</span> <span class="token string">" and I am "</span> <span class="token operator">&lt;&lt;</span> age <span class="token operator">&lt;&lt;</span> <span class="token string">" years old."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="2-ç»“æ„ä½“struct">2. ç»“æ„ä½“ï¼ˆStructï¼‰ </h4>
<p>ç»“æ„ä½“ä¸ç±»ç›¸ä¼¼ï¼Œä½†ç»“æ„ä½“çš„æˆå‘˜é»˜è®¤æ˜¯å…¬å…±çš„ï¼Œä¸”é€šå¸¸ç”¨äºå­˜å‚¨æ•°æ®ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">x</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="3-æšä¸¾enum">3. æšä¸¾ï¼ˆEnumï¼‰ </h4>
<p>æšä¸¾ç”¨äºè¡¨ç¤ºä¸€ç»„å¸¸é‡å€¼ï¼Œé€šå¸¸ç”¨äºæœ‰é™çš„ç¦»æ•£å€¼ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span> RED<span class="token punctuation">,</span> GREEN<span class="token punctuation">,</span> BLUE <span class="token punctuation">}</span><span class="token punctuation">;</span>
Color color <span class="token operator">=</span> GREEN<span class="token punctuation">;</span>
</code></pre><h4 id="4-ç±»å‹åˆ«åtype-aliases">4. ç±»å‹åˆ«åï¼ˆType Aliasesï¼‰ </h4>
<p>C++ å…è®¸ä½¿ç”¨ <code>typedef</code> æˆ– <code>using</code> ä¸ºç°æœ‰ç±»å‹åˆ›å»ºåˆ«åï¼Œä½¿ä»£ç æ›´æ˜“è¯»ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-long">long</span> ulong<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> uint <span class="token operator">=</span> <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">;</span>
</code></pre><h4 id="5-æ¨¡æ¿template">5. æ¨¡æ¿ï¼ˆTemplateï¼‰ </h4>
<p>æ¨¡æ¿å…è®¸å®šä¹‰ç±»å‹å‚æ•°åŒ–çš„å‡½æ•°æˆ–ç±»ï¼Œä½¿ä»£ç æ›´åŠ é€šç”¨ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T <span class="token function">add</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="å·¦å€¼å³å€¼">å·¦å€¼/å³å€¼ </h3>
<p>åœ¨ C++ ä¸­ï¼Œ<strong>å·¦å€¼ï¼ˆLvalueï¼‰</strong> å’Œ <strong>å³å€¼ï¼ˆRvalueï¼‰</strong> æ˜¯ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå®ƒä»¬ä¸è¡¨è¾¾å¼çš„æ±‚å€¼ä½ç½®å’Œç±»å‹ç´§å¯†ç›¸å…³ã€‚</p>
<h4 id="1-å·¦å€¼lvalue">1. å·¦å€¼ï¼ˆLvalueï¼‰ </h4>
<p>å·¦å€¼è¡¨ç¤ºå¯ä»¥å‡ºç°åœ¨èµ‹å€¼è¯­å¥å·¦ä¾§çš„å¯¹è±¡ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¯ä»¥è¢«ä¿®æ”¹çš„å†…å­˜ä½ç½®ã€‚</p>
<ul>
<li><strong>å·¦å€¼çš„ç‰¹ç‚¹</strong>ï¼š
<ul>
<li>æœ‰æŒä¹…çš„å†…å­˜åœ°å€ï¼Œå¯ä»¥å–åœ°å€ï¼ˆ<code>&amp;</code>ï¼‰ã€‚</li>
<li>å¯ä»¥ä½œä¸ºèµ‹å€¼çš„ç›®æ ‡ã€‚</li>
<li>ç¤ºä¾‹ï¼šå˜é‡ã€æ•°ç»„å…ƒç´ ã€è§£å¼•ç”¨æŒ‡é’ˆç­‰ã€‚</li>
</ul>
</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>  <span class="token comment">// a æ˜¯ä¸€ä¸ªå·¦å€¼</span>
</code></pre><h4 id="2-å³å€¼rvalue">2. å³å€¼ï¼ˆRvalueï¼‰ </h4>
<p>å³å€¼è¡¨ç¤ºæ²¡æœ‰æŒä¹…å†…å­˜åœ°å€çš„å¯¹è±¡ï¼Œé€šå¸¸æ˜¯è¡¨è¾¾å¼çš„ä¸´æ—¶å€¼ï¼Œä¸èƒ½ä½œä¸ºèµ‹å€¼è¯­å¥çš„å·¦ä¾§ã€‚</p>
<ul>
<li><strong>å³å€¼çš„ç‰¹ç‚¹</strong>ï¼š
<ul>
<li>æ²¡æœ‰æ˜ç¡®çš„å†…å­˜åœ°å€ï¼Œé€šå¸¸æ˜¯ä¸´æ—¶å€¼ã€‚</li>
<li>å³å€¼å¯ä»¥è¢«ç”¨æ¥åˆå§‹åŒ–å·¦å€¼ã€‚</li>
<li>ç¤ºä¾‹ï¼šå¸¸é‡ã€ä¸´æ—¶å¯¹è±¡ã€è¿”å›å€¼ç­‰ã€‚</li>
</ul>
</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">;</span>  <span class="token comment">// 20 + 30 æ˜¯å³å€¼</span>
</code></pre><h4 id="3-å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨">3. å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨ </h4>
<ul>
<li>
<p><strong>å·¦å€¼å¼•ç”¨ï¼ˆLvalue Referenceï¼‰</strong>ï¼šç»‘å®šåˆ°å·¦å€¼ï¼Œä½¿ç”¨ <code>&amp;</code>ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment">// å·¦å€¼å¼•ç”¨</span>
</code></pre></li>
<li>
<p><strong>å³å€¼å¼•ç”¨ï¼ˆRvalue Referenceï¼‰</strong>ï¼šç»‘å®šåˆ°å³å€¼ï¼Œä½¿ç”¨ <code>&amp;&amp;</code>ã€‚å³å€¼å¼•ç”¨å…è®¸ç§»åŠ¨è¯­ä¹‰ï¼Œé¿å…ä¸å¿…è¦çš„å¤åˆ¶ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span><span class="token operator">&amp;&amp;</span> rref <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>  <span class="token comment">// å³å€¼å¼•ç”¨</span>
</code></pre></li>
<li>
<p><strong>æ™®é€šå¼•ç”¨/éå¸¸é‡å¼•ç”¨/å·¦å€¼å¼•ç”¨</strong>ï¼š å˜é‡å¼•ç”¨ï¼Œåªèƒ½å¼•ç”¨å·¦å€¼</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref <span class="token operator">=</span> c<span class="token punctuation">;</span>  <span class="token comment">// å·¦å€¼å¼•ç”¨</span>
</code></pre></li>
<li>
<p><strong>å¸¸é‡å¼•ç”¨</strong> ï¼šå¯ä»¥å¼•ç”¨å·¦å€¼å’Œå³å€¼</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> c <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> crc <span class="token operator">=</span> c<span class="token punctuation">;</span>  <span class="token comment">// å·¦å€¼å¼•ç”¨</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> crc2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment">// å³å€¼å¼•ç”¨</span>
</code></pre></li>
</ul>
<h4 id="4-é‡è¦æ¦‚å¿µ">4. é‡è¦æ¦‚å¿µ </h4>
<ul>
<li><strong>å®Œç¾è½¬å‘ï¼ˆPerfect Forwardingï¼‰</strong>ï¼šé€šè¿‡å³å€¼å¼•ç”¨å’Œ <code>std::forward</code> å¯ä»¥å°†ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°â€œå®Œç¾â€è½¬å‘ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œä¿æŒå…¶å€¼ç±»åˆ«ï¼ˆå·¦å€¼æˆ–å³å€¼ï¼‰ã€‚</li>
<li><strong>ç§»åŠ¨è¯­ä¹‰ï¼ˆMove Semanticsï¼‰</strong>ï¼šé€šè¿‡å³å€¼å¼•ç”¨ï¼ŒC++ å¯ä»¥â€œç§»åŠ¨â€èµ„æºï¼Œè€Œä¸æ˜¯å¤åˆ¶ï¼Œå‡å°‘ä¸å¿…è¦çš„å†…å­˜åˆ†é…å’Œæé«˜æ€§èƒ½ã€‚</li>
</ul>
<hr>
<h3 id="æŒ‡é’ˆå¼•ç”¨">æŒ‡é’ˆ/å¼•ç”¨ </h3>
<p>åœ¨ C++ ä¸­ï¼Œ<strong>æŒ‡é’ˆï¼ˆPointerï¼‰</strong> å’Œ <strong>å¼•ç”¨ï¼ˆReferenceï¼‰</strong> æ˜¯ä¸¤ä¸ªç”¨äºé—´æ¥è®¿é—®å˜é‡çš„å¼ºå¤§å·¥å…·ã€‚å®ƒä»¬åœ¨å†…å­˜ç®¡ç†ã€å‡½æ•°å‚æ•°ä¼ é€’ã€åŠ¨æ€åˆ†é…å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚ä¸‹é¢æ˜¯å®ƒä»¬çš„è¯¦å°½æ¯”è¾ƒå’Œä½¿ç”¨æ–¹æ³•ï¼š</p>
<hr>
<h4 id="-1-æŒ‡é’ˆpointer">ğŸ“Œ 1. æŒ‡é’ˆï¼ˆPointerï¼‰ </h4>
<h5 id="11-ä»€ä¹ˆæ˜¯æŒ‡é’ˆ">1.1 ä»€ä¹ˆæ˜¯æŒ‡é’ˆï¼Ÿ </h5>
<ul>
<li>æŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå­˜å‚¨çš„æ˜¯å¦ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€ã€‚</li>
<li>é€šè¿‡æŒ‡é’ˆå¯ä»¥é—´æ¥è®¿é—®å’Œä¿®æ”¹è¯¥åœ°å€ä¸Šçš„æ•°æ®ã€‚</li>
</ul>
<h5 id="12-æŒ‡é’ˆçš„è¯­æ³•">1.2 æŒ‡é’ˆçš„è¯­æ³• </h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// p æ˜¯ä¸€ä¸ªæŒ‡å‘ a çš„æŒ‡é’ˆï¼Œ&amp; å– a çš„åœ°å€</span>

std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a çš„å€¼: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>       <span class="token comment">// 10</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a çš„åœ°å€: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// 0x7ffeed5c (ç¤ºä¾‹åœ°å€)</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"p æŒ‡é’ˆå­˜å‚¨çš„åœ°å€: "</span> <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 0x7ffeed5c</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"é€šè¿‡ p è®¿é—® a çš„å€¼: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre><h5 id="13-å¸¸è§æ“ä½œ">1.3 å¸¸è§æ“ä½œ </h5>
<ul>
<li><strong>å–åœ°å€ç¬¦ <code>&amp;</code></strong>ï¼šè·å–å˜é‡çš„åœ°å€ã€‚</li>
<li><strong>è§£å¼•ç”¨ç¬¦ <code>*</code></strong>ï¼šé€šè¿‡æŒ‡é’ˆè®¿é—®ï¼ˆè¯»å–/ä¿®æ”¹ï¼‰å˜é‡çš„å€¼ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®æ”¹ a çš„å€¼ä¸º 20</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a çš„æ–°å€¼: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 20</span>
</code></pre><h5 id="14-æŒ‡é’ˆçš„ç§ç±»">1.4 æŒ‡é’ˆçš„ç§ç±» </h5>
<ul>
<li><strong>ç©ºæŒ‡é’ˆï¼ˆnullptrï¼‰</strong>ï¼š</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•æœ‰æ•ˆåœ°å€</span>
</code></pre><ul>
<li><strong>é‡æŒ‡é’ˆï¼ˆDangling Pointerï¼‰</strong>ï¼š</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span> <span class="token comment">// æœªåˆå§‹åŒ–çš„æŒ‡é’ˆï¼ŒæŒ‡å‘æœªçŸ¥å†…å­˜ï¼Œå¯èƒ½ä¼šå¼•å‘æœªå®šä¹‰è¡Œä¸º</span>
</code></pre><ul>
<li><strong>å¸¸é‡æŒ‡é’ˆï¼ˆæŒ‡é’ˆå¸¸é‡ï¼‰</strong>ï¼š</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// p1 æŒ‡å‘çš„å€¼ä¸èƒ½ä¿®æ”¹</span>
<span class="token keyword keyword-int">int</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> p2 <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>  <span class="token comment">// p2 æœ¬èº«çš„æŒ‡å‘ä¸èƒ½ä¿®æ”¹</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> p3 <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// p3 æŒ‡å‘å’Œå€¼éƒ½ä¸èƒ½ä¿®æ”¹</span>
</code></pre><ul>
<li><strong>æŒ‡é’ˆæ•°ç»„</strong> å’Œ <strong>æ•°ç»„æŒ‡é’ˆ</strong>ï¼š</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span><span class="token operator">*</span> pArr <span class="token operator">=</span> arr<span class="token punctuation">;</span> <span class="token comment">// æŒ‡é’ˆæŒ‡å‘æ•°ç»„é¦–å…ƒç´ </span>
<span class="token keyword keyword-int">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>pArray<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">;</span> <span class="token comment">// æ•°ç»„æŒ‡é’ˆï¼ŒæŒ‡å‘æ•´ä¸ªæ•°ç»„</span>
</code></pre><h5 id="15-åŠ¨æ€å†…å­˜åˆ†é…">1.5 åŠ¨æ€å†…å­˜åˆ†é… </h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åŠ¨æ€åˆ†é…å†…å­˜å¹¶åˆå§‹åŒ–ä¸º 10</span>
<span class="token keyword keyword-delete">delete</span> p<span class="token punctuation">;</span>             <span class="token comment">// é‡Šæ”¾å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼</span>

<span class="token keyword keyword-int">int</span><span class="token operator">*</span> arr <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// åŠ¨æ€æ•°ç»„</span>
<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span>          <span class="token comment">// é‡Šæ”¾æ•°ç»„å†…å­˜</span>
</code></pre><hr>
<h4 id="-2-å¼•ç”¨reference">ğŸ“Œ 2. å¼•ç”¨ï¼ˆReferenceï¼‰ </h4>
<h5 id="21-ä»€ä¹ˆæ˜¯å¼•ç”¨">2.1 ä»€ä¹ˆæ˜¯å¼•ç”¨ï¼Ÿ </h5>
<ul>
<li>å¼•ç”¨æ˜¯ä¸€ä¸ªå˜é‡çš„åˆ«åï¼ˆAliasï¼‰ï¼Œåˆ›å»ºåå§‹ç»ˆæŒ‡å‘åˆå§‹åŒ–çš„å¯¹è±¡ï¼Œæ— æ³•æ›´æ”¹ã€‚</li>
<li>ä½¿ç”¨ <code>&amp;</code> ç¬¦å·å®šä¹‰ï¼Œä½†ä¸å–åœ°å€æ“ä½œä¸åŒã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// ref æ˜¯ a çš„å¼•ç”¨</span>

ref <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// ç›¸å½“äº a = 20</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a çš„å€¼: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 20</span>
</code></pre><h5 id="22-å¼•ç”¨çš„ç‰¹ç‚¹">2.2 å¼•ç”¨çš„ç‰¹ç‚¹ </h5>
<ul>
<li><strong>å¿…é¡»åˆå§‹åŒ–</strong>ï¼šå¼•ç”¨åœ¨åˆ›å»ºæ—¶å¿…é¡»ç»‘å®šåˆ°ä¸€ä¸ªæœ‰æ•ˆå˜é‡ã€‚</li>
<li><strong>ä¸å¯æ›´æ”¹ç»‘å®š</strong>ï¼šå¼•ç”¨ç»‘å®šåæ— æ³•æ›´æ”¹æŒ‡å‘å…¶ä»–å˜é‡ã€‚</li>
<li><strong>æ²¡æœ‰ <code>null</code> å¼•ç”¨</strong>ï¼šä¸å­˜åœ¨ç©ºå¼•ç”¨ï¼Œå¿…é¡»æ€»æ˜¯ç»‘å®šæœ‰æ•ˆå¯¹è±¡ã€‚</li>
<li><strong>ä¸å ç”¨é¢å¤–å†…å­˜</strong>ï¼šå¼•ç”¨æœ¬è´¨ä¸Šæ˜¯å˜é‡çš„ä¸€ä¸ªåˆ«åï¼Œä¸åˆ†é…æ–°å†…å­˜ã€‚</li>
</ul>
<h5 id="23-å¸¸é‡å¼•ç”¨">2.3 å¸¸é‡å¼•ç”¨ </h5>
<ul>
<li><strong>ä¿æŠ¤æ•°æ®ä¸è¢«ä¿®æ”¹</strong>ï¼Œå¸¸ç”¨äºå‡½æ•°å‚æ•°ä¼ é€’ä¸­ä»¥é¿å…å¤åˆ¶å¤§å¯¹è±¡ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">showValue</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å€¼: "</span> <span class="token operator">&lt;&lt;</span> ref <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
<span class="token function">showValue</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®‰å…¨ï¼Œä¸ä¼šä¿®æ”¹ a çš„å€¼</span>
</code></pre><hr>
<h4 id="-3-æŒ‡é’ˆä¸å¼•ç”¨çš„åŒºåˆ«">ğŸ“Œ 3. æŒ‡é’ˆä¸å¼•ç”¨çš„åŒºåˆ« </h4>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>æŒ‡é’ˆï¼ˆPointerï¼‰</th>
<th>å¼•ç”¨ï¼ˆReferenceï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆå§‹åŒ–</td>
<td>å¯ä»¥ä¸åˆå§‹åŒ–ï¼ˆé‡æŒ‡é’ˆï¼‰</td>
<td>å¿…é¡»åˆå§‹åŒ–</td>
</tr>
<tr>
<td>é‡æ–°ç»‘å®š</td>
<td>å¯ä»¥æŒ‡å‘ä¸åŒåœ°å€</td>
<td>ç»‘å®šåä¸å¯æ”¹å˜å¼•ç”¨å¯¹è±¡</td>
</tr>
<tr>
<td>æ˜¯å¦ä¸ºç©º</td>
<td>å¯ä»¥ä¸º <code>nullptr</code></td>
<td>ä¸èƒ½ä¸º <code>null</code></td>
</tr>
<tr>
<td>å†…å­˜å ç”¨</td>
<td>éœ€è¦å†…å­˜å­˜å‚¨åœ°å€</td>
<td>ä¸å ç”¨å†…å­˜ï¼Œä½œä¸ºåˆ«åå­˜åœ¨</td>
</tr>
<tr>
<td>æŒ‡é’ˆè¿ç®—</td>
<td>æ”¯æŒç®—æœ¯è¿ç®— (å¦‚ <code>++</code>, <code>--</code>)</td>
<td>ä¸æ”¯æŒæŒ‡é’ˆè¿ç®—</td>
</tr>
<tr>
<td>ç”¨é€”</td>
<td>åŠ¨æ€åˆ†é…ã€æ•°ç»„ã€å‡½æ•°æŒ‡é’ˆã€å¤æ‚æ•°æ®ç»“æ„</td>
<td>ä¸»è¦ç”¨äºå®‰å…¨ã€ç®€å•çš„åˆ«åå’Œå‚æ•°ä¼ é€’</td>
</tr>
<tr>
<td>å®‰å…¨æ€§</td>
<td>å®¹æ˜“äº§ç”Ÿé‡æŒ‡é’ˆã€ç©ºæŒ‡é’ˆé—®é¢˜</td>
<td>æ›´å®‰å…¨ï¼Œé¿å…æŒ‡é’ˆæ“ä½œçš„é£é™©</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="-4-æŒ‡é’ˆå’Œå¼•ç”¨åœ¨å‡½æ•°ä¸­çš„åº”ç”¨">ğŸ“Œ 4. æŒ‡é’ˆå’Œå¼•ç”¨åœ¨å‡½æ•°ä¸­çš„åº”ç”¨ </h4>
<h5 id="41-é€šè¿‡æŒ‡é’ˆä¿®æ”¹å‚æ•°">4.1 é€šè¿‡æŒ‡é’ˆä¿®æ”¹å‚æ•° </h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">modify</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token operator">*</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token function">modify</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> 
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 20</span>
</code></pre><h5 id="42-é€šè¿‡å¼•ç”¨ä¿®æ”¹å‚æ•°">4.2 é€šè¿‡å¼•ç”¨ä¿®æ”¹å‚æ•° </h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">modify</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ref <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token function">modify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// 30</span>
</code></pre><h5 id="43-æŒ‡é’ˆå’Œå¼•ç”¨çš„æ··åˆä½¿ç”¨">4.3 æŒ‡é’ˆå’Œå¼•ç”¨çš„æ··åˆä½¿ç”¨ </h5>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span><span class="token operator">*</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>
    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>
    <span class="token operator">*</span>b <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span>
    a <span class="token operator">=</span> b<span class="token punctuation">;</span>
    b <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h4 id="-5-ä»€ä¹ˆæ—¶å€™ç”¨æŒ‡é’ˆä»€ä¹ˆæ—¶å€™ç”¨å¼•ç”¨">ğŸ“Œ 5. ä»€ä¹ˆæ—¶å€™ç”¨æŒ‡é’ˆï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨å¼•ç”¨ï¼Ÿ </h4>
<ul>
<li>
<p><strong>ä½¿ç”¨æŒ‡é’ˆçš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆä¾‹å¦‚ <code>new/delete</code>ï¼‰ã€‚</li>
<li>éœ€è¦ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘ï¼ˆä¾‹å¦‚é“¾è¡¨ã€æ ‘ç»“æ„ï¼‰ã€‚</li>
<li>ç”¨äºå®ç°å¤æ‚æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚æ•°ç»„ã€å‡½æ•°æŒ‡é’ˆã€å›è°ƒå‡½æ•°ï¼‰ã€‚</li>
<li>æŒ‡é’ˆæ•°ç»„æˆ–æ•°ç»„æŒ‡é’ˆçš„æ“ä½œã€‚</li>
</ul>
</li>
<li>
<p><strong>ä½¿ç”¨å¼•ç”¨çš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ç”¨ä½œå‡½æ•°å‚æ•°ï¼Œé¿å…å¯¹è±¡æ‹·è´ï¼Œæé«˜æ•ˆç‡ï¼ˆå°¤å…¶æ˜¯å¤§å¯¹è±¡ï¼‰ã€‚</li>
<li>å¸¸é‡å¼•ç”¨ç”¨äºåªè¯»è®¿é—®å¯¹è±¡ï¼ˆä¾‹å¦‚ <code>const T&amp;</code>ï¼‰ã€‚</li>
<li>ç®€åŒ–è¯­æ³•ï¼ˆä¾‹å¦‚èŒƒå›´ <code>for</code> å¾ªç¯ã€è¿ç®—ç¬¦é‡è½½ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h4 id="-6-å°ç»“">ğŸ¯ 6. å°ç»“ </h4>
<ul>
<li><strong>æŒ‡é’ˆ</strong> æä¾›äº†çµæ´»çš„å†…å­˜æ“ä½œèƒ½åŠ›ï¼Œä½†å®¹æ˜“å‡ºé”™ï¼Œéœ€è¦å°å¿ƒé¿å…é‡æŒ‡é’ˆã€ç©ºæŒ‡é’ˆã€å†…å­˜æ³„æ¼ã€‚</li>
<li><strong>å¼•ç”¨</strong> æ›´å®‰å…¨ã€è¯­æ³•ç®€æ´ï¼Œä½†ç¼ºä¹æŒ‡é’ˆçš„çµæ´»æ€§ã€‚</li>
<li>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä¼˜å…ˆä½¿ç”¨å¼•ç”¨ï¼Œåªæœ‰åœ¨éœ€è¦æŒ‡é’ˆç‰¹æ€§æ—¶æ‰ä½¿ç”¨æŒ‡é’ˆï¼Œå°¤å…¶æ˜¯æ¶‰åŠåŠ¨æ€åˆ†é…å’Œå¤æ‚æ•°æ®ç»“æ„æ—¶ã€‚</li>
</ul>
<hr>
<h3 id="ä¼˜ç§€å®è·µ">ä¼˜ç§€å®è·µ </h3>
<pre data-role="codeBlock" data-info="" class="language-text"><code>class MyClass;

MyClass test(const MyClass&amp; a,MyClass &amp;b)
{

}
</code></pre><p>å¥½çš„åšæ³•æ˜¯åŠ constå…³é”®å­—çš„å‚æ•°ï¼Œé€šå¸¸æ˜¯ä½œä¸ºä¼ å…¥å‚æ•°ï¼ˆåªè¯»ï¼‰ï¼Œå…¶ä»–å‚æ•°ä½œä¸ºä¼ å‡ºå‚æ•°ã€‚</p>
<p>åœ¨ C++ ä¸­ï¼Œ<strong>æŒ‡é’ˆï¼ˆPointerï¼‰</strong> å’Œ <strong>å¼•ç”¨ï¼ˆReferenceï¼‰</strong> æ˜¯ä¸¤ä¸ªç”¨äºé—´æ¥è®¿é—®å˜é‡çš„å¼ºå¤§å·¥å…·ã€‚å®ƒä»¬åœ¨å†…å­˜ç®¡ç†ã€å‡½æ•°å‚æ•°ä¼ é€’ã€åŠ¨æ€åˆ†é…å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚ä¸‹é¢æ˜¯å®ƒä»¬çš„è¯¦å°½æ¯”è¾ƒå’Œä½¿ç”¨æ–¹æ³•ï¼š</p>
<hr>
<h2 id="day3-ç§»åŠ¨è¯­ä¹‰å’Œæ„é€ ææ„æ‹·è´æ„é€ 20250307">Day3 ç§»åŠ¨è¯­ä¹‰å’Œæ„é€ /ææ„/æ‹·è´æ„é€ ï¼ˆ2025.03.07ï¼‰ </h2>
<hr>
<h3 id="è¿›ç¨‹çš„å†…å­˜æ˜ åƒ">è¿›ç¨‹çš„å†…å­˜æ˜ åƒ </h3>
<p><img src="%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%86%85%E5%AD%98%E6%98%A0%E5%83%8F-1.jpeg" alt="alt text"></p>
<h3 id="æ ˆå’Œå †">æ ˆå’Œå † </h3>
<ul>
<li>æ ˆï¼šä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ï¼Œæ˜¯å‡½æ•°é‡Œé¢å®šä¹‰çš„ï¼Œä¸é€šè¿‡malloc/new åˆ†é…çš„å˜é‡ï¼Œéƒ½åœ¨æ ˆä¸Šï¼Œå¯¹è¿™äº›å˜é‡åšæ‹·è´æ˜¯ä¸è®¡ä»£ä»·çš„ã€‚æ ˆçš„å†…å®¹å’Œå¤§å°æ˜¯å·²çŸ¥çš„ï¼Œç¼–è¯‘æ—¶æ‰ç¡®å®šã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> filename<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//è¯»æ–‡ä»¶çš„å¤§å°</span>
  <span class="token keyword keyword-int">int</span> size <span class="token operator">=</span> <span class="token function">getSizeofFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//åˆ†é…å †å†…å­˜</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> buf <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">/** bufæœ¬èº«å­˜æ”¾åœ¨æ ˆä¸Šï¼ŒbufæŒ‡å‘çš„æ˜¯å †å†…å­˜*/</span>

	<span class="token comment">//æŠŠæ–‡ä»¶å†…å®¹è¯»åˆ°bufä¸­</span>
	<span class="token function">readFileToBuf</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//å¤„ç†bufä¸­çš„å†…å®¹</span>
	<span class="token function">process</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//é‡Šæ”¾å †å†…å­˜</span>
	<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>å †ï¼šç¼–è¯‘æ—¶ä¸çŸ¥é“ï¼Œåªæœ‰è¿è¡Œæ—¶æ‰ç¡®å®šã€‚å †æ˜¯è®¡é‡ä»£ä»·çš„ï¼Œå¦‚æœè¦ä½¿ç”¨å †å†…å­˜ï¼Œå¿…é¡»æ‰‹åŠ¨åˆ†é…å’Œæ‰‹åŠ¨å›æ”¶ï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚</li>
<li><em><strong>å†…å­˜æ³„æ¼</strong></em>ï¼š ä¸€ç›´åˆ†é…å†…å­˜ï¼Œä½†ä»ä¸æ‰‹åŠ¨é‡Šæ”¾ï¼Œå°±ä¼šé€ æˆæ“ä½œç³»ç»Ÿæ— å¯ç”¨å†…å­˜ï¼Œnew åˆ†é…çš„å†…å­˜ç›´åˆ°é€šè¿‡deleteè¿˜ç»™æ“ä½œç³»ç»Ÿæ‰ä¼šå¤±æ•ˆï¼Œè€Œä¸”ä½¿ç”¨deleteåçš„å†…å­˜æ˜¯éæ³•çš„ã€‚
<ul>
<li>å†…å­˜æ³„éœ²å…¸å‹æ¡ˆä¾‹ï¼šåœ¨å‡½æ•°åˆ†é…çš„å †å†…å­˜èµ‹ç»™å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œè€Œå¿˜è®°å°†è¯¥å±€éƒ¨å˜é‡ä¼ å‡ºæ¥ï¼Œå†…å­˜æ³„éœ²å‘ç”Ÿåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œç¨‹åºç»“æŸåï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶æ‰€æœ‰ç¨‹åºçš„å†…å­˜ã€‚æ‰€ä»¥å†…å­˜æ³„æ¼å¾€å¾€åœ¨é•¿æœŸè¿è¡Œçš„æœåŠ¡å™¨ä¸Šå‘ç”Ÿã€‚</li>
</ul>
</li>
</ul>
<pre data-role="codeBlock" data-info="C++" class="language-cpp C++"><code><span class="token keyword keyword-char">char</span><span class="token operator">*</span> flle <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//æŠŠå †å†…å­˜è¿˜ç»™æ“ä½œç³»ç»Ÿ</span>
<span class="token keyword keyword-delete">delete</span> file<span class="token punctuation">;</span>
file  <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
</code></pre><h3 id="newå’Œmalloc">newå’Œmalloc </h3>
<ul>
<li>new ä¸€èˆ¬æ˜¯ç”¨mallocå®ç°çš„</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>//C++é£æ ¼
int* pInt <span class="token operator">=</span> new int<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>//100Ã—4ä¸ªå­—èŠ‚
//Cé£æ ¼
int* pInt2 <span class="token operator">=</span> <span class="token punctuation">(</span>int*<span class="token punctuation">)</span>malloc<span class="token punctuation">(</span><span class="token number">100</span> * sizeof<span class="token punctuation">(</span>int<span class="token punctuation">))</span><span class="token punctuation">;</span>//100Ã—4ä¸ªå­—èŠ‚
</code></pre><h3 id="ç±»å’Œå¯¹è±¡">ç±»å’Œå¯¹è±¡ </h3>
<h4 id="1-ç±»class-1">1. ç±»ï¼ˆClassï¼‰ </h4>
<p>ç±»æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ä¸­æœ€å¸¸è§çš„è‡ªå®šä¹‰ç±»å‹ï¼Œå…è®¸å¼€å‘è€…å®šä¹‰å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> age<span class="token punctuation">;</span>

    <span class="token comment">// æ„é€ å‡½æ•°</span>
    <span class="token function">Person</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string n<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> a<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">name</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">// æ–¹æ³•</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, my name is "</span> <span class="token operator">&lt;&lt;</span> name <span class="token operator">&lt;&lt;</span> <span class="token string">" and I am "</span> <span class="token operator">&lt;&lt;</span> age <span class="token operator">&lt;&lt;</span> <span class="token string">" years old."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>é¢è¯•å¸¸è§</strong></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//MSVC</span>
<span class="token comment">//æŒ‡é’ˆï¼š 8å­—èŠ‚</span>
<span class="token comment">//æ€»é•¿åº¦ 4å­—èŠ‚/8å­—èŠ‚</span>
<span class="token comment">//ä½¿ç”¨é•¿åº¦ 4å­—èŠ‚/8å­—èŠ‚</span>

<span class="token comment">//GCC</span>
<span class="token comment">//æŒ‡é’ˆï¼š 8å­—èŠ‚</span>
<span class="token comment">//æŒ‡å‘æœ«å°¾çš„æŒ‡é’ˆ 8å­—èŠ‚</span>
<span class="token comment">//æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆ 8å­—èŠ‚</span>
</code></pre><h4 id="2-ç»“æ„ä½“struct-1">2. ç»“æ„ä½“ï¼ˆStructï¼‰ </h4>
<p>ç»“æ„ä½“ä¸ç±»ç›¸ä¼¼ï¼Œä½†ç»“æ„ä½“çš„æˆå‘˜é»˜è®¤æ˜¯å…¬å…±çš„ï¼Œä¸”é€šå¸¸ç”¨äºå­˜å‚¨æ•°æ®ã€‚</p>
<h2 id="day4-1-æ™ºèƒ½æŒ‡é’ˆ20250318">Day4-1 æ™ºèƒ½æŒ‡é’ˆï¼ˆ2025.03.18ï¼‰ </h2>
<h3 id="æ™ºèƒ½æŒ‡é’ˆçš„ç”¨æ³•">æ™ºèƒ½æŒ‡é’ˆçš„ç”¨æ³• </h3>
<h4 id="myclassç±»å¤´æ–‡ä»¶">MyClassç±»å¤´æ–‡ä»¶ </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//MyClass.h</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">MYCLASS_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MYCLASS_H</span></span>


<span class="token keyword keyword-class">class</span> <span class="token class-name">MyClass</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
  <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">~</span><span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-void">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
  <span class="token keyword keyword-int">int</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// MYCLASS_H</span></span>

</code></pre><pre data-role="codeBlock" data-info="" class="language-text"><code></code></pre><h4 id="myclassç±»å®ç°æ–‡ä»¶">MyClassç±»å®ç°æ–‡ä»¶ </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//MyClass.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"MyClass.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token class-name">MyClass</span><span class="token double-colon punctuation">::</span><span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> val<span class="token punctuation">)</span>
  <span class="token operator">:</span><span class="token function">value</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Constructor: "</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">MyClass</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Destructor: "</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">MyClass</span><span class="token double-colon punctuation">::</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Value: "</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="ä¸»ç¨‹åºmaincpp">ä¸»ç¨‹åºmain.cpp </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"myclass.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token comment">//#include &lt;QApplication&gt;</span>

<span class="token comment">// 1ï¸.å°è¯•è¿”å›ä¸€ä¸ª std::unique_ptr&lt;MyClass&gt; çš„å‡½æ•°</span>
std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span> <span class="token function">createInstance</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… è¿™æ ·æ˜¯å®‰å…¨çš„ï¼Œè¿”å›ä¸´æ—¶ unique_ptr</span>
<span class="token punctuation">}</span>

<span class="token comment">// âŒ é”™è¯¯ç¤ºèŒƒï¼ˆä¸èƒ½è¿”å›å±€éƒ¨å˜é‡çš„ unique_ptrï¼Œå¦åˆ™ä¼šå¯¼è‡´æ‚¬ç©ºæŒ‡é’ˆï¼‰</span>
<span class="token comment">// std::unique_ptr&lt;MyClass&gt; createInvalidInstance() {</span>
<span class="token comment">//     std::unique_ptr&lt;MyClass&gt; ptr = std::make_unique&lt;MyClass&gt;(20);</span>
<span class="token comment">//     return ptr;  // âŒ è¿™æ ·ä¼šå°è¯•æ‹·è´ unique_ptrï¼Œè€Œ unique_ptr ä¸å…è®¸æ‹·è´</span>
<span class="token comment">// }</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testuniqueptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span> ptr1 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ›å»º unique_ptr</span>
  ptr1<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¿é—®æˆå‘˜å‡½æ•°</span>

  <span class="token comment">// std::unique_ptr&lt;MyClass&gt; ptr2 = ptr1; // âŒ é”™è¯¯ï¼unique_ptr ä¸æ”¯æŒæ‹·è´</span>

  <span class="token comment">//std::unique_ptr&lt;MyClass&gt; ptr2 = std::move(ptr1);  // âœ… ä½¿ç”¨ std::move è½¬ç§»æ‰€æœ‰æƒ</span>

  <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ptr1<span class="token punctuation">)</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ptr1 is now nullptr"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">//ptr1å¤±å»æ‰€æœ‰æƒ</span>

  <span class="token comment">// 3ï¸âƒ£ ä½¿ç”¨ createInstance() è¿”å› unique_ptr</span>
  std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span> ptr3 <span class="token operator">=</span> <span class="token function">createInstance</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ptr3<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 4ï¸âƒ£ ä½¿ç”¨ std::vector&lt;std::unique_ptr&lt;MyClass&gt;&gt; å­˜å‚¨å¤šä¸ª unique_ptr</span>
  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;&gt;</span>   myVector<span class="token punctuation">;</span>
  myVector<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myVector<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myVector<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Vector Contentd"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> item <span class="token operator">:</span> myVector<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    item<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testsharedptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span> ptr1 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ›å»º shared_ptr</span>
  <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span> ptr2 <span class="token operator">=</span> ptr1<span class="token punctuation">;</span>  <span class="token comment">// å…±äº« ptr1 çš„å¯¹è±¡ï¼Œå¼•ç”¨è®¡æ•°+1</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ptr2 use count: "</span> <span class="token operator">&lt;&lt;</span> ptr2<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    ptr2<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>  <span class="token comment">// é€€å‡ºä½œç”¨åŸŸï¼Œptr2 é‡Šæ”¾ï¼Œå¼•ç”¨è®¡æ•°-1</span>

  std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span> ptr3 <span class="token operator">=</span> ptr1<span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ptr3 use count: "</span> <span class="token operator">&lt;&lt;</span> ptr3<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  ptr3<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span> ptr4 <span class="token operator">=</span> ptr1<span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ptr4 use count: "</span> <span class="token operator">&lt;&lt;</span> ptr4<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>


  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;&gt;</span> myVector2<span class="token punctuation">;</span>
  myVector2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myVector2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myVector2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">700</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Vector Contentd"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> item <span class="token operator">:</span> myVector2<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    item<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>


  ptr3<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// é‡Šæ”¾ ptr3ï¼Œå¼•ç”¨è®¡æ•° -1</span>
  ptr4<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// é‡Šæ”¾ ptr4ï¼Œå¼•ç”¨è®¡æ•° -1</span>
  ptr1<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// é‡Šæ”¾ ptr1ï¼Œå¼•ç”¨è®¡æ•° -1ï¼Œæ­¤æ—¶åº”è¯¥è°ƒç”¨ææ„å‡½æ•°</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ptr1 use count: "</span> <span class="token operator">&lt;&lt;</span> ptr1<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

  <span class="token comment">// ç¨‹åºç»“æŸï¼Œptr1 é‡Šæ”¾ï¼Œå¼•ç”¨è®¡æ•°å½’ 0ï¼Œææ„å¯¹è±¡</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
  std<span class="token double-colon punctuation">::</span>weak_ptr<span class="token operator">&lt;</span>A<span class="token operator">&gt;</span> a_ptr<span class="token punctuation">;</span>  <span class="token comment">// â—æ”¹æˆ weak_ptr</span>
  <span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B destroyed"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
  std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>B<span class="token operator">&gt;</span> b_ptr<span class="token punctuation">;</span>
  <span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A destroyed"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testweakptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">&gt;</span> a <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>A<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>B<span class="token operator">&gt;</span> b <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>B<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  a<span class="token operator">-&gt;</span>b_ptr <span class="token operator">=</span> b<span class="token punctuation">;</span>  <span class="token comment">// A æŒæœ‰ B</span>
  b<span class="token operator">-&gt;</span>a_ptr <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment">// B **å¼±å¼•ç”¨** Aï¼ˆä¸ä¼šå¢åŠ è®¡æ•°ï¼‰</span>

  <span class="token comment">//return 0ä¹‹å A å’Œ B éƒ½ä¼šè¢«æ­£ç¡®é‡Šæ”¾</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>

	<span class="token comment">//testuniqueptr();</span>

	<span class="token comment">//testsharedptr();</span>
  
	<span class="token function">testweakptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  
  <span class="token comment">//return a.exec();</span>
<span class="token punctuation">}</span>

</code></pre><h2 id="day4-2ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦-c20250319">Day4-2ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ (C++)ï¼ˆ2025.03.19ï¼‰ </h2>
<p>æœ¬ä¸»é¢˜ä»‹ç»å¦‚ä½•ä¸º C++ ç±»ç¼–å†™<em>ç§»åŠ¨æ„é€ å‡½æ•°</em>å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚ ç§»åŠ¨æ„é€ å‡½æ•°ä½¿å³å€¼å¯¹è±¡æ‹¥æœ‰çš„èµ„æºæ— éœ€å¤åˆ¶å³å¯ç§»åŠ¨åˆ°å·¦å€¼ä¸­ã€‚ æœ‰å…³ç§»åŠ¨è¯­ä¹‰çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://learn.microsoft.com/zh-cn/cpp/cpp/rvalue-reference-declarator-amp-amp?view=msvc-170">Rvalue å¼•ç”¨å£°æ˜ç¬¦ï¼š&amp;&amp;</a>ã€‚</p>
<p>æ­¤ä¸»é¢˜åŸºäºç”¨äºç®¡ç†å†…å­˜ç¼“å†²åŒºçš„ C++ ç±» <code>MemoryBlock</code>ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// MemoryBlock.h</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MemoryBlock</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

   <span class="token comment">// Simple constructor that initializes the resource.</span>
   <span class="token keyword keyword-explicit">explicit</span> <span class="token function">MemoryBlock</span><span class="token punctuation">(</span>size_t length<span class="token punctuation">)</span>
      <span class="token operator">:</span> <span class="token function">_length</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>
      <span class="token punctuation">,</span> <span class="token function">_data</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"In MemoryBlock(size_t). length = "</span>
                <span class="token operator">&lt;&lt;</span> _length <span class="token operator">&lt;&lt;</span> <span class="token string">"."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// Destructor.</span>
   <span class="token operator">~</span><span class="token function">MemoryBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"In ~MemoryBlock(). length = "</span>
                <span class="token operator">&lt;&lt;</span> _length <span class="token operator">&lt;&lt;</span> <span class="token string">"."</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_data <span class="token operator">!=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" Deleting resource."</span><span class="token punctuation">;</span>
         <span class="token comment">// Delete the resource.</span>
         <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _data<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// Copy constructor.</span>
   <span class="token function">MemoryBlock</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> MemoryBlock<span class="token operator">&amp;</span> other<span class="token punctuation">)</span>
      <span class="token operator">:</span> <span class="token function">_length</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>_length<span class="token punctuation">)</span>
      <span class="token punctuation">,</span> <span class="token function">_data</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">[</span>other<span class="token punctuation">.</span>_length<span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"In MemoryBlock(const MemoryBlock&amp;). length = "</span>
                <span class="token operator">&lt;&lt;</span> other<span class="token punctuation">.</span>_length <span class="token operator">&lt;&lt;</span> <span class="token string">". Copying resource."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

      std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>_data<span class="token punctuation">,</span> other<span class="token punctuation">.</span>_data <span class="token operator">+</span> _length<span class="token punctuation">,</span> _data<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// Copy assignment operator.</span>
   MemoryBlock<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> MemoryBlock<span class="token operator">&amp;</span> other<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"In operator=(const MemoryBlock&amp;). length = "</span>
                <span class="token operator">&lt;&lt;</span> other<span class="token punctuation">.</span>_length <span class="token operator">&lt;&lt;</span> <span class="token string">". Copying resource."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

      <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
         <span class="token comment">// Free the existing resource.</span>
         <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _data<span class="token punctuation">;</span>

         _length <span class="token operator">=</span> other<span class="token punctuation">.</span>_length<span class="token punctuation">;</span>
         _data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">[</span>_length<span class="token punctuation">]</span><span class="token punctuation">;</span>
         std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>_data<span class="token punctuation">,</span> other<span class="token punctuation">.</span>_data <span class="token operator">+</span> _length<span class="token punctuation">,</span> _data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// Retrieves the length of the data resource.</span>
   size_t <span class="token function">Length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
   <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> _length<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
   size_t _length<span class="token punctuation">;</span> <span class="token comment">// The length of the resource.</span>
   <span class="token keyword keyword-int">int</span><span class="token operator">*</span> _data<span class="token punctuation">;</span> <span class="token comment">// The resource.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>ä»¥ä¸‹è¿‡ç¨‹ä»‹ç»å¦‚ä½•ä¸ºç¤ºä¾‹ C++ ç±»ç¼–å†™ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚</p>
<h3 id="ä¸º-c-åˆ›å»ºç§»åŠ¨æ„é€ å‡½æ•°">ä¸º C++ åˆ›å»ºç§»åŠ¨æ„é€ å‡½æ•° </h3>
<ol>
<li>
<p>å®šä¹‰ä¸€ä¸ªç©ºçš„æ„é€ å‡½æ•°æ–¹æ³•ï¼Œè¯¥æ–¹æ³•é‡‡ç”¨ä¸€ä¸ªå¯¹ç±»ç±»å‹çš„å³å€¼å¼•ç”¨ä½œä¸ºå‚æ•°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token function">MemoryBlock</span><span class="token punctuation">(</span>MemoryBlock<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span>
   <span class="token operator">:</span> <span class="token function">_data</span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span>
   <span class="token punctuation">,</span> <span class="token function">_length</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>åœ¨ç§»åŠ¨æ„é€ å‡½æ•°ä¸­ï¼Œå°†æºå¯¹è±¡ä¸­çš„ç±»æ•°æ®æˆå‘˜æ·»åŠ åˆ°è¦æ„é€ çš„å¯¹è±¡ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>_data <span class="token operator">=</span> other<span class="token punctuation">.</span>_data<span class="token punctuation">;</span>
_length <span class="token operator">=</span> other<span class="token punctuation">.</span>_length<span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>å°†æºå¯¹è±¡çš„æ•°æ®æˆå‘˜åˆ†é…ç»™é»˜è®¤å€¼ã€‚ è¿™å¯ä»¥é˜²æ­¢ææ„å‡½æ•°å¤šæ¬¡é‡Šæ”¾èµ„æºï¼ˆå¦‚å†…å­˜ï¼‰:</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>other<span class="token punctuation">.</span>_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
other<span class="token punctuation">.</span>_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<h3 id="ä¸º-c-ç±»åˆ›å»ºç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦">ä¸º C++ ç±»åˆ›å»ºç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ </h3>
<ol>
<li>
<p>å®šä¹‰ä¸€ä¸ªç©ºçš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œè¯¥è¿ç®—ç¬¦é‡‡ç”¨ä¸€ä¸ªå¯¹ç±»ç±»å‹çš„å³å€¼å¼•ç”¨ä½œä¸ºå‚æ•°å¹¶è¿”å›ä¸€ä¸ªå¯¹ç±»ç±»å‹çš„å¼•ç”¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<p>C++å¤åˆ¶</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>MemoryBlock<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>MemoryBlock<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>åœ¨ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ä¸­ï¼Œå¦‚æœå°è¯•å°†å¯¹è±¡èµ‹ç»™è‡ªèº«ï¼Œåˆ™æ·»åŠ ä¸æ‰§è¡Œè¿ç®—çš„æ¡ä»¶è¯­å¥ã€‚</p>
<p>C++å¤åˆ¶</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>åœ¨æ¡ä»¶è¯­å¥ä¸­ï¼Œä»è¦å°†å…¶èµ‹å€¼çš„å¯¹è±¡ä¸­é‡Šæ”¾æ‰€æœ‰èµ„æºï¼ˆå¦‚å†…å­˜ï¼‰ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹ä»è¦å°†å…¶èµ‹å€¼çš„å¯¹è±¡ä¸­é‡Šæ”¾ <code>_data</code> æˆå‘˜ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// Free the existing resource.</span>
<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _data<span class="token punctuation">;</span>
</code></pre><p>æ‰§è¡Œç¬¬ä¸€ä¸ªè¿‡ç¨‹ä¸­çš„æ­¥éª¤ 2 å’Œæ­¥éª¤ 3 ä»¥å°†æ•°æ®æˆå‘˜ä»æºå¯¹è±¡è½¬ç§»åˆ°è¦æ„é€ çš„å¯¹è±¡ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// Copy the data pointer and its length from the</span>
<span class="token comment">// source object.</span>
_data <span class="token operator">=</span> other<span class="token punctuation">.</span>_data<span class="token punctuation">;</span>
_length <span class="token operator">=</span> other<span class="token punctuation">.</span>_length<span class="token punctuation">;</span>

<span class="token comment">// Release the data pointer from the source object so that</span>
<span class="token comment">// the destructor does not free the memory multiple times.</span>
other<span class="token punctuation">.</span>_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
other<span class="token punctuation">.</span>_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>è¿”å›å¯¹å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<h3 id="ç¤ºä¾‹å®Œæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦">ç¤ºä¾‹ï¼šå®Œæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ </h3>
<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº† <code>MemoryBlock</code> ç±»çš„å®Œæ•´ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// Move constructor.</span>
<span class="token function">MemoryBlock</span><span class="token punctuation">(</span>MemoryBlock<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword keyword-noexcept">noexcept</span>
   <span class="token operator">:</span> <span class="token function">_data</span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span>
   <span class="token punctuation">,</span> <span class="token function">_length</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"In MemoryBlock(MemoryBlock&amp;&amp;). length = "</span>
             <span class="token operator">&lt;&lt;</span> other<span class="token punctuation">.</span>_length <span class="token operator">&lt;&lt;</span> <span class="token string">". Moving resource."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

   <span class="token comment">// Copy the data pointer and its length from the</span>
   <span class="token comment">// source object.</span>
   _data <span class="token operator">=</span> other<span class="token punctuation">.</span>_data<span class="token punctuation">;</span>
   _length <span class="token operator">=</span> other<span class="token punctuation">.</span>_length<span class="token punctuation">;</span>

   <span class="token comment">// Release the data pointer from the source object so that</span>
   <span class="token comment">// the destructor does not free the memory multiple times.</span>
   other<span class="token punctuation">.</span>_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
   other<span class="token punctuation">.</span>_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Move assignment operator.</span>
MemoryBlock<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>MemoryBlock<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword keyword-noexcept">noexcept</span>
<span class="token punctuation">{</span>
   std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"In operator=(MemoryBlock&amp;&amp;). length = "</span>
             <span class="token operator">&lt;&lt;</span> other<span class="token punctuation">.</span>_length <span class="token operator">&lt;&lt;</span> <span class="token string">"."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

   <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
      <span class="token comment">// Free the existing resource.</span>
      <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _data<span class="token punctuation">;</span>

      <span class="token comment">// Copy the data pointer and its length from the</span>
      <span class="token comment">// source object.</span>
      _data <span class="token operator">=</span> other<span class="token punctuation">.</span>_data<span class="token punctuation">;</span>
      _length <span class="token operator">=</span> other<span class="token punctuation">.</span>_length<span class="token punctuation">;</span>

      <span class="token comment">// Release the data pointer from the source object so that</span>
      <span class="token comment">// the destructor does not free the memory multiple times.</span>
      other<span class="token punctuation">.</span>_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
      other<span class="token punctuation">.</span>_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="ç¤ºä¾‹-ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰æ¥æé«˜æ€§èƒ½">ç¤ºä¾‹ ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰æ¥æé«˜æ€§èƒ½ </h3>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºç§»åŠ¨è¯­ä¹‰å¦‚ä½•èƒ½æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚ æ­¤ç¤ºä¾‹å°†ä¸¤ä¸ªå…ƒç´ æ·»åŠ åˆ°ä¸€ä¸ªçŸ¢é‡å¯¹è±¡ï¼Œç„¶ååœ¨ä¸¤ä¸ªç°æœ‰å…ƒç´ ä¹‹é—´æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ã€‚ <code>vector</code> ç±»ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰ï¼Œé€šè¿‡ç§»åŠ¨çŸ¢é‡å…ƒç´ ï¼ˆè€Œéå¤åˆ¶å®ƒä»¬ï¼‰æ¥é«˜æ•ˆåœ°æ‰§è¡Œæ’å…¥æ“ä½œã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// rvalue-references-move-semantics.cpp</span>
<span class="token comment">// compile with: /EHsc</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"MemoryBlock.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment">// Create a vector object and add a few elements to it.</span>
   vector<span class="token operator">&lt;</span>MemoryBlock<span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
   v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">MemoryBlock</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">MemoryBlock</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">// Insert a new element into the second position of the vector.</span>
   v<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">MemoryBlock</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>è¯¥ç¤ºä¾‹äº§ç”Ÿä¸‹é¢çš„è¾“å‡ºï¼š</p>
<pre data-role="codeBlock" data-info="Output" class="language-output Output"><code>In MemoryBlock(size_t). length = 25.
In MemoryBlock(MemoryBlock&amp;&amp;). length = 25. Moving resource.
In ~MemoryBlock(). length = 0.
In MemoryBlock(size_t). length = 75.
In MemoryBlock(MemoryBlock&amp;&amp;). length = 75. Moving resource.
In MemoryBlock(MemoryBlock&amp;&amp;). length = 25. Moving resource.
In ~MemoryBlock(). length = 0.
In ~MemoryBlock(). length = 0.
In MemoryBlock(size_t). length = 50.
In MemoryBlock(MemoryBlock&amp;&amp;). length = 50. Moving resource.
In MemoryBlock(MemoryBlock&amp;&amp;). length = 25. Moving resource.
In MemoryBlock(MemoryBlock&amp;&amp;). length = 75. Moving resource.
In ~MemoryBlock(). length = 0.
In ~MemoryBlock(). length = 0.
In ~MemoryBlock(). length = 0.
In ~MemoryBlock(). length = 25. Deleting resource.
In ~MemoryBlock(). length = 50. Deleting resource.
In ~MemoryBlock(). length = 75. Deleting resource.
</code></pre><p>åœ¨ Visual Studio 2010 ä¹‹å‰ï¼Œæ­¤ç¤ºä¾‹ç”Ÿæˆäº†ä»¥ä¸‹è¾“å‡ºï¼š</p>
<pre data-role="codeBlock" data-info="Output" class="language-output Output"><code>In MemoryBlock(size_t). length = 25.
In MemoryBlock(const MemoryBlock&amp;). length = 25. Copying resource.
In ~MemoryBlock(). length = 25. Deleting resource.
In MemoryBlock(size_t). length = 75.
In MemoryBlock(const MemoryBlock&amp;). length = 25. Copying resource.
In ~MemoryBlock(). length = 25. Deleting resource.
In MemoryBlock(const MemoryBlock&amp;). length = 75. Copying resource.
In ~MemoryBlock(). length = 75. Deleting resource.
In MemoryBlock(size_t). length = 50.
In MemoryBlock(const MemoryBlock&amp;). length = 50. Copying resource.
In MemoryBlock(const MemoryBlock&amp;). length = 50. Copying resource.
In operator=(const MemoryBlock&amp;). length = 75. Copying resource.
In operator=(const MemoryBlock&amp;). length = 50. Copying resource.
In ~MemoryBlock(). length = 50. Deleting resource.
In ~MemoryBlock(). length = 50. Deleting resource.
In ~MemoryBlock(). length = 25. Deleting resource.
In ~MemoryBlock(). length = 50. Deleting resource.
In ~MemoryBlock(). length = 75. Deleting resource.
</code></pre><p>ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰çš„æ­¤ç¤ºä¾‹ç‰ˆæœ¬æ¯”ä¸ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰çš„ç‰ˆæœ¬æ›´é«˜æ•ˆï¼Œå› ä¸ºå‰è€…æ‰§è¡Œçš„å¤åˆ¶ã€å†…å­˜åˆ†é…å’Œå†…å­˜é‡Šæ”¾æ“ä½œæ›´å°‘ã€‚</p>
<h3 id="å¯é ç¼–ç¨‹">å¯é ç¼–ç¨‹ </h3>
<p>è‹¥è¦é˜²æ­¢èµ„æºæ³„æ¼ï¼Œè¯·å§‹ç»ˆé‡Šæ”¾ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„èµ„æºï¼ˆå¦‚å†…å­˜ã€æ–‡ä»¶å¥æŸ„å’Œå¥—æ¥å­—ï¼‰ã€‚</p>
<p>è‹¥è¦é˜²æ­¢ä¸å¯æ¢å¤çš„èµ„æºæŸåï¼Œè¯·æ­£ç¡®å¤„ç†ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ä¸­çš„è‡ªæˆ‘èµ‹å€¼ã€‚</p>
<p>å¦‚æœä¸ºä½ çš„ç±»åŒæ—¶æä¾›äº†ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œåˆ™å¯ä»¥ç¼–å†™ç§»åŠ¨æ„é€ å‡½æ•°æ¥è°ƒç”¨ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œä»è€Œæ¶ˆé™¤å†—ä½™ä»£ç ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†è°ƒç”¨ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦çš„ç§»åŠ¨æ„é€ å‡½æ•°çš„ä¿®æ”¹åçš„ç‰ˆæœ¬ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// Move constructor.</span>
<span class="token function">MemoryBlock</span><span class="token punctuation">(</span>MemoryBlock<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword keyword-noexcept">noexcept</span>
   <span class="token operator">:</span> <span class="token function">_data</span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span>
   <span class="token punctuation">,</span> <span class="token function">_length</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token operator">*</span><span class="token keyword keyword-this">this</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><a href="https://learn.microsoft.com/zh-cn/cpp/standard-library/utility-functions?view=msvc-170#move">std::move</a> å‡½æ•°å°†å·¦å€¼ <code>other</code> è½¬æ¢ä¸ºå³å€¼ã€‚</p>
<h2 id="day4-3-cå››å¤§å‡½æ•°æ„é€ æ‹·è´æ„é€ ææ„èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°20250319">Day4-3 C++å››å¤§å‡½æ•°ï¼ˆæ„é€ /æ‹·è´æ„é€ /ææ„/èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼‰ï¼ˆ2025.03.19ï¼‰ </h2>
<h3 id="pointç±»">Pointç±» </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Point</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> ix <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> iy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_ix</span><span class="token punctuation">(</span>ix<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_iy</span><span class="token punctuation">(</span>iy<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point(int,int)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Point()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//æ‹·è´æ„é€ å‡½æ•°</span>
	<span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_ix</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_ix<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_iy</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_iy<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point(const Point&amp;)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//é—®é¢˜1ï¼šæ‹·è´æ„é€ å‡½æ•°ä¸­çš„å¼•ç”¨ç¬¦å·èƒ½ä¸èƒ½å»æ‰ï¼Ÿ</span>
	<span class="token comment">//é—®é¢˜2ï¼šæ‹·è´æ„é€ å‡½æ•°ä¸­çš„constå…³é”®å­—èƒ½ä¸èƒ½å»æ‰ï¼Ÿ</span>

	<span class="token comment">//è§£ç­”1ï¼šå»æ‰å¼•ç”¨ç¬¦å·ï¼Œä¼šå¯¼è‡´æ— ç©·é€’å½’è°ƒç”¨ï¼Œç›´åˆ°æ ˆæº¢å‡ºï¼ˆæ»¡è¶³æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº1ï¼šå½¢å‚ä¸å®å‚ç»“åˆï¼‰</span>
	<span class="token comment">//è§£ç­”2ï¼šå»æ‰constå…³é”®å­—ï¼Œä¼šå¯¼è‡´æ— æ³•ä¼ é€’å³å€¼ï¼Œå³æ— æ³•ä¼ é€’ä¸´æ—¶å¯¹è±¡</span>

	<span class="token comment">//å·¦å€¼å’Œå³å€¼</span>
	<span class="token keyword keyword-int">int</span> number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref <span class="token operator">=</span> number<span class="token punctuation">;</span><span class="token comment">//å·¦å€¼å¼•ç”¨</span>

	<span class="token comment">//int&amp; ref1 = 10;//é”™è¯¯ï¼Œä¸èƒ½å°†å³å€¼èµ‹å€¼ç»™å·¦å€¼å¼•ç”¨</span>
	<span class="token keyword keyword-int">int</span><span class="token operator">&amp;&amp;</span> ref2 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//å³å€¼å¼•ç”¨</span>
	<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref3 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//å¸¸é‡å·¦å€¼å¼•ç”¨</span>


	<span class="token comment">//èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°</span>
	Point<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point&amp; operator=(const Point&amp;)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			_ix <span class="token operator">=</span> rhs<span class="token punctuation">.</span>_ix<span class="token punctuation">;</span>
			_iy <span class="token operator">=</span> rhs<span class="token punctuation">.</span>_iy<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> _ix
			<span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> _iy
			<span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> _ix<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> _iy<span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword keyword-class">class</span> <span class="token class-name">Line</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Line</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x1<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y1<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> x2<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y2<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pt1</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token comment">//å¦‚æœä¸æ˜¾ç¤ºè°ƒç”¨æ„é€ å‡½æ•°ï¼Œä¼šè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥æœ€å¥½å¯ä»¥æ˜¾ç¤ºåˆå§‹åŒ–å­å¯¹è±¡</span>
		<span class="token punctuation">,</span> <span class="token function">_pt2</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">//cout &lt;&lt; "Line(int,int,int,int)" &lt;&lt; endl;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//é—®é¢˜ï¼šä¸ºä»€ä¹ˆæ²¡æœ‰å®šä¹‰ææ„å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰è°ƒç”¨ææ„å‡½æ•°ï¼Œå°±èƒ½é‡Šæ”¾èµ„æºï¼Ÿ</span>
	<span class="token comment">// å®šä¹‰ææ„å‡½æ•°</span>
	<span class="token operator">~</span><span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Line()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		_pt1<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"----&gt;"</span><span class="token punctuation">;</span>
		_pt2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	Point _pt1<span class="token punctuation">;</span>
	Point _pt2<span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Line <span class="token function">line</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	line<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	Point pt<span class="token punctuation">;</span><span class="token comment">//æ ˆå¯¹è±¡</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pt = "</span><span class="token punctuation">;</span>
	pt<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//Point* p = new Point();//å †å¯¹è±¡</span>

	Point <span class="token function">pt2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ ˆå¯¹è±¡</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pt2 = "</span><span class="token punctuation">;</span>
	pt2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	Point pt3 <span class="token operator">=</span> pt2<span class="token punctuation">;</span><span class="token comment">//æ‹·è´æ„é€ å‡½æ•°</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pt3 = "</span><span class="token punctuation">;</span>
	pt3<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Point <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Point <span class="token function">pt3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pt3 = "</span><span class="token punctuation">;</span>
	pt3<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> pt3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Point pt4 <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pt4 = "</span><span class="token punctuation">;</span>
	pt4<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"begin test..."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//test();</span>

	<span class="token comment">//test1();</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"end test..."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"sizeof(Point)= "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>Point<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token function">testLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="computerç±»">Computerç±» </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//Computer.h</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Computer</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Computer</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> brand<span class="token punctuation">,</span><span class="token keyword keyword-float">float</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Computer</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Computer<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Computer <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Computer<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">~</span><span class="token function">Computer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-void">void</span> <span class="token function">printTotalPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é™æ€æˆå‘˜å‡½æ•°void printTotalPrice();</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> _brand<span class="token punctuation">;</span>
	<span class="token keyword keyword-float">float</span> _price<span class="token punctuation">;</span>
	<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-float">float</span> _totalPrice<span class="token punctuation">;</span><span class="token comment">//é™æ€æ•°æ®æˆå‘˜</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


</code></pre><p>å®ç°æ–‡ä»¶</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Computer.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>

<span class="token keyword keyword-float">float</span> Computer<span class="token double-colon punctuation">::</span>_totalPrice <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">;</span>

<span class="token comment">/*
1.	æ„é€ å‡½æ•°ï¼š
â€¢	Computer(const char* brand, float price)ï¼šåˆ†é…å†…å­˜å¹¶å¤åˆ¶å“ç‰Œå­—ç¬¦ä¸²ã€‚
2.	æ‹·è´æ„é€ å‡½æ•°ï¼š
â€¢	Computer(const Computer&amp; rhs)ï¼šåˆ†é…æ–°å†…å­˜å¹¶å¤åˆ¶ rhs çš„å“ç‰Œå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ç®€å•åœ°å¤åˆ¶æŒ‡é’ˆã€‚
3.	ææ„å‡½æ•°ï¼š
â€¢	~Computer()ï¼šé‡Šæ”¾åˆ†é…çš„å†…å­˜ã€‚
*/</span>
<span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">Computer</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> brand<span class="token punctuation">,</span> <span class="token keyword keyword-float">float</span> price<span class="token punctuation">)</span>
  <span class="token operator">:</span> <span class="token function">_brand</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">,</span> <span class="token function">_price</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Computer(const char*,float)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  <span class="token function">strcpy_s</span><span class="token punctuation">(</span>_brand<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>

	_totalPrice <span class="token operator">+=</span> _price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//Computer::Computer(const Computer&amp; rhs) </span>
<span class="token comment">//  : _brand(rhs._brand)  // æµ…æ‹·è´</span>
<span class="token comment">//  , _price(rhs._price)</span>

<span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">Computer</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Computer<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
  <span class="token operator">:</span> <span class="token function">_brand</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æ·±æ‹·è´</span>
  <span class="token punctuation">,</span> <span class="token function">_price</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_price<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Computer(const Computer&amp;)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  <span class="token function">strcpy_s</span><span class="token punctuation">(</span>_brand<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_brand<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¤åˆ¶å†…å®¹</span>
<span class="token punctuation">}</span>

<span class="token comment">/*èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ä¸­éœ€è¦å…³æ³¨çš„å‡ ä¸ªé—®é¢˜*/</span>
<span class="token comment">//èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°å‚æ•°ä¸­çš„å¼•ç”¨ç¬¦å·èƒ½ä¸èƒ½å»æ‰ï¼Ÿ</span>
<span class="token comment">//èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°å‚æ•°ä¸­çš„constå…³é”®å­—èƒ½ä¸èƒ½å»æ‰ï¼Ÿ</span>
<span class="token comment">//èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°è¿”å›ç±»å‹ä¸­çš„å¼•ç”¨èƒ½ä¸èƒ½å»æ‰ï¼Ÿ</span>
<span class="token comment">//èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°çš„è¿”å›ç±»å‹å¯ä»¥ä¸æ˜¯å¯¹è±¡å—ï¼Ÿ</span>

<span class="token comment">//è§£ç­”1ï¼šåœ¨å½¢å‚ä¸å®å‚ç»“åˆçš„æ—¶å€™ï¼Œä¼šå¤šæ‰§è¡Œä¸€æ¬¡æ‹·è´æ„é€ å‡½æ•°</span>
<span class="token comment">//è§£ç­”2ï¼šå»æ‰constå…³é”®å­—ï¼Œä¼šå¯¼è‡´æ— æ³•ä¼ é€’å³å€¼ï¼Œå³æ— æ³•ä¼ é€’ä¸´æ—¶å¯¹è±¡</span>
<span class="token comment">//è§£ç­”3ï¼šå‡½æ•°çš„è¿”å›ç±»å‹æ˜¯ç±»ç±»å‹çš„æ—¶å€™ï¼Œä¼šæ»¡è¶³æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ¡ä»¶</span>
<span class="token comment">//è§£ç­”4ï¼šè¿”å›ç±»å‹å¯ä»¥ä¸æ˜¯å¯¹è±¡ï¼Œä½†æ˜¯ä¼šå¯¼è‡´æ— æ³•è¿ç»­èµ‹å€¼ pc3 = pc2 = pc1</span>
Computer Computer<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Computer<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">// TODO: åœ¨æ­¤å¤„æ’å…¥ return è¯­å¥</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Computer&amp; operator=(const Computer&amp;)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token comment">// é˜²æ­¢è‡ªå¤åˆ¶ pc = pc</span>
  <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _brand<span class="token punctuation">;</span>
		_brand <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_brand<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
		_price <span class="token operator">=</span> rhs<span class="token punctuation">.</span>_price<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
	<span class="token comment">//_brand = rhs._brand;// æµ…æ‹·è´</span>
	<span class="token comment">//_price = rhs._price;// æµ…æ‹·è´</span>
	<span class="token comment">/*
  * é—®é¢˜1ï¼šä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å—å†…å­˜ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå¯¹è±¡é‡Šæ”¾å†…å­˜åï¼Œå¦ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆå°±å˜æˆäº†é‡æŒ‡é’ˆï¼ˆdouble freeï¼‰
	* ä¾‹å¦‚ï¼špc2 = pcï¼›pc2ææ„é‡Šæ”¾å†…å­˜åï¼Œpcçš„ææ„å‡½æ•°å†æ¬¡é‡Šæ”¾å†…å­˜ï¼Œå¯¼è‡´double free
  */</span>
  
	<span class="token comment">//double free çš„è§£å†³åŠæ³•ï¼šä½¿ç”¨æ·±æ‹·è´</span>

	<span class="token comment">/*
  * é—®é¢˜2ï¼šä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å—å†…å­˜ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå¯¹è±¡é‡Šæ”¾å†…å­˜åï¼Œå¦ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆå°±å˜æˆäº†æ‚¬ç©ºæŒ‡é’ˆï¼ˆdangling pointerï¼‰
  * pc2æ”¹å˜æŒ‡é’ˆæŒ‡å‘ä¹‹åï¼ŒåŸæ¥pc2æŒ‡å‘çš„é‚£å—å †å†…å­˜å°±æ‰¾ä¸åˆ°äº†
  */</span>

	<span class="token comment">//å†…å­˜æ³„æ¼çš„è§£å†³åŠæ³•ï¼šdelete[] _brand; _brand = new char[strlen(rhs._brand) + 1](); strcpy(_brand, rhs._brand);</span>
	<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Computer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Computer()"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	_totalPrice <span class="token operator">-=</span> _price<span class="token punctuation">;</span>
  <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_brand<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _brand<span class="token punctuation">;</span>
		_brand <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> brand<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment">// è¿™é‡Œå¯ä»¥å®ç°è®¾ç½®å“ç‰Œçš„é€»è¾‘</span>
  <span class="token comment">// é‡Šæ”¾æ—§çš„å“ç‰Œå†…å­˜</span>
  <span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _brand<span class="token punctuation">;</span>
  <span class="token comment">// åˆ†é…æ–°å†…å­˜å¹¶å¤åˆ¶å“ç‰Œ</span>
  _brand <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">strcpy_s</span><span class="token punctuation">(</span>_brand<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token keyword keyword-void">void</span> <span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> price<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment">// è¿™é‡Œå¯ä»¥å®ç°è®¾ç½®ä»·æ ¼çš„é€»è¾‘</span>
	_price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"print()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"brand:"</span> <span class="token operator">&lt;&lt;</span> _brand <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"price:"</span> <span class="token operator">&lt;&lt;</span> _price <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"print() const"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"brand:"</span> <span class="token operator">&lt;&lt;</span> _brand <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"price:"</span> <span class="token operator">&lt;&lt;</span> _price <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">printTotalPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"total price:"</span> <span class="token operator">&lt;&lt;</span> _totalPrice <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testStaticMember</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è´­ä¹°ç¬¬ä¸€å°ç”µè„‘å‰çš„æ€»ä»·ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token class-name">Computer</span><span class="token double-colon punctuation">::</span><span class="token function">printTotalPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Computer <span class="token function">pc</span><span class="token punctuation">(</span><span class="token string">"lenovo"</span><span class="token punctuation">,</span> <span class="token number">5555</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è´­ä¹°ç¬¬ä¸€å°ç”µè„‘åçš„æ€»ä»·ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	pc<span class="token punctuation">.</span><span class="token function">printTotalPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Computer <span class="token function">pc2</span><span class="token punctuation">(</span><span class="token string">"Mac"</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è´­ä¹°ç¬¬äºŒå°ç”µè„‘åçš„æ€»ä»·ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">printTotalPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token string">"Mac"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testCopyConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Computer <span class="token function">pc</span><span class="token punctuation">(</span><span class="token string">"lenovo"</span><span class="token punctuation">,</span> <span class="token number">5555</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/*pc.setBrand("ThinkPad");
  pc.setPrice(8888);*/</span>
  pc<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  Computer pc2 <span class="token operator">=</span> pc<span class="token punctuation">;</span>
  pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token string">"Mac"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword keyword-void">void</span> <span class="token function">testAssignmentOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	Computer <span class="token function">pc</span><span class="token punctuation">(</span><span class="token string">"lenovo"</span><span class="token punctuation">,</span> <span class="token number">5555</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pc: "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	pc<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Computer <span class="token function">pc2</span><span class="token punctuation">(</span><span class="token string">"Mac"</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pc2: "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc2 <span class="token operator">=</span> pc<span class="token punctuation">;</span>
  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"pc2: "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  pc2 <span class="token operator">=</span> <span class="token function">Computer</span><span class="token punctuation">(</span><span class="token string">"lenovo"</span><span class="token punctuation">,</span> <span class="token number">6666</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testConst</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//constå¯¹è±¡åªèƒ½è°ƒç”¨constæˆå‘˜å‡½æ•°ï¼Œéconstå¯¹è±¡å¯ä»¥è°ƒç”¨ä»»æ„æˆå‘˜å‡½æ•°</span>
	<span class="token keyword keyword-const">const</span> Computer <span class="token function">pc</span><span class="token punctuation">(</span><span class="token string">"lenovo"</span><span class="token punctuation">,</span> <span class="token number">5555</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	Computer <span class="token function">pc2</span><span class="token punctuation">(</span><span class="token string">"Mac"</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pc2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment">//testCopyConstructor();</span>

	<span class="token comment">//testAssignmentOperator();</span>

	<span class="token comment">//testStaticMember();</span>

	<span class="token function">testConst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><hr>
<h2 id="day4-4-new-ä¸-delete-è¡¨è¾¾å¼20250320">Day4-4 New ä¸ delete è¡¨è¾¾å¼ï¼ˆ2025.03.20ï¼‰ </h2>
<p>åœ¨ C++ ä¸­ï¼Œ<code>new</code> å’Œ <code>delete</code> æ˜¯ç”¨äºåŠ¨æ€å†…å­˜ç®¡ç†çš„å…³é”®å­—ã€‚å®ƒä»¬åˆ†åˆ«ç”¨äºåœ¨å †ä¸Šåˆ†é…å’Œé‡Šæ”¾å¯¹è±¡æˆ–æ•°ç»„ã€‚</p>
<h3 id="1-new-è¡¨è¾¾å¼çš„ä¸‰ä¸ªæ­¥éª¤">1. <code>new</code> è¡¨è¾¾å¼çš„ä¸‰ä¸ªæ­¥éª¤ </h3>
<ol>
<li>
<p><strong>è°ƒç”¨ <code>operator new</code> æ ‡å‡†åº“å‡½æ•°</strong></p>
<ul>
<li><code>operator new</code> è´Ÿè´£åœ¨å †ä¸Šç”³è¯·ä¸€å—åŸå§‹çš„ã€æœªåˆå§‹åŒ–çš„å†…å­˜ç©ºé—´ï¼Œä»¥ä¾¿å­˜å‚¨å¯¹è±¡ã€‚</li>
<li>å¦‚æœç”³è¯·å¤±è´¥ï¼Œä¼šæŠ›å‡º <code>std::bad_alloc</code> å¼‚å¸¸ï¼ˆé™¤éä½¿ç”¨ <code>nothrow</code> ç‰ˆæœ¬çš„ <code>new</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è°ƒç”¨æ„é€ å‡½æ•°</strong></p>
<ul>
<li>åœ¨ç”³è¯·åˆ°çš„å†…å­˜ç©ºé—´ä¸Šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å¯¹è±¡çš„æ•°æ®æˆå‘˜ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿”å›æŒ‡é’ˆ</strong></p>
<ul>
<li>è¿”å›æŒ‡å‘æ–°åˆ†é…å¯¹è±¡çš„æŒ‡é’ˆï¼Œä»¥ä¾›ç¨‹åºä½¿ç”¨ã€‚</li>
</ul>
</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A() constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~A() destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    A<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> A<span class="token punctuation">;</span>  <span class="token comment">// è°ƒç”¨ operator new ç”³è¯·å†…å­˜ -&gt; è°ƒç”¨æ„é€ å‡½æ•° -&gt; è¿”å›æŒ‡é’ˆ</span>
    <span class="token keyword keyword-delete">delete</span> p<span class="token punctuation">;</span>      <span class="token comment">// è°ƒç”¨ææ„å‡½æ•° -&gt; è°ƒç”¨ operator delete é‡Šæ”¾å†…å­˜</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="2-delete-è¡¨è¾¾å¼çš„ä¸¤ä¸ªæ­¥éª¤">2. <code>delete</code> è¡¨è¾¾å¼çš„ä¸¤ä¸ªæ­¥éª¤ </h3>
<ol>
<li>
<p><strong>è°ƒç”¨ææ„å‡½æ•°</strong></p>
<ul>
<li>åœ¨é‡Šæ”¾å¯¹è±¡æ‰€å çš„å†…å­˜å‰ï¼Œå…ˆæ‰§è¡Œææ„å‡½æ•°ï¼Œä»¥å›æ”¶å¯¹è±¡çš„æ•°æ®æˆå‘˜æ‰€å ç”¨çš„èµ„æºï¼ˆå¦‚åŠ¨æ€åˆ†é…çš„å†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è°ƒç”¨ <code>operator delete</code> åº“å‡½æ•°</strong></p>
<ul>
<li>é‡Šæ”¾å¯¹è±¡æœ¬èº«æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œä½¿å…¶å¯è¢«é‡æ–°åˆ†é…ã€‚</li>
</ul>
</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>A<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> A<span class="token punctuation">;</span>
<span class="token keyword keyword-delete">delete</span> p<span class="token punctuation">;</span> <span class="token comment">// å…ˆè°ƒç”¨ææ„å‡½æ•°ï¼Œå†é‡Šæ”¾å†…å­˜</span>
</code></pre><h3 id="3-new-ä¸-delete">3. <code>new[]</code> ä¸ <code>delete[]</code> </h3>
<ul>
<li><code>new[]</code> ç”¨äºåŠ¨æ€åˆ†é…å¯¹è±¡æ•°ç»„ï¼Œå¿…é¡»ä½¿ç”¨ <code>delete[]</code> é‡Šæ”¾ã€‚</li>
<li><code>delete</code> åªèƒ½é‡Šæ”¾å•ä¸ªå¯¹è±¡ï¼Œè€Œ <code>delete[]</code> é‡Šæ”¾çš„æ˜¯æ•´ä¸ªæ•°ç»„ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>A<span class="token operator">*</span> arr <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> A<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// ç”³è¯· 5 ä¸ªå¯¹è±¡çš„æ•°ç»„</span>

<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span>       <span class="token comment">// é‡Šæ”¾æ•°ç»„</span>
</code></pre><p>å¦‚æœç”¨ <code>delete</code> é‡Šæ”¾ <code>new[]</code> ç”³è¯·çš„æ•°ç»„ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœªå®Œå…¨ææ„çš„å¯¹è±¡æ³„æ¼ã€‚</p>
<hr>
<h2 id="day5-ç±»çš„å®šä¹‰å’Œå…³é”®å­—å†æ¢20250324">Day5 ç±»çš„å®šä¹‰å’Œå…³é”®å­—å†æ¢ï¼ˆ2025.03.24ï¼‰ </h2>
<h3 id="1-c-å…³é”®å­—-const-static-extern">1. C++ å…³é”®å­— <code>const</code>ã€<code>static</code>ã€<code>extern</code> </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> global_a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>  <span class="token comment">// åªè¯»å¸¸é‡</span>
<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> s_b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>      <span class="token comment">// é™æ€å…¨å±€å˜é‡ï¼ˆä»…é™å½“å‰æ–‡ä»¶å¯è§ï¼‰</span>
<span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-int">int</span> SIZE <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>     <span class="token comment">// å¤–éƒ¨å˜é‡ï¼ˆå¤šä¸ªæ–‡ä»¶å¯å…±äº«ï¼‰</span>
</code></pre><ul>
<li><code>const</code>ï¼šç”¨äºå®šä¹‰åªè¯»å˜é‡ï¼Œé˜²æ­¢æ„å¤–ä¿®æ”¹ã€‚</li>
<li><code>static</code>ï¼šä¿®é¥°å±€éƒ¨å˜é‡æ—¶ï¼Œå»¶é•¿å˜é‡ç”Ÿå‘½å‘¨æœŸï¼Œä¿®é¥°å…¨å±€å˜é‡æ—¶ï¼Œé™åˆ¶å…¶ä½œç”¨åŸŸã€‚</li>
<li><code>extern</code>ï¼šç”¨äºå£°æ˜å¤–éƒ¨å˜é‡ï¼Œä½¿å…¶å¯ä»¥åœ¨å¤šä¸ªæ–‡ä»¶ä¸­è®¿é—®ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> fun_c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// ä»…åˆå§‹åŒ–ä¸€æ¬¡ï¼Œç”Ÿå‘½å‘¨æœŸè´¯ç©¿æ•´ä¸ªç¨‹åº</span>
    fun_c<span class="token operator">++</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"fun_c = "</span> <span class="token operator">&lt;&lt;</span> fun_c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="2-ç±»çš„å®šä¹‰circle-å’Œ-rect">2. ç±»çš„å®šä¹‰ï¼šCircle å’Œ Rect </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_r</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Circle()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token operator">~</span><span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Circle()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-double">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> M_PI <span class="token operator">*</span> _r <span class="token operator">*</span> _r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> _r<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰ï¼š</strong> è´Ÿè´£åˆå§‹åŒ–å¯¹è±¡ï¼Œå¯ä»¥å¸¦é»˜è®¤å‚æ•°ã€‚</li>
<li><strong>ææ„å‡½æ•°ï¼ˆDestructorï¼‰ï¼š</strong> è´Ÿè´£æ¸…ç†èµ„æºï¼Œåç§°å‰å¸¦ <code>~</code>ã€‚</li>
<li><strong>æˆå‘˜å‡½æ•°ï¼ˆMember Functionï¼‰ï¼š</strong> <code>const</code> å…³é”®å­—ä¿è¯ä¸ä¼šä¿®æ”¹å¯¹è±¡æ•°æ®ã€‚</li>
</ul>
<h3 id="3-å®Œæ•´ä»£ç ">3. å®Œæ•´ä»£ç  </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_USE_MATH_DEFINES</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token comment">//å…³é”®å­—</span>
<span class="token comment">//const</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> global_a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">//static</span>
<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> s_b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">//extern</span>
<span class="token keyword keyword-extern">extern</span> <span class="token keyword keyword-int">int</span> SIZE  <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">//ä¸‰è€…çš„ç”¨é€”ï¼šconst ä¿®é¥°å¸¸é‡ï¼Œstatic ä¿®é¥°å…¨å±€å˜é‡ï¼Œextern ä¿®é¥°å¤–éƒ¨å˜é‡</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> local_v <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> fun_c<span class="token punctuation">;</span><span class="token comment">//é™æ€å±€éƒ¨å˜é‡ å¯ä»¥å»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</span>
	fun_c<span class="token operator">++</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"local_v = "</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> local_v <span class="token operator">&lt;&lt;</span> <span class="token string">" ,"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"fun_c = "</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> fun_c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//å®šä¹‰ä¸€ä¸ªåœ†</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Circle</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_r</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Circle(double r = 0)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">,</span><span class="token keyword keyword-char">char</span><span class="token operator">*</span> name<span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_r</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_name</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_name<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Circle(double r = 0)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Circle()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-double">double</span> <span class="token function">getRadius</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> _r<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//setRadius</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">setRadius</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		_r <span class="token operator">=</span> r<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-double">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> M_PI <span class="token operator">*</span> _r <span class="token operator">*</span> _r<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-double">double</span> _r<span class="token punctuation">;</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> _name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//å®šä¹‰ä¸€ä¸ªçŸ©å½¢</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Rect</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Rect</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_l</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_w</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Rect(double l = 0, double w = 0)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">Rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Rect()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-double">double</span> _l<span class="token punctuation">;</span>
	<span class="token keyword keyword-double">double</span> _w<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Circle <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c1.getRadius() = "</span> <span class="token operator">&lt;&lt;</span> c1<span class="token punctuation">.</span><span class="token function">getRadius</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c1.getArea() = "</span> <span class="token operator">&lt;&lt;</span> c1<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Circle c2<span class="token punctuation">;</span>
	c2<span class="token punctuation">.</span><span class="token function">setRadius</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c2.getRadius() = "</span> <span class="token operator">&lt;&lt;</span> c2<span class="token punctuation">.</span><span class="token function">getRadius</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c2.getArea() = "</span> <span class="token operator">&lt;&lt;</span> c2<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token function">testCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h2 id="day5-1-è¿ç®—ç¬¦é‡è½½20250324">Day5-1 è¿ç®—ç¬¦é‡è½½ï¼ˆ2025.03.24ï¼‰ </h2>
<h3 id="1-å¤æ•°ç±»-complex-åŠå…¶è¿ç®—ç¬¦é‡è½½">1. å¤æ•°ç±» <code>Complex</code> åŠå…¶è¿ç®—ç¬¦é‡è½½ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-friend">friend</span> Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> lhs<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>_real <span class="token operator">-</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">,</span> _imag <span class="token operator">-</span> rhs<span class="token punctuation">.</span>_imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    Complex<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// å‰ç½®++</span>
        <span class="token operator">++</span>_real<span class="token punctuation">;</span>
        <span class="token operator">++</span>_imag<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// åç½®++</span>
        Complex <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _real<span class="token operator">++</span><span class="token punctuation">;</span>
        _imag<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    Complex<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _real <span class="token operator">+=</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">;</span>
        _imag <span class="token operator">+=</span> rhs<span class="token punctuation">.</span>_imag<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> <span class="token string">" + "</span> <span class="token operator">&lt;&lt;</span> _imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> _real<span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> _imag<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h3 id="2-è¿ç®—ç¬¦é‡è½½çš„å‡ ç§æ–¹å¼">2. è¿ç®—ç¬¦é‡è½½çš„å‡ ç§æ–¹å¼ </h3>
<ul>
<li>
<p><strong>æˆå‘˜å‡½æ•°é‡è½½</strong>ï¼ˆé€‚ç”¨äº <code>+=</code>ã€<code>++</code>ã€<code>-</code>ï¼‰ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">;</span>
Complex<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Complex<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p><strong>å‹å…ƒå‡½æ•°é‡è½½</strong>ï¼ˆé€‚ç”¨äº <code>+</code>ã€<code>*</code>ï¼‰ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-friend">friend</span> Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> lhs<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-friend">friend</span> Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> lhs<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<h3 id="3-å…³é”®åŒºåˆ«">3. å…³é”®åŒºåˆ« </h3>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>é€‚ç”¨æ–¹å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>æ™®é€šå‡½æ•°</td>
<td>éœ€è¦è®¿é—®ä¸¤ä¸ªå¯¹è±¡çš„æ•°æ®ï¼Œå¯ç”¨å‹å…ƒå‡½æ•°</td>
</tr>
<tr>
<td><code>-</code></td>
<td>æˆå‘˜å‡½æ•°</td>
<td>åªéœ€è¦è®¿é—®å½“å‰å¯¹è±¡æ•°æ®</td>
</tr>
<tr>
<td><code>++</code></td>
<td>æˆå‘˜å‡½æ•°</td>
<td>å½±å“å½“å‰å¯¹è±¡ï¼Œå‰ç½®++è¿”å›å¼•ç”¨ï¼Œåç½®++è¿”å›å€¼</td>
</tr>
<tr>
<td><code>*</code></td>
<td>å‹å…ƒå‡½æ•°</td>
<td>éœ€è¦è®¿é—®ä¸¤ä¸ªå¯¹è±¡çš„æ•°æ®</td>
</tr>
</tbody>
</table>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">c2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Complex c3 <span class="token operator">=</span> c1 <span class="token operator">+</span> c2<span class="token punctuation">;</span>
c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>å‹å…ƒå‡½æ•°é€‚ç”¨äºäºŒå…ƒè¿ç®—ï¼ˆå¦‚ <code>+</code>ã€<code>*</code>ï¼‰ã€‚</li>
<li>æˆå‘˜å‡½æ•°é€‚ç”¨äºä¸€å…ƒè¿ç®—ï¼ˆå¦‚ <code>++</code>ï¼‰å’Œå¤åˆèµ‹å€¼è¿ç®—ï¼ˆå¦‚ <code>+=</code>ï¼‰ã€‚</li>
</ul>
<h3 id="4å®Œæ•´ä»£ç ">4.å®Œæ•´ä»£ç  </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;limits.h&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">//å¤æ•°</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-friend">friend</span> Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> lhs<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//Complex operator/(const Complex&amp; rhs) const;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token operator">:</span> <span class="token function">_real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> 
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Complex(double r = 0, double i = 0)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Complex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Complex()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-double">double</span> <span class="token function">getReal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> _real<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-double">double</span> <span class="token function">getImag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> _imag<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//è¿ç®—ç¬¦é‡è½½ä¹‹æˆå‘˜å‡½æ•°</span>
	Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>_real <span class="token operator">-</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">,</span> _imag <span class="token operator">-</span> rhs<span class="token punctuation">.</span>_imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//è‡ªå¢è¿ç®—ç¬¦é‡è½½</span>
	Complex<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å‰ç½®++</span>
	<span class="token punctuation">{</span>
		<span class="token operator">++</span>_real<span class="token punctuation">;</span>
		<span class="token operator">++</span>_imag<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//åç½®è‡ªå¢è¿ç®—ç¬¦é‡è½½</span>
	Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">)</span> <span class="token comment">//åç½®++</span>
	<span class="token punctuation">{</span>
		Complex <span class="token function">tmp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		_real<span class="token operator">++</span><span class="token punctuation">;</span>
		_imag<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> tmp<span class="token punctuation">;</span><span class="token comment">//è¿”å›ç±»å‹æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œæ‰€ä»¥ä¸é€‚ç”¨å¼•ç”¨ç±»å‹</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//å‰ç½®++å’Œåç½®++çš„åŒºåˆ«ï¼Ÿ</span>
	<span class="token comment">//è§£ç­”ï¼šå‰ç½®++è¿”å›æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œæ˜¯å·¦å€¼å¯ä»¥å–åœ°å€</span>
	<span class="token comment">//åç½®++è¿”å›çš„æ˜¯å±€éƒ¨å¯¹è±¡ï¼Œæ˜¯å³å€¼ä¸èƒ½å–åœ°å€</span>
	
	<span class="token comment">//+=è¿ç®—ç¬¦é‡è½½</span>
	<span class="token comment">//å¤åˆèµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼Œæ¨èä»¥æˆå‘˜å‡½æ•°çš„å½¢å¼é‡è½½</span>
	Complex<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		_real <span class="token operator">+=</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">;</span>
		_imag <span class="token operator">+=</span> rhs<span class="token punctuation">.</span>_imag<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>



	<span class="token keyword keyword-void">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_imag <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> <span class="token string">" + "</span> <span class="token operator">&lt;&lt;</span> _imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_imag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-else">else</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> <span class="token string">" - "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">-</span>_imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-double">double</span> _real<span class="token punctuation">;</span>
	<span class="token keyword keyword-double">double</span> _imag<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>	

<span class="token comment">//â€œoperator + â€å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªç±»ç±»å‹çš„å½¢å‚</span>
<span class="token comment">//int operator+(int lhs, int rhs)</span>
<span class="token comment">//{</span>
<span class="token comment">//	//return _real + rhs;</span>
<span class="token comment">//}</span>

<span class="token comment">//è¿ç®—ç¬¦é‡è½½ä¹‹æ™®é€šå‡½æ•°</span>
Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> lhs<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>lhs<span class="token punctuation">.</span><span class="token function">getReal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> rhs<span class="token punctuation">.</span><span class="token function">getReal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lhs<span class="token punctuation">.</span><span class="token function">getImag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> rhs<span class="token punctuation">.</span><span class="token function">getImag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//è¿ç®—ç¬¦é‡è½½ä¹‹å‹å…ƒå‡½æ•°ï¼ˆæ¨èä½¿ç”¨ï¼‰</span>
Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> lhs<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>lhs<span class="token punctuation">.</span>_real <span class="token operator">*</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">-</span> lhs<span class="token punctuation">.</span>_imag <span class="token operator">*</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">,</span>
		lhs<span class="token punctuation">.</span>_real <span class="token operator">*</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">+</span> lhs<span class="token punctuation">.</span>_real <span class="token operator">*</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c1 = "</span><span class="token punctuation">;</span>
	c1<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	Complex <span class="token function">c2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c2 = "</span><span class="token punctuation">;</span>	
	c2<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	Complex c3 <span class="token operator">=</span> c1 <span class="token operator">+</span> c2<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c3 = c1 + c2 = "</span><span class="token punctuation">;</span>
	c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c1 = "</span><span class="token punctuation">;</span>
	c1<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Complex <span class="token function">c2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c2 = "</span><span class="token punctuation">;</span>	
	c2<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	Complex c3 <span class="token operator">=</span> c1 <span class="token operator">-</span> c2<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c3 = c1 - c2 = "</span><span class="token punctuation">;</span>
	c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c1 = "</span><span class="token punctuation">;</span>
	c1<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Complex <span class="token function">c2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c2 = "</span><span class="token punctuation">;</span>
	c2<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Complex c3 <span class="token operator">=</span> c1 <span class="token operator">*</span> c2<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c3 = c1 * c2 = "</span><span class="token punctuation">;</span>
	c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	c3 <span class="token operator">+=</span> c1<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c3 += c1 = "</span><span class="token punctuation">;</span>
	c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Complex <span class="token function">c3</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c3 = "</span><span class="token punctuation">;</span>
	c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token operator">++</span>c3<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"++c3 = "</span><span class="token punctuation">;</span>
	c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	c3<span class="token operator">++</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c3++ = "</span><span class="token punctuation">;</span>
	c3<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	Complex <span class="token function">c4</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c4 = "</span><span class="token punctuation">;</span>
	c4<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	c4<span class="token operator">++</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c4++ = "</span><span class="token punctuation">;</span>
	c4<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å‰ç½®++è¿”å›æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œæ˜¯å·¦å€¼å¯ä»¥å–åœ°å€ï¼Œåç½®++è¿”å›çš„æ˜¯å±€éƒ¨å¯¹è±¡ï¼Œæ˜¯å³å€¼ä¸èƒ½å–åœ°å€"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span>  argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//test();</span>
	<span class="token comment">//test2();</span>
	<span class="token comment">//test3();</span>
	<span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h2 id="day5-2-æ–‡ä»¶io20250324">Day5-2 æ–‡ä»¶IOï¼ˆ2025.03.24ï¼‰ </h2>
<h3 id="1-ç¼“å†²åŒºä¸åˆ·æ–°">1. ç¼“å†²åŒºä¸åˆ·æ–° </h3>
<p>åœ¨C++çš„æ ‡å‡†è¾“å…¥è¾“å‡ºæµ (<code>iostream</code>) ä¸­ï¼ŒI/O æ“ä½œé€šå¸¸ä¼šæ¶‰åŠç¼“å†²åŒºï¼Œä»¥æé«˜æ•ˆç‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>cout</code> é‡‡ç”¨ç¼“å†²æ¨¡å¼ï¼Œè¾“å‡ºå†…å®¹ä¼šæš‚å­˜åˆ°ç¼“å†²åŒºï¼Œåªæœ‰åœ¨ç¼“å†²åŒºæ»¡äº†æˆ–é‡åˆ°æŸäº›ç‰¹æ®Šæƒ…å†µï¼ˆå¦‚æ¢è¡Œï¼‰æ—¶ï¼Œæ•°æ®æ‰ä¼šè¢«åˆ·æ–°åˆ°å±å¹•ã€‚</p>
<h4 id="11-å¸¸è§çš„ç¼“å†²åˆ·æ–°æ–¹å¼">1.1 å¸¸è§çš„ç¼“å†²åˆ·æ–°æ–¹å¼ </h4>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>ä½œç”¨</th>
<th>ä¾‹å­</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cout &lt;&lt; endl;</code></td>
<td>è¾“å‡ºæ¢è¡Œå¹¶åˆ·æ–°ç¼“å†²åŒº</td>
<td><code>cout &lt;&lt; "Hello" &lt;&lt; endl;</code></td>
</tr>
<tr>
<td><code>cout &lt;&lt; flush;</code></td>
<td>åªåˆ·æ–°ç¼“å†²åŒºï¼Œä½†ä¸æ¢è¡Œ</td>
<td><code>cout &lt;&lt; "Hello" &lt;&lt; flush;</code></td>
</tr>
<tr>
<td><code>cout &lt;&lt; ends;</code></td>
<td>åœ¨ç¼“å†²åŒºåŠ å…¥ä¸€ä¸ªç©ºå­—ç¬¦ï¼ˆ<code>\0</code>ï¼‰ï¼Œä½†ä¸ä¼šåˆ·æ–°</td>
<td><code>cout &lt;&lt; "Hello" &lt;&lt; ends;</code></td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;chrono&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1024</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    cout <span class="token operator">&lt;&lt;</span> <span class="token char">'b'</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// åˆ·æ–°ç¼“å†²åŒºå¹¶æ¢è¡Œ</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c"</span> <span class="token operator">&lt;&lt;</span> flush<span class="token punctuation">;</span> <span class="token comment">// åªåˆ·æ–°ï¼Œä¸æ¢è¡Œ</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d"</span> <span class="token operator">&lt;&lt;</span> ends<span class="token punctuation">;</span>  <span class="token comment">// åªæ’å…¥ç©ºå­—ç¬¦ï¼Œä¸åˆ·æ–°</span>

    this_thread<span class="token double-colon punctuation">::</span><span class="token function">sleep_for</span><span class="token punctuation">(</span>chrono<span class="token double-colon punctuation">::</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="2-æ–‡ä»¶è¯»å†™æ“ä½œ">2. æ–‡ä»¶è¯»å†™æ“ä½œ </h3>
<p>C++æ ‡å‡†åº“æä¾›äº† <code>&lt;fstream&gt;</code> å¤´æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªä¸»è¦çš„æ–‡ä»¶æµç±»ï¼š</p>
<table>
<thead>
<tr>
<th>ç±»å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ifstream</code></td>
<td>è¯»æ–‡ä»¶ï¼ˆinput file streamï¼‰</td>
</tr>
<tr>
<td><code>ofstream</code></td>
<td>å†™æ–‡ä»¶ï¼ˆoutput file streamï¼‰</td>
</tr>
<tr>
<td><code>fstream</code></td>
<td>è¯»å†™æ–‡ä»¶ï¼ˆfile streamï¼‰</td>
</tr>
</tbody>
</table>
<h4 id="21-è¯»å–æ–‡ä»¶">2.1 è¯»å–æ–‡ä»¶ </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ifstream <span class="token function">ifs</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å¼€æ–‡ä»¶</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    string line<span class="token punctuation">;</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> line <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å…³é—­æ–‡ä»¶</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="22-å†™å…¥æ–‡ä»¶">2.2 å†™å…¥æ–‡ä»¶ </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ofstream <span class="token function">ofs</span><span class="token punctuation">(</span><span class="token string">"output.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ofs<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    ofs <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, world!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="23-è¿½åŠ æ¨¡å¼å†™å…¥">2.3 è¿½åŠ æ¨¡å¼å†™å…¥ </h4>
<p>ä½¿ç”¨ <code>ios::app</code> é€‰é¡¹å¯ä»¥åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ å†…å®¹ï¼Œè€Œä¸ä¼šè¦†ç›–åŸæœ‰æ•°æ®ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">appendToFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ofstream <span class="token function">ofs</span><span class="token punctuation">(</span><span class="token string">"log.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ofs<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ofs <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–°æ—¥å¿—è®°å½•"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="23-å®Œæ•´ä»£ç ">2.3 å®Œæ•´ä»£ç  </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//æ–‡ä»¶æµè¯»æ–‡ä»¶</span>
	<span class="token comment">//å¯¹äºæ–‡ä»¶è¾“å…¥æµè€Œè¨€ï¼Œé»˜è®¤ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦</span>
	string line<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>ifs <span class="token operator">&gt;&gt;</span> line<span class="token punctuation">)</span><span class="token comment">//cin &gt;&gt; line</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> line <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//æ–‡ä»¶æµè¯»æ–‡ä»¶</span>
	<span class="token comment">//å¯¹äºæ–‡ä»¶è¾“å…¥æµè€Œè¨€ï¼Œé»˜è®¤ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦</span>
	string line<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> line <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//æ‰“å°å‰å‡ è¡Œçš„å†…å®¹</span>
<span class="token keyword keyword-void">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//æ–‡ä»¶æµè¯»æ–‡ä»¶</span>
	<span class="token comment">//å¯¹äºæ–‡ä»¶è¾“å…¥æµè€Œè¨€ï¼Œé»˜è®¤ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦</span>
	string line<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> lineNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> line <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		lineNum<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>lineNum <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//æ‰“å°æŒ‡å®šè¡Œçš„å†…å®¹</span>
<span class="token keyword keyword-void">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	string fileName <span class="token operator">=</span> <span class="token string">"test.txt"</span><span class="token punctuation">;</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//æ–‡ä»¶æµè¯»æ–‡ä»¶</span>
	<span class="token comment">//å¯¹äºæ–‡ä»¶è¾“å…¥æµè€Œè¨€ï¼Œé»˜è®¤ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦</span>
	string line<span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	size_t lineNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> vec<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> line<span class="token punctuation">[</span>lineNum<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token operator">++</span>lineNum<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"line[22] = "</span> <span class="token operator">&lt;&lt;</span> line<span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	string fileName <span class="token operator">=</span> <span class="token string">"test.txt"</span><span class="token punctuation">;</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//æ–‡ä»¶æµè¯»æ–‡ä»¶</span>
	<span class="token comment">//å¯¹äºæ–‡ä»¶è¾“å…¥æµè€Œè¨€ï¼Œé»˜è®¤ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦</span>
	string line<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> vec<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		vec<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"vec[22] = "</span> <span class="token operator">&lt;&lt;</span> vec<span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"ifstream is not good!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	ofstream <span class="token function">ofs</span><span class="token punctuation">(</span><span class="token string">"wd.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ofs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"ofstream is not good!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœ¨ç¨‹åºå¼‚å¸¸é€€å‡ºæ—¶ï¼Œå…³é—­å‰é¢çš„ifs</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	string line<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		ofs <span class="token operator">&lt;&lt;</span> line <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test7</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//å¯¹äºæ–‡ä»¶çš„è¾“å‡ºè¾“å‡ºæµè€Œè¨€ï¼Œå½“æ–‡ä»¶ä¸å­˜åœ¨çš„æ—¶å€™å°±æ‰“å¼€å¤±è´¥</span>
	fstream <span class="token function">fs</span><span class="token punctuation">(</span><span class="token string">"wenchang.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"fstream is not good!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//ä¸šåŠ¡é€»è¾‘</span>
	<span class="token comment">//é€šè¿‡é”®ç›˜è¾“å…¥æ•°æ®,ä½¿ç”¨fsè¿›è¡Œè¯»æ–‡ä»¶ï¼Œéšåè¾“å‡ºåˆ°å±å¹•</span>
	<span class="token keyword keyword-int">int</span> number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·è¾“å…¥5æ¬¡æ•°å­—ï¼š "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>size_t idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">!=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>idx<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cin <span class="token operator">&gt;&gt;</span> number<span class="token punctuation">;</span>
		fs <span class="token operator">&lt;&lt;</span> number <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	size_t len <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">tellp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"len= "</span> <span class="token operator">&lt;&lt;</span> len <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	fs<span class="token punctuation">.</span><span class="token function">seekp</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	len <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">tellp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"len= "</span> <span class="token operator">&lt;&lt;</span> len <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>size_t idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">!=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>idx<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"fs.failbit = "</span> <span class="token operator">&lt;&lt;</span> fs<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl
			<span class="token operator">&lt;&lt;</span> <span class="token string">"fs.eofbit = "</span> <span class="token operator">&lt;&lt;</span> fs<span class="token punctuation">.</span><span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl
			<span class="token operator">&lt;&lt;</span> <span class="token string">"fs.goodbit = "</span> <span class="token operator">&lt;&lt;</span> fs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		fs <span class="token operator">&gt;&gt;</span> number<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> number <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¿½åŠ æ¨¡å¼</span>
<span class="token keyword keyword-void">void</span> <span class="token function">test8</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span>in <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span>ate<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"ifstream is not good!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ifs.tellg() = "</span> <span class="token operator">&lt;&lt;</span> ifs<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test9</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ofstream <span class="token function">ofs</span><span class="token punctuation">(</span><span class="token string">"wenchang.txt"</span><span class="token punctuation">,</span>std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span>out <span class="token operator">|</span> std<span class="token double-colon punctuation">::</span>ios<span class="token double-colon punctuation">::</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ofs<span class="token punctuation">.</span><span class="token function">good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"ofstream is not good!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ofs.tellg() = "</span> <span class="token operator">&lt;&lt;</span> ofs<span class="token punctuation">.</span><span class="token function">tellp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>	
	<span class="token comment">//test();</span>
	<span class="token comment">//test5(); //è¯»å–æ–‡ä»¶å†…å®¹åˆ°vectorå®¹å™¨ä¸­</span>
	<span class="token function">test9</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><h3 id="3-æ–‡ä»¶å®šä½æ“ä½œ">3. æ–‡ä»¶å®šä½æ“ä½œ </h3>
<p>æ–‡ä»¶æµæ”¯æŒ <code>seekg()</code>ï¼ˆgetï¼‰å’Œ <code>seekp()</code>ï¼ˆputï¼‰æ¥å®šä½æ–‡ä»¶æŒ‡é’ˆã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">filePositioning</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    fstream <span class="token function">fs</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>in <span class="token operator">|</span> ios<span class="token double-colon punctuation">::</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fs<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    fs<span class="token punctuation">.</span><span class="token function">seekg</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶å¤§å°: "</span> <span class="token operator">&lt;&lt;</span> fs<span class="token punctuation">.</span><span class="token function">tellg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" å­—èŠ‚"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="4-å­—ç¬¦ä¸²io">4. å­—ç¬¦ä¸²IO </h3>
<p>C++ æä¾›äº† <code>stringstream</code> ä»¥ä¾¿åœ¨å­—ç¬¦ä¸²ä¸­è¿›è¡Œ I/O æ“ä½œã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>

<span class="token keyword keyword-void">void</span> <span class="token function">stringStreamDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    stringstream ss<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> num <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
    ss <span class="token operator">&lt;&lt;</span> <span class="token string">"æ•°å­—: "</span> <span class="token operator">&lt;&lt;</span> num<span class="token punctuation">;</span>
    string output <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> output <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="5-é…ç½®æ–‡ä»¶è§£æç¤ºä¾‹">5. é…ç½®æ–‡ä»¶è§£æç¤ºä¾‹ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">readConfig</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> string<span class="token operator">&amp;</span> filename<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ifstream <span class="token function">ifs</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"æ‰“å¼€æ–‡ä»¶å¤±è´¥: "</span> <span class="token operator">&lt;&lt;</span> filename <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    string line<span class="token punctuation">;</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        istringstream <span class="token function">iss</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
        string key<span class="token punctuation">,</span> value<span class="token punctuation">;</span>
        iss <span class="token operator">&gt;&gt;</span> key <span class="token operator">&gt;&gt;</span> value<span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> key <span class="token operator">&lt;&lt;</span> <span class="token string">" -&gt; "</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="6-å®Œæ•´ä»£ç ">6. å®Œæ•´ä»£ç  </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span> <span class="token comment">// æ·»åŠ æ­¤è¡Œä»¥åŒ…å« ifstream çš„å®šä¹‰</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>ostringstream<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>istringstream<span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> std<span class="token double-colon punctuation">::</span>stringstream<span class="token punctuation">;</span>

string <span class="token function">int2string</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ostringstream oss<span class="token punctuation">;</span><span class="token comment">//ä¸­è½¬</span>
	oss <span class="token operator">&lt;&lt;</span> value<span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> oss<span class="token punctuation">.</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–åº•å±‚çš„å­—ç¬¦ä¸²</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	string s1 <span class="token operator">=</span> <span class="token function">int2string</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"s1 = "</span> <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-int">int</span> number1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> number2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	stringstream ss<span class="token punctuation">;</span>
	ss <span class="token operator">&lt;&lt;</span> <span class="token string">"number1 = "</span> <span class="token operator">&lt;&lt;</span> number1
	 	<span class="token operator">&lt;&lt;</span> <span class="token string">"number2 = "</span> <span class="token operator">&lt;&lt;</span> number2<span class="token punctuation">;</span>
	string s1 <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"s1 ="</span> <span class="token operator">&lt;&lt;</span>  s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	string key<span class="token punctuation">;</span>
	string value<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>ss <span class="token operator">&gt;&gt;</span> key <span class="token operator">&gt;&gt;</span> value<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> key <span class="token operator">&lt;&lt;</span> <span class="token string">"---&gt;"</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">readConfig</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> string<span class="token operator">&amp;</span> filename<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	ifstream <span class="token function">ifs</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"open"</span> <span class="token operator">&lt;&lt;</span> filename <span class="token operator">&lt;&lt;</span> <span class="token string">"error!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	string line<span class="token punctuation">;</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		istringstream <span class="token function">iss</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
		string key<span class="token punctuation">,</span> value<span class="token punctuation">;</span>
		iss <span class="token operator">&gt;&gt;</span> key <span class="token operator">&gt;&gt;</span> value<span class="token punctuation">;</span>

		 
		cout <span class="token operator">&lt;&lt;</span> key <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">readConfig</span><span class="token punctuation">(</span><span class="token string">"my.conf"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="7-äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ">7. äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Data</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶</span>
<span class="token keyword keyword-void">void</span> <span class="token function">writeBinaryFile</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> string <span class="token operator">&amp;</span>filename<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ofstream <span class="token function">ofs</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ofs<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Data d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    ofs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">reinterpret_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span> <span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶</span>
<span class="token keyword keyword-void">void</span> <span class="token function">readBinaryFile</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> string <span class="token operator">&amp;</span>filename<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ifstream <span class="token function">ifs</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"æ–‡ä»¶æ‰“å¼€å¤±è´¥!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Data d<span class="token punctuation">;</span>
    ifs<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">reinterpret_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span> <span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-sizeof">sizeof</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"id: "</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span>id <span class="token operator">&lt;&lt;</span> <span class="token string">", value: "</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span>value <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    string filename <span class="token operator">=</span> <span class="token string">"data.bin"</span><span class="token punctuation">;</span>
    <span class="token function">writeBinaryFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">readBinaryFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="æ€»ç»“">æ€»ç»“ </h3>
<ol>
<li><strong>æ–‡æœ¬æ–‡ä»¶</strong>
<ul>
<li><code>ifstream</code> è¯»å–æ–‡ä»¶ï¼Œ<code>ofstream</code> å†™å…¥æ–‡ä»¶ï¼Œ<code>fstream</code> è¯»å†™æ–‡ä»¶ã€‚</li>
<li><code>seekg()</code> å’Œ <code>seekp()</code> æ§åˆ¶æ–‡ä»¶æŒ‡é’ˆã€‚</li>
<li><code>stringstream</code> é€‚ç”¨äºå­—ç¬¦ä¸²çš„ I/O æ“ä½œã€‚</li>
<li><code>ios::app</code> å¯ç”¨äºè¿½åŠ æ¨¡å¼å†™å…¥æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li><strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong>
<ul>
<li>è¯»å†™æ–¹å¼ï¼š<code>ifstream</code>ã€<code>ofstream</code> éœ€ä½¿ç”¨ <code>ios::binary</code> æ¨¡å¼</li>
<li>è¯»å–æ–¹å¼ï¼š<code>read()</code> å’Œ <code>write()</code></li>
<li>é€‚ç”¨äºå­˜å‚¨ç»“æ„åŒ–æ•°æ®ï¼Œå¦‚ <code>struct</code> ç±»å‹çš„å­˜å‚¨å’Œè¯»å–ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h2 id="day6-1-è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½20250325"><strong>Day6-1 è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½ï¼ˆ2025.03.25ï¼‰</strong> </h2>
<pre data-role="codeBlock" data-info="plaintext" class="language-plaintext plaintext"><code>1. æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº
2. å‹å…ƒ
   2.1 å‹å…ƒå‡½æ•°
3. è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½
   3.1 å…³é”®çŸ¥è¯†ç‚¹
   3.2 ä»£ç 
   3.3 å…³é”®é—®é¢˜
   3.4 å®Œæ•´ä»£ç 
4. ä¸‹æ ‡è®¿é—®è¿ç®—ç¬¦ `operator[]`
   4.1 å…³é”®çŸ¥è¯†ç‚¹
   4.2 ä»£ç 
5. å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ `operator()`
   5.1 å…³é”®çŸ¥è¯†ç‚¹
   5.2 ä»£ç 
   5.3 ç¤ºä¾‹
   5.4 å®Œæ•´ä»£ç 
6. æ€»ç»“
</code></pre><hr>
<h3 id="1-å›é¡¾"><strong>1. å›é¡¾</strong> </h3>
<h4 id="11-æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº"><strong>1.1 æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº</strong> </h4>
<p>æ‹·è´æ„é€ å‡½æ•°åœ¨ä»¥ä¸‹æƒ…å†µä¼šè¢«è°ƒç”¨ï¼š</p>
<ol>
<li>
<p><strong>å¯¹è±¡åˆå§‹åŒ–</strong></p>
<ul>
<li>å½“ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡å»åˆå§‹åŒ–ä¸€ä¸ªåˆšåˆšåˆ›å»ºçš„å¯¹è±¡æ—¶ï¼Œè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚</li>
<li>ä¾‹ï¼š<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Complex c2 <span class="token operator">=</span> c1<span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span>
</code></pre></li>
</ul>
</li>
<li>
<p><strong>å‡½æ•°å‚æ•°ä¼ é€’</strong></p>
<ul>
<li>å½“å½¢å‚ä¸å®å‚éƒ½æ˜¯å¯¹è±¡æ—¶ï¼Œåœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚</li>
<li>ä¾‹ï¼š<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">func</span><span class="token punctuation">(</span>Complex c<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token function">func</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å½¢å‚ä¸å®å‚ç»“åˆæ—¶è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span>
</code></pre></li>
</ul>
</li>
<li>
<p><strong>å‡½æ•°è¿”å›å¯¹è±¡</strong></p>
<ul>
<li>å½“å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯èƒ½è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼ˆä½†ç°ä»£ C++ ç¼–è¯‘å™¨ä¼šå°è¯•ä¼˜åŒ–æ­¤è¿‡ç¨‹ï¼Œå¦‚è¿”å›å€¼ä¼˜åŒ– RVOï¼‰ã€‚</li>
<li>ä¾‹ï¼š<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Complex <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Complex <span class="token function">c</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> c<span class="token punctuation">;</span> <span class="token comment">// å¯èƒ½è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
</li>
</ol>
<hr>
<h3 id="2-å‹å…ƒ"><strong>2. å‹å…ƒ</strong> </h3>
<h4 id="21-å‹å…ƒå‡½æ•°"><strong>2.1 å‹å…ƒå‡½æ•°</strong> </h4>
<ul>
<li>å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚</li>
<li>å‹å…ƒå£°æ˜å¯ä»¥å‡ºç°åœ¨ç±»çš„ <code>public</code>ã€<code>protected</code> æˆ– <code>private</code> éƒ¨åˆ†ï¼Œä¸å½±å“å…¶æƒé™ã€‚</li>
<li>å‹å…ƒå…³ç³»æ˜¯<strong>å•å‘çš„ã€ä¸å¯ä¼ é€’çš„</strong>ï¼š
<ul>
<li><strong>å•å‘</strong>ï¼šå¦‚æœ <code>A</code> æ˜¯ <code>B</code> çš„å‹å…ƒï¼Œ<code>B</code> å¹¶ä¸ä¼šè‡ªåŠ¨æˆä¸º <code>A</code> çš„å‹å…ƒã€‚</li>
<li><strong>ä¸å¯ä¼ é€’</strong>ï¼šå¦‚æœ <code>A</code> æ˜¯ <code>B</code> çš„å‹å…ƒï¼Œ<code>B</code> æ˜¯ <code>C</code> çš„å‹å…ƒï¼Œ<code>A</code> å¹¶ä¸ä¼šè‡ªåŠ¨æˆä¸º <code>C</code> çš„å‹å…ƒã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½"><strong>3. è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½</strong> </h3>
<h4 id="31-å…³é”®çŸ¥è¯†ç‚¹"><strong>3.1 å…³é”®çŸ¥è¯†ç‚¹</strong> </h4>
<ol>
<li>
<p><strong><code>operator&lt;&lt;</code> å¿…é¡»æ˜¯å‹å…ƒå‡½æ•°</strong></p>
<ul>
<li>ç”±äº <code>cout &lt;&lt; c1;</code> å·¦æ“ä½œæ•°æ˜¯ <code>std::ostream</code>ï¼Œä¸èƒ½ä¿®æ”¹ <code>std::ostream</code>ï¼Œæ‰€ä»¥ <code>operator&lt;&lt;</code> ä¸èƒ½æ˜¯ <code>Complex</code> çš„æˆå‘˜å‡½æ•°ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>operator&gt;&gt;</code> ä¸èƒ½æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°</strong></p>
<ul>
<li>å› ä¸º <code>operator&gt;&gt;</code> éœ€è¦ä¿®æ”¹å¯¹è±¡çš„å€¼ï¼Œå› æ­¤ä¸èƒ½åŠ  <code>const</code>ã€‚</li>
</ul>
</li>
</ol>
<h4 id="32-ä»£ç "><strong>3.2 ä»£ç </strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_imag <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">&lt;&lt;</span> <span class="token string">" + "</span> <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_imag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
        os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">&lt;&lt;</span> <span class="token string">" - "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">-</span>rhs<span class="token punctuation">.</span>_imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> is<span class="token punctuation">,</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·è¾“å…¥å¤æ•°çš„å®éƒ¨å’Œè™šéƒ¨ï¼š"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    is <span class="token operator">&gt;&gt;</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">&gt;&gt;</span> rhs<span class="token punctuation">.</span>_imag<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> is<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="33-å…³é”®é—®é¢˜"><strong>3.3 å…³é”®é—®é¢˜</strong> </h4>
<ul>
<li>
<p><strong>ä¸ºä»€ä¹ˆ <code>operator&lt;&lt;</code> å’Œ <code>operator&gt;&gt;</code> çš„è¿”å›å€¼æ˜¯ <code>std::ostream&amp;</code> å’Œ <code>std::istream&amp;</code> ï¼Ÿ</strong></p>
<ul>
<li>è¿™æ ·å¯ä»¥å®ç°<strong>è¿ç»­è¾“å…¥è¾“å‡º</strong>ï¼š<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>cout <span class="token operator">&lt;&lt;</span> c1 <span class="token operator">&lt;&lt;</span> c2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// è¿ç»­è¾“å‡º</span>
cin <span class="token operator">&gt;&gt;</span> c1 <span class="token operator">&gt;&gt;</span> c2<span class="token punctuation">;</span>           <span class="token comment">// è¿ç»­è¾“å…¥</span>
</code></pre></li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆ <code>operator&lt;&lt;</code> çš„ <code>ostream&amp;</code> å‚æ•°ä¸èƒ½å»æ‰ <code>&amp;</code> ï¼Ÿ</strong></p>
<ul>
<li>å› ä¸º <code>ostream</code> çš„æ‹·è´æ„é€ å‡½æ•°å·²è¢« <code>delete</code>ï¼Œä¸èƒ½å¤åˆ¶ <code>ostream</code> å¯¹è±¡ã€‚</li>
</ul>
</li>
</ul>
<h4 id="34-å®Œæ•´ä»£ç "><strong>3.4 å®Œæ•´ä»£ç </strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;limits.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ostream&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">//å¤æ•°</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-friend">friend</span> Complex <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> lhs<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//Complex operator/(const Complex&amp; rhs) const;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_real</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_imag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Complex(double r = 0, double i = 0)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Complex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Complex()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	

	<span class="token keyword keyword-void">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>

		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_imag <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> <span class="token string">" + "</span> <span class="token operator">&lt;&lt;</span> _imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_imag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-else">else</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> <span class="token string">" - "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">-</span>_imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//æˆå‘˜å‡½æ•°ï¼Œoperatorè¾“å‡ºè¿ç®—ç¬¦é‡è½½ </span>
	<span class="token comment">//cout &lt;&lt; c1 &lt;&lt; endl; </span>
	<span class="token comment">//ç¬¬ä¸€ä¸ªå‚æ•°cout ,ç¬¬äºŒä¸ªå‚æ•°c1</span>
	<span class="token comment">//std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Complex&amp; rhs); //errorï¼éšå«thisæŒ‡é’ˆ</span>

	<span class="token comment">//å¯¹äºè¾“å‡ºæµè¿ç®—ç¬¦å‡½æ•°è€Œè¨€ï¼Œä¸èƒ½å†™æˆæˆå‘˜å‡½æ•°çš„å½¢å¼ï¼Œå› ä¸ºè¿èƒŒäº†è¿ç®—ç¬¦é‡è½½çš„åŸåˆ™ï¼Œä¸èƒ½æ”¹å˜æ“ä½œæ•°çš„é¡ºåº</span>
	<span class="token comment">//std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os);//errorï¼thisæŒ‡é’ˆåœ¨å‚æ•°åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®</span>

	

		<span class="token comment">/*å‹å…ƒå‡½æ•°å¯ä»¥æ”¾åœ¨ç±»çš„ ä»»ä½•ä½ç½®ï¼ˆpublic / protected / privateï¼‰ï¼Œä¸å½±å“å…¶åŠŸèƒ½ã€‚
		ä»ä»£ç è§„èŒƒè§’åº¦ï¼Œå»ºè®®ç»Ÿä¸€æ”¾åœ¨ç±»å®šä¹‰çš„å¼€å¤´æˆ–ç»“å°¾ï¼Œä»¥æé«˜å¯è¯»æ€§ã€‚
		å‹å…ƒå…³ç³»æ˜¯å•å‘çš„ï¼Œä¸”ä¸å…·å¤‡ä¼ é€’æ€§ï¼ˆå³ç±» A çš„å‹å…ƒå‡½æ•°ä¸ä¼šè‡ªåŠ¨æˆä¸ºç±» B çš„å‹å…ƒï¼‰ã€‚
		*/</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//è¾“å…¥æµè¿ç®—ç¬¦é‡è½½</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> is<span class="token punctuation">,</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-double">double</span> _real<span class="token punctuation">;</span>
	<span class="token keyword keyword-double">double</span> _imag<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//é—®é¢˜1 ï¼šå‚æ•°åˆ—è¡¨ä¸­ostrreamçš„å¼•ç”¨ç¬¦å·&amp;èƒ½ä¸èƒ½å»æ‰ï¼Ÿ</span>
<span class="token comment">//è§£ç­”1 ï¼šä¸èƒ½å»æ‰å› ä¸ºå½¢å‚"os"å’Œå®å‚"cout"ç»“åˆçš„æ—¶å€™ä¼šæ»¡è¶³æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœºï¼Œä½†æ˜¯ostreamä¸­çš„æ‹·è´æ„é€ å‡½æ•°å·²è¢«delete</span>

<span class="token comment">//é—®é¢˜2 ï¼š å‡½æ•°è¿”å›ç±»å‹ä¸­çš„å¼•ç”¨ç¬¦å·&amp;èƒ½ä¸èƒ½åˆ é™¤ï¼Ÿ</span>
<span class="token comment">//è§£ç­”2 ï¼š ä¸èƒ½å–æ‰ï¼Œå› ä¸ºreturn osï¼Œè¿”å›ç±»å‹æ»¡è¶³æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœº3</span>

<span class="token comment">//æ³¨é‡Šï¼šbasic_ifstream( const basic_ifstream&amp; rhs ) = delete; (7)	(since C++11)</span>
<span class="token comment">//	   basic_ofstream( const basic_ofstream&amp; rhs ) = delete; (7)	(since C++11)</span>
<span class="token comment">//ifstram å’Œ ofstream çš„æ‹·è´æ„é€ å‡½æ•°å·²ç»ä»C++11å¼€å§‹åˆ é™¤äº†</span>
std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Complex&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_imag <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">&lt;&lt;</span> <span class="token string">" + "</span> <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_imag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-else">else</span>
	<span class="token punctuation">{</span>
		os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">&lt;&lt;</span> <span class="token string">" - "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">-</span>rhs<span class="token punctuation">.</span>_imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">readDouble</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> is<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span><span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>is <span class="token operator">&gt;&gt;</span> rhs<span class="token punctuation">,</span> <span class="token operator">!</span>is<span class="token punctuation">.</span><span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>is<span class="token punctuation">.</span><span class="token function">bad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			std<span class="token double-colon punctuation">::</span>cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"istream is bad"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>is<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			is<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é‡ç½®æµçš„çŠ¶æ€</span>
			is<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token class-name">numeric_limits</span><span class="token operator">&lt;</span><span class="token double-colon punctuation">::</span>std<span class="token double-colon punctuation">::</span>streamsize<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token char">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¸…ç©ºç¼“å†²åŒº</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·æ³¨æ„ï¼šéœ€è¦è¾“å…¥doubleç±»å‹çš„æ•°æ®ï¼"</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-else">else</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"rhs = "</span> <span class="token operator">&lt;&lt;</span> rhs <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
			<span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//è¾“å…¥æµè¿ç®—ç¬¦é‡è½½</span>
std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> is<span class="token punctuation">,</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token comment">//å› ä¸ºè¦ä¿®æ”¹rhs çš„å€¼ï¼Œæ‰€ä»¥ä¸èƒ½åŠ const</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"std::istream&amp; operator&gt;&gt;(std::istream&amp; is, Complex&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·åˆ†åˆ«è¾“å…¥å¤æ•°çš„å®éƒ¨å’Œè™šéƒ¨ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//is &gt;&gt; rhs._real &gt;&gt; rhs._imag;</span>
	<span class="token function">readDouble</span><span class="token punctuation">(</span>is<span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_real<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">readDouble</span><span class="token punctuation">(</span>is<span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_imag<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> is<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword keyword-void">void</span> <span class="token function">testOutputOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Complex <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c1 = "</span><span class="token punctuation">;</span>
	c1<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>


	<span class="token comment">//cout &lt;&lt; "c1 = " &lt;&lt; c1.display();</span>
	<span class="token comment">//ä¸ºä»€ä¹ˆæ²¡æœ‰åšè¾“å‡ºæµè¿ç®—ç¬¦é‡è½½ä¹‹å‰ä¸Šé¢çš„å†™æ³• ä¸å¯è¡Œå‘¢ï¼Ÿ è§£ç­”ï¼šäºŒå…ƒâ€œ&lt;&lt;â€: æ²¡æœ‰æ‰¾åˆ°æ¥å—â€œvoidâ€ç±»å‹çš„å³æ“ä½œæ•°çš„è¿ç®—ç¬¦(æˆ–æ²¡æœ‰å¯æ¥å—çš„è½¬æ¢)</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c1 = "</span> <span class="token operator">&lt;&lt;</span> c1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Complex c2<span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> c2<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c2 = "</span> <span class="token operator">&lt;&lt;</span> c2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">testOutputOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="4-ä¸‹æ ‡è®¿é—®è¿ç®—ç¬¦-operator"><strong>4. ä¸‹æ ‡è®¿é—®è¿ç®—ç¬¦ <code>operator[]</code></strong> </h3>
<h4 id="41-å…³é”®çŸ¥è¯†ç‚¹"><strong>4.1 å…³é”®çŸ¥è¯†ç‚¹</strong> </h4>
<ul>
<li><code>operator[]</code> ä¸»è¦ç”¨äºè‡ªå®šä¹‰æ•°ç»„ç±»å‹ï¼Œä½¿å¾— <code>obj[idx]</code> è®¿é—®æ•°ç»„å…ƒç´ ã€‚</li>
<li>è¿”å›å€¼åº”ä¸º <code>T&amp;</code>ï¼Œä»¥ä¿è¯èƒ½å¤Ÿä¿®æ”¹æ•°ç»„å†…å®¹ã€‚</li>
<li>å¿…é¡»è¿›è¡Œè¶Šç•Œæ£€æŸ¥ï¼Œä»¥é˜²æ­¢è®¿é—®éæ³•å†…å­˜ã€‚</li>
</ul>
<h4 id="42-ä»£ç "><strong>4.2 ä»£ç </strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-char">char</span><span class="token operator">&amp;</span> CharArrar<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t idx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>idx <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _data<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-char">char</span> charNull <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> charNull<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="5-å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦-operator"><strong>5. å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ <code>operator()</code></strong> </h3>
<h4 id="51-å…³é”®çŸ¥è¯†ç‚¹"><strong>5.1 å…³é”®çŸ¥è¯†ç‚¹</strong> </h4>
<ul>
<li>ä½¿å¯¹è±¡åƒå‡½æ•°ä¸€æ ·è°ƒç”¨ï¼Œç§°ä¸º<strong>ä»¿å‡½æ•°ï¼ˆå‡½æ•°å¯¹è±¡ï¼‰</strong>ã€‚</li>
<li>å¯å­˜å‚¨çŠ¶æ€ï¼Œä¾‹å¦‚è°ƒç”¨æ¬¡æ•°ã€‚</li>
</ul>
<h4 id="52-ä»£ç "><strong>5.2 ä»£ç </strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">FunctionObject</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">++</span>_cnt<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">++</span>_cnt<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> x <span class="token operator">*</span> y <span class="token operator">*</span> z<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> _cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="53-ç¤ºä¾‹"><strong>5.3 ç¤ºä¾‹</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>FunctionObject fo<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">"fo(3, 4) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">fo</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">"fo(3, 4, 5) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">fo</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre><h4 id="54-å®Œæ•´ä»£ç "><strong>5.4 å®Œæ•´ä»£ç </strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//bracket.h</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">CharArrar</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">CharArrar</span><span class="token punctuation">(</span>size_t sz <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_size</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_data</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span>_size<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">" CharArrar(size_t sz = 10)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">CharArrar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~CharArrar()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_data<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span> _data<span class="token punctuation">;</span>
			_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> _size<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//ä¸‹æ ‡è®¿é—®è¿ç®—ç¬¦çš„é‡è½½</span>
	<span class="token comment">//int arr[10] = { 1,2,3,4,5 };</span>
	<span class="token comment">//arr.operator[](idx);</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	size_t _size<span class="token punctuation">;</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> _data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><hr>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//bracket.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"bracket.h"</span></span>

<span class="token comment">/*
è¦ä¿®å¤é”™è¯¯ C2106: â€œ=â€: å·¦æ“ä½œæ•°å¿…é¡»ä¸ºå·¦å€¼ï¼Œéœ€è¦ç¡®ä¿ CharArrar ç±»çš„
ä¸‹æ ‡è¿ç®—ç¬¦ operator[] è¿”å›ä¸€ä¸ªå¯ä¿®æ”¹çš„å·¦å€¼ã€‚å½“å‰çš„ operator[] å£°æ˜
è¿”å›çš„æ˜¯ä¸€ä¸ª charï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå¯ä¿®æ”¹çš„å·¦å€¼ã€‚æˆ‘ä»¬éœ€è¦å°†å…¶ä¿®æ”¹ä¸ºè¿”å›ä¸€ä¸ª char&amp;ã€‚
*/</span>
<span class="token keyword keyword-char">char</span><span class="token operator">&amp;</span> CharArrar<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t idx<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>idx <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> _data<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-else">else</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-char">char</span> charNUll <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span><span class="token comment">//é™æ€å˜é‡å»¶é•¿ç”Ÿå‘½å‘¨æœŸ</span>
		<span class="token keyword keyword-return">return</span> charNUll<span class="token punctuation">;</span>   <span class="token comment">//ä½¿å¾—è¿”å›çš„å®ä½“ç”Ÿå‘½å‘¨æœŸæ¯”å‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸé•¿</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//C++ä¸­ä¼˜åŠ¿ï¼šé‡è½½çš„ä¸‹æ ‡è®¿é—®è¿ç®—ç¬¦è€ƒè™‘äº†è¶Šç•Œçš„é—®é¢˜</span>
<span class="token comment">//å¼•ç”¨ä»€ä¹ˆæ—¶å€™éœ€è¦åŠ ä¸Šï¼Ÿ</span>
<span class="token comment">//1.å¦‚æœè¿”å›ç±»å‹æ˜¯ç±»å‹çš„æ—¶å€™ï¼Œå¯ä»¥å‡å°‘æ‹·è´æ„é€ å‡½æ•°çš„æ‰§è¡Œ</span>
<span class="token comment">//2.æœ‰å¯èƒ½éœ€è¦ä¸€ä¸ªå·¦å€¼ï¼ˆæ¥è°ƒç”¨å³æ“ä½œæ•°ï¼‰ï¼Œè€Œä¸æ˜¯æ‹·è´åçš„å³å€¼ã€</span>
<span class="token comment">//3.cout &lt;&lt; "111" &lt;&lt; c1 &lt;&lt; endl &lt;&lt; 10 &lt;&lt; 1 &lt;&lt; endl,åƒè¿™ç§æƒ…å†µä¸‹è¿ç»­ä½¿ç”¨çš„æ—¶å€™å¯ä»¥åŠ ä¸Šå¼•ç”¨ </span>
</code></pre><hr>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//parenthese.h</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FunctionObject</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	

	<span class="token keyword keyword-int">int</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> _cnt<span class="token punctuation">;</span><span class="token comment">//è®°å½•è¢«è°ƒç”¨çš„æ¬¡æ•°ï¼ˆå‡½æ•°å¯¹è±¡çŠ¶æ€ï¼‰</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><hr>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>parenthese<span class="token punctuation">.</span>cpp
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"parenthese.h"</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>



<span class="token keyword keyword-int">int</span> <span class="token class-name">FunctionObject</span><span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token operator">++</span>_cnt<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"int operator()(int x, int y)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token class-name">FunctionObject</span><span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> z<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"int operator()(int x, int y,int z)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token operator">++</span>_cnt<span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> x <span class="token operator">*</span> y <span class="token operator">*</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><hr>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//main.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"bracket.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"parenthese.h"</span></span>


<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"int add(int x,int y)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token operator">++</span>cnt<span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword keyword-void">void</span> <span class="token function">testFunctionObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	FunctionObject fo<span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> c <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	<span class="token comment">//foæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯ä»–çš„ä½¿ç”¨</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"fo(a,b) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">fo</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"fo(a, b ,c) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">fo</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//æ­£ç»çš„å‡½æ•°</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"add(a, b) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testCharArrar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	
	<span class="token comment">//æŠŠå­—ç¬¦ä¸²ä¸­çš„å†…å®¹æ‹·è´åˆ°CharArray</span>
	<span class="token keyword keyword-const">const</span>  <span class="token keyword keyword-char">char</span><span class="token operator">*</span> pstr <span class="token operator">=</span> <span class="token string">"hello cpp"</span><span class="token punctuation">;</span>
	CharArrar <span class="token function">ca</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>pstr<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span><span class="token punctuation">(</span>size_t idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">!=</span> ca<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>idx<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token comment">//ca[idx] = pstr[idx];</span>
		<span class="token comment">//ä¸Šé¢å’Œä¸‹é¢ä¸¤æ¡ä»£ç ç­‰ä»·</span>
		ca<span class="token punctuation">.</span><span class="token keyword keyword-operator">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span> <span class="token operator">=</span> pstr<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>size_t idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">!=</span> ca<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>idx<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> ca<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">testFunctionObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">testCharArrar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span>  <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h2 id="day6-2-æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½20250325"><strong>Day6-2 æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½ï¼ˆ2025.03.25ï¼‰</strong> </h2>
<h2 id="1-å¤ä¹ "><strong>1. å¤ä¹ </strong> </h2>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº† C++ ä¸­çš„ <strong>è¾“å…¥è¾“å‡ºæµè¿ç®—ç¬¦é‡è½½ï¼ˆ<code>&lt;&lt;</code> å’Œ <code>&gt;&gt;</code>ï¼‰</strong> ä»¥åŠ <strong>ä¸‹æ ‡è¿ç®—ç¬¦ <code>[]</code> å’Œå‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ <code>()</code></strong> çš„é‡è½½ã€‚æœ¬èŠ‚æˆ‘ä»¬å°†é‡ç‚¹å­¦ä¹  <strong>æˆå‘˜è®¿é—®è¿ç®—ç¬¦ï¼ˆ<code>-&gt;</code> å’Œ <code>*</code>ï¼‰çš„é‡è½½</strong>ã€‚</p>
<hr>
<h2 id="2-æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½"><strong>2. æˆå‘˜è®¿é—®è¿ç®—ç¬¦é‡è½½</strong> </h2>
<p>C++ å…è®¸ç”¨æˆ·è‡ªå®šä¹‰ç±»çš„æˆå‘˜è®¿é—®æ–¹å¼ï¼Œå…¶ä¸­ <code>-&gt;</code>ï¼ˆç®­å¤´è¿ç®—ç¬¦ï¼‰å’Œ <code>*</code>ï¼ˆè§£å¼•ç”¨è¿ç®—ç¬¦ï¼‰æ˜¯æœ€å¸¸è§çš„è¿ç®—ç¬¦ä¹‹ä¸€ã€‚å®ƒä»¬é€šå¸¸ç”¨äºæ¨¡æ‹Ÿæ™ºèƒ½æŒ‡é’ˆæˆ–å¤šå±‚æŒ‡é’ˆè®¿é—®ã€‚</p>
<h3 id="21-ç®­å¤´è¿ç®—ç¬¦---é‡è½½"><strong>2.1 ç®­å¤´è¿ç®—ç¬¦ (<code>-&gt;</code>) é‡è½½</strong> </h3>
<h4 id="1-è¯­æ³•"><strong>(1) è¯­æ³•</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    B<span class="token operator">*</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>ä½œç”¨</strong>ï¼š</p>
<ul>
<li>å…è®¸ <code>A</code> ç±»çš„å¯¹è±¡ <strong>åƒæŒ‡é’ˆä¸€æ ·è®¿é—® <code>B</code> ç±»çš„æˆå‘˜</strong>ã€‚</li>
<li>å…¸å‹ç”¨é€”æ˜¯åœ¨ <strong>å°è£…æŒ‡é’ˆ</strong> çš„ç±»ï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆï¼‰ä¸­é‡è½½ <code>operator-&gt;</code>ï¼Œä½¿å¾—ç”¨æˆ·æ— éœ€æ‰‹åŠ¨è§£å¼•ç”¨å³å¯è®¿é—®ç›®æ ‡å¯¹è±¡çš„æˆå‘˜ã€‚</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ol>
<li><strong>è¿”å›å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‡é’ˆæˆ–è€…å¼•ç”¨</strong>ï¼Œå¦åˆ™æ— æ³•ç»§ç»­è®¿é—®æˆå‘˜å˜é‡æˆ–å‡½æ•°ã€‚</li>
<li><strong>å¦‚æœè¿”å›çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨</strong>ï¼Œåˆ™å¯ä»¥å®ç°å¤šå±‚ <code>-&gt;</code> é‡è½½ã€‚</li>
<li><code>operator-&gt;</code> <strong>ä¸èƒ½æ”¹å˜è°ƒç”¨å¯¹è±¡è‡ªèº«</strong>ï¼Œå› æ­¤é€šå¸¸ <strong>ä¸åº”è¯¥å£°æ˜ä¸º <code>const</code> æˆå‘˜å‡½æ•°</strong>ã€‚</li>
</ol>
<hr>
<h3 id="22-è§£å¼•ç”¨è¿ç®—ç¬¦--é‡è½½"><strong>2.2 è§£å¼•ç”¨è¿ç®—ç¬¦ (<code>*</code>) é‡è½½</strong> </h3>
<h4 id="1-è¯­æ³•-1"><strong>(1) è¯­æ³•</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    B<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p><strong>ä½œç”¨</strong>ï¼š</p>
<ul>
<li>å…è®¸ <code>A</code> ç±»çš„å¯¹è±¡ <strong>åƒæŒ‡é’ˆä¸€æ ·è¿›è¡Œè§£å¼•ç”¨</strong>ã€‚</li>
<li>å¸¸è§äºæ™ºèƒ½æŒ‡é’ˆçš„å®ç°ï¼Œä½¿ <code>*ptr</code> ç›´æ¥è¿”å›å¯¹è±¡çš„å¼•ç”¨ï¼Œæ–¹ä¾¿è®¿é—®å…¶æˆå‘˜ã€‚</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ol>
<li><strong>è¿”å›å€¼ä¸€èˆ¬æ˜¯å¼•ç”¨</strong>ï¼ˆå¦‚ <code>B&amp;</code>ï¼‰ï¼Œè¿™æ ·ä¸ä¼šäº§ç”Ÿé¢å¤–çš„æ‹·è´ã€‚</li>
<li>é€‚ç”¨äº <strong>å°è£…æŒ‡é’ˆ</strong> çš„ç±»ï¼Œå¦‚æ™ºèƒ½æŒ‡é’ˆæˆ–ä»£ç†ç±»ã€‚</li>
</ol>
<hr>
<h2 id="3-ä»£ç åˆ†æ"><strong>3. ä»£ç åˆ†æ</strong> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Data</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Data</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> data <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Data(int data = 0)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Data()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>

	<span class="token keyword keyword-int">int</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> _data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> _data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">SecondLayer</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">SecondLayer</span><span class="token punctuation">(</span>Data<span class="token operator">*</span> pData<span class="token punctuation">)</span>
	<span class="token operator">:</span><span class="token function">_pData</span><span class="token punctuation">(</span>pData<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"SecondLayer(Data* pData)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//é‡è½½ -&gt; è¿ç®—ç¬¦</span>
	Data<span class="token operator">*</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> _pData<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//è§£å¼•ç”¨é‡è½½è¿ç®—ç¬¦</span>
	Data<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span>_pData<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token operator">~</span><span class="token function">SecondLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~SecondLayer()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pData<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span> _pData<span class="token punctuation">;</span>
			_pData <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>


<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	Data<span class="token operator">*</span> _pData<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">ThirdLayer</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">ThirdLayer</span><span class="token punctuation">(</span>SecondLayer<span class="token operator">*</span> pSecond<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pSecond</span><span class="token punctuation">(</span>pSecond<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ThirdLayer(SecondLayer* pSecond)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//é‡è½½ -&gt; è¿ç®—ç¬¦</span>
	SecondLayer<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span>_pSecond<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">ThirdLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~ThirdLayer()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pSecond<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span> _pSecond<span class="token punctuation">;</span>
			_pSecond <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	SecondLayer<span class="token operator">*</span> _pSecond<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">/*Data* data = new Data(1);
	SecondLayer* second = new SecondLayer(data);
	ThirdLayer* third = new ThirdLayer(second);*/</span>

	SecondLayer <span class="token function">second</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">Data</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ ˆå¯¹è±¡</span>
	<span class="token comment">//Aç±»çš„å¯¹è±¡è°ƒç”¨Bç±»çš„æˆå‘˜å‡½æ•°</span>
	<span class="token comment">/*cout &lt;&lt; "&amp;second : " &lt;&lt; &amp;second &lt;&lt; endl;
	cout &lt;&lt; "second.operator-&gt;() :" &lt;&lt; second.operator-&gt;() &lt;&lt; endl;*/</span>

	<span class="token comment">//  é‡è½½operator-&gt;  </span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"second.operator-&gt;()-&gt;getData() :"</span> <span class="token operator">&lt;&lt;</span> second<span class="token punctuation">.</span><span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"second-&gt;getData() :"</span> <span class="token operator">&lt;&lt;</span> second<span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">//  é‡è½½operator* </span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(*second).getData()"</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>second<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>


	ThirdLayer <span class="token function">third</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">SecondLayer</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">Data</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ ˆå¯¹è±¡</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"third-&gt;getData() : "</span> <span class="token operator">&lt;&lt;</span> third<span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//è¿˜åŸ</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"third.operator-&gt;().operator-&gt;()-&gt;getData()"</span> <span class="token operator">&lt;&lt;</span> third<span class="token punctuation">.</span><span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> argc<span class="token punctuation">,</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="31-ä»£ç ç»“æ„"><strong>3.1 ä»£ç ç»“æ„</strong> </h3>
<p>ä¸Šé¢çš„ä»£ç å®ç°äº†ä¸€ä¸ª <strong>ä¸‰å±‚å°è£…</strong> çš„æŒ‡é’ˆä»£ç†ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code>Data</code>ï¼šæ•°æ®ç±»ï¼ŒåŒ…å«ä¸€ä¸ª <code>_data</code> æˆå‘˜å˜é‡ã€‚</li>
<li><code>SecondLayer</code>ï¼šå°è£… <code>Data*</code> æŒ‡é’ˆï¼Œå¹¶é‡è½½ <code>operator-&gt;</code> å’Œ <code>operator*</code>ã€‚</li>
<li><code>ThirdLayer</code>ï¼šå°è£… <code>SecondLayer*</code> æŒ‡é’ˆï¼Œå¹¶é‡è½½ <code>operator-&gt;</code>ã€‚</li>
</ul>
<hr>
<h3 id="32-ä»£ç è§£æ"><strong>3.2 ä»£ç è§£æ</strong> </h3>
<h4 id="1-data-ç±»"><strong>(1) <code>Data</code> ç±»</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Data</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Data</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> data <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Data(int data = 0)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Data()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> _data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><ul>
<li><code>Data</code> ç±»å°è£…äº†ä¸€ä¸ª <code>int</code> ç±»å‹çš„æ•°æ® <code>_data</code>ï¼Œæä¾›äº† <code>getData()</code> æ–¹æ³•ç”¨äºè·å–æ•°æ®å€¼ã€‚</li>
<li>æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ç”¨äºè·Ÿè¸ªå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚</li>
</ul>
<hr>
<h4 id="2-secondlayer-ç±»"><strong>(2) <code>SecondLayer</code> ç±»</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">SecondLayer</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">SecondLayer</span><span class="token punctuation">(</span>Data<span class="token operator">*</span> pData<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_pData</span><span class="token punctuation">(</span>pData<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"SecondLayer(Data* pData)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// é‡è½½ -&gt; è¿ç®—ç¬¦</span>
    Data<span class="token operator">*</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _pData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è§£å¼•ç”¨è¿ç®—ç¬¦ *</span>
    Data<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span>_pData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">SecondLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~SecondLayer()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pData<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-delete">delete</span> _pData<span class="token punctuation">;</span>
            _pData <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    Data<span class="token operator">*</span> _pData<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><ul>
<li><strong>å°è£… <code>Data*</code> æŒ‡é’ˆï¼Œå¹¶æä¾›è®¿é—® <code>Data</code> æˆå‘˜çš„æ–¹å¼</strong>ã€‚</li>
<li><code>operator-&gt;()</code> è¿”å› <code>_pData</code> æŒ‡é’ˆï¼Œä½¿å¾— <code>SecondLayer</code> å¯¹è±¡ <strong>å¯ä»¥åƒæŒ‡é’ˆä¸€æ ·ä½¿ç”¨ <code>-&gt;</code> è®¿é—® <code>Data</code> çš„æ–¹æ³•</strong>ã€‚</li>
<li><code>operator*()</code> è¿”å› <code>_pData</code> æ‰€æŒ‡å‘çš„ <code>Data</code> å¯¹è±¡çš„å¼•ç”¨ï¼Œä½¿ <code>*second</code> ç›´æ¥è¿”å› <code>Data</code> å¯¹è±¡ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>SecondLayer <span class="token function">second</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">Data</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> second<span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// ç­‰ä»·äº second.operator-&gt;()-&gt;getData()</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>second<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// ç­‰ä»·äº second.operator*().getData()</span>
</code></pre><hr>
<h4 id="3-thirdlayer-ç±»"><strong>(3) <code>ThirdLayer</code> ç±»</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ThirdLayer</span>
<span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">ThirdLayer</span><span class="token punctuation">(</span>SecondLayer<span class="token operator">*</span> pSecond<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_pSecond</span><span class="token punctuation">(</span>pSecond<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ThirdLayer(SecondLayer* pSecond)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// é‡è½½ -&gt; è¿ç®—ç¬¦</span>
    SecondLayer<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span>_pSecond<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">ThirdLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~ThirdLayer()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pSecond<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-delete">delete</span> _pSecond<span class="token punctuation">;</span>
            _pSecond <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    SecondLayer<span class="token operator">*</span> _pSecond<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><ul>
<li><code>ThirdLayer</code> å°è£…äº† <code>SecondLayer*</code> æŒ‡é’ˆï¼Œå¹¶æä¾› <code>operator-&gt;()</code> ä½¿å…¶ <strong>å¯ä»¥åƒ <code>SecondLayer</code> ä¸€æ ·ä½¿ç”¨ <code>-&gt;</code> è®¿é—® <code>Data</code> çš„æ–¹æ³•</strong>ã€‚</li>
<li><strong>å®ç°ä¸¤å±‚ <code>-&gt;</code> é‡è½½</strong>ï¼Œä½¿å¾— <code>ThirdLayer</code> å¯ä»¥è¿ç»­è®¿é—® <code>Data</code> æˆå‘˜ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>ThirdLayer <span class="token function">third</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">SecondLayer</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">Data</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> third<span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// ç­‰ä»·äº third.operator-&gt;().operator-&gt;()-&gt;getData()</span>
</code></pre><hr>
<h3 id="33-è¿è¡Œ-test-æ–¹æ³•"><strong>3.3 è¿è¡Œ <code>test()</code> æ–¹æ³•</strong> </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    SecondLayer <span class="token function">second</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">Data</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"second-&gt;getData() :"</span> <span class="token operator">&lt;&lt;</span> second<span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(*second).getData()"</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>second<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    ThirdLayer <span class="token function">third</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">SecondLayer</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token function">Data</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"third-&gt;getData() : "</span> <span class="token operator">&lt;&lt;</span> third<span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"third.operator-&gt;().operator-&gt;()-&gt;getData() : "</span> <span class="token operator">&lt;&lt;</span> third<span class="token punctuation">.</span><span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword keyword-operator">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>è¾“å‡ºï¼š</strong></p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>Data(int data = 0)
SecondLayer(Data* pData)
second-&gt;getData() : 10
(*second).getData() : 10
Data(int data = 0)
SecondLayer(Data* pData)
ThirdLayer(SecondLayer* pSecond)
third-&gt;getData() : 30
third.operator-&gt;().operator-&gt;()-&gt;getData() : 30
~ThirdLayer()
~SecondLayer()
~Data()
~SecondLayer()
~Data()
</code></pre><ul>
<li><code>SecondLayer</code> å…è®¸è®¿é—® <code>Data</code> å¯¹è±¡ã€‚</li>
<li><code>ThirdLayer</code> å…è®¸è®¿é—® <code>SecondLayer</code>ï¼Œæœ€ç»ˆå¯è®¿é—® <code>Data</code>ã€‚</li>
<li><strong>å¤šå±‚æŒ‡é’ˆè®¿é—®çš„ä»£ç†æ¨¡å¼ç”Ÿæ•ˆ</strong>ï¼Œå¹¶ä¸”ææ„æ—¶æ­£ç¡®é‡Šæ”¾äº†å†…å­˜ã€‚</li>
</ul>
<hr>
<h2 id="4-æ€»ç»“"><strong>4. æ€»ç»“</strong> </h2>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>ä½œç”¨</th>
<th>é€‚ç”¨åœºæ™¯</th>
<th>è¿”å›å€¼ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>operator-&gt;()</code></td>
<td>å…è®¸å¯¹è±¡åƒæŒ‡é’ˆä¸€æ ·è®¿é—®æˆå‘˜</td>
<td>æ™ºèƒ½æŒ‡é’ˆã€ä»£ç†ç±»</td>
<td>æŒ‡é’ˆæˆ–å¼•ç”¨</td>
</tr>
<tr>
<td><code>operator*()</code></td>
<td>å…è®¸å¯¹è±¡åƒæŒ‡é’ˆä¸€æ ·è§£å¼•ç”¨</td>
<td>æ™ºèƒ½æŒ‡é’ˆã€ä»£ç†ç±»</td>
<td>å¼•ç”¨</td>
</tr>
</tbody>
</table>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ol>
<li><strong><code>operator-&gt;()</code> éœ€è¦è¿”å›æŒ‡é’ˆæˆ–å¼•ç”¨</strong>ï¼Œå¯ä»¥è¿ç»­è°ƒç”¨ <code>-&gt;</code>ã€‚</li>
<li><strong><code>operator*()</code> éœ€è¦è¿”å›å¯¹è±¡çš„å¼•ç”¨</strong>ï¼Œé¿å…æ‹·è´ï¼Œæé«˜æ€§èƒ½ã€‚</li>
<li><strong>é€‚ç”¨äºå°è£…æŒ‡é’ˆçš„ç±»ï¼Œå¦‚æ™ºèƒ½æŒ‡é’ˆå’Œä»£ç†ç±»</strong>ã€‚</li>
</ol>
<p>æœ¬èŠ‚å­¦ä¹ äº† <strong>æˆå‘˜è®¿é—®è¿ç®—ç¬¦ <code>-&gt;</code> å’Œ <code>*</code> çš„é‡è½½</strong>ï¼ŒæŒæ¡å®ƒä»¬çš„ç”¨æ³•å¯ä»¥æ›´å¥½åœ°ç†è§£ <strong>æ™ºèƒ½æŒ‡é’ˆ</strong> å’Œ <strong>ä»£ç†æ¨¡å¼</strong>ã€‚</p>
<hr>
<h2 id="day6-3-ç±»å‹è½¬æ¢å‡½æ•°å’Œç±»åŸŸ"><strong>Day6-3 ç±»å‹è½¬æ¢å‡½æ•°å’Œç±»åŸŸ</strong> </h2>
<h3 id="1-ç±»å‹è½¬æ¢å‡½æ•°type-conversion-functions"><strong>1. ç±»å‹è½¬æ¢å‡½æ•°ï¼ˆType Conversion Functionsï¼‰</strong> </h3>
<h4 id="11-æ¦‚è¿°"><strong>1.1 æ¦‚è¿°</strong> </h4>
<p><strong>ç±»å‹è½¬æ¢å‡½æ•°</strong>ç”¨äºå°†ç±»çš„å¯¹è±¡è½¬æ¢ä¸ºå…¶ä»–ç±»å‹ï¼Œæ»¡è¶³ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ˜¯<strong>ç±»çš„æˆå‘˜å‡½æ•°</strong>ï¼Œä¸èƒ½æ˜¯å‹å…ƒå‡½æ•°æˆ–éæˆå‘˜å‡½æ•°ã€‚</li>
<li><strong>æ²¡æœ‰å‚æ•°åˆ—è¡¨</strong>ï¼ˆå³å¿…é¡»æ˜¯ <code>()</code> ç©ºå‚æ•°ï¼‰ã€‚</li>
<li><strong>æ²¡æœ‰è¿”å›ç±»å‹å£°æ˜</strong>ï¼Œå³ä¸èƒ½æ˜¾å¼å£°æ˜ <code>void</code> æˆ–å…¶ä»–è¿”å›ç±»å‹ã€‚</li>
<li><strong>ä½¿ç”¨ <code>return</code> è¯­å¥è¿”å›ç›®æ ‡ç±»å‹çš„å˜é‡</strong>ã€‚</li>
</ul>
<h4 id="12-ä»£ç ç¤ºä¾‹"><strong>1.2 ä»£ç ç¤ºä¾‹</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Complex</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> real <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> imag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>  
        <span class="token operator">:</span> <span class="token function">_real</span><span class="token punctuation">(</span>real<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_imag</span><span class="token punctuation">(</span>imag<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Complex(int, int) æ„é€ å‡½æ•°"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">Complex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Complex ææ„å‡½æ•°"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> _real <span class="token operator">&lt;&lt;</span> <span class="token string">" + "</span> <span class="token operator">&lt;&lt;</span> _imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getReal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> _real<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">getImag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> _imag<span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> _real<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> _imag<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// é‡è½½è¾“å‡ºè¿ç®—ç¬¦ï¼Œä½¿ Complex å¯ä»¥è¢« cout ç›´æ¥è¾“å‡º</span>
std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_real <span class="token operator">&lt;&lt;</span> <span class="token string">" + "</span> <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_imag <span class="token operator">&lt;&lt;</span> <span class="token string">"i"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Point</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_x</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_y</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point(int, int) æ„é€ å‡½æ•°"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// **ç±»å‹è½¬æ¢å‡½æ•°**</span>
    <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"operator int()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> _x <span class="token operator">+</span> _y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-double">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"operator double()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> _y <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0.0</span> <span class="token operator">:</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>_x<span class="token punctuation">)</span> <span class="token operator">/</span> _y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-operator">operator</span> <span class="token function">Complex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"operator Complex()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">Complex</span><span class="token punctuation">(</span>_x<span class="token punctuation">,</span> _y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Point ææ„å‡½æ•°"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// **ç±»å‹è½¬æ¢æ„é€ å‡½æ•°**</span>
    <span class="token keyword keyword-explicit">explicit</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Complex<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_x</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span><span class="token function">getReal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_y</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span><span class="token function">getImag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point(const Complex&amp;) ç±»å‹è½¬æ¢æ„é€ å‡½æ•°"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> _x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> _y <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> _x<span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> _y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// é‡è½½è¾“å‡ºè¿ç®—ç¬¦ï¼Œä½¿ Point å¯ä»¥è¢« cout ç›´æ¥è¾“å‡º</span>
std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    os <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_y <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testTypeConversion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Point <span class="token function">pt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point pt: "</span> <span class="token operator">&lt;&lt;</span> pt <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword keyword-int">int</span> intValue <span class="token operator">=</span> pt<span class="token punctuation">;</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è½¬æ¢ä¸º int: "</span> <span class="token operator">&lt;&lt;</span> intValue <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword keyword-double">double</span> doubleValue <span class="token operator">=</span> pt<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è½¬æ¢ä¸º double: "</span> <span class="token operator">&lt;&lt;</span> doubleValue <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    Complex comValue <span class="token operator">=</span> pt<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è½¬æ¢ä¸º Complex: "</span> <span class="token operator">&lt;&lt;</span> comValue <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">testTypeConversion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="13-å…³é”®ä¼˜åŒ–"><strong>1.3 å…³é”®ä¼˜åŒ–</strong> </h4>
<p>âœ… <strong>ç±»å‹è½¬æ¢æ„é€ å‡½æ•°</strong>å¢åŠ  <code>explicit</code>ï¼Œé˜²æ­¢éšå¼è½¬æ¢å¯¼è‡´æ½œåœ¨é”™è¯¯ã€‚<br>
âœ… <strong>ç±»å‹è½¬æ¢å‡½æ•°</strong>æ·»åŠ  <code>const</code>ï¼Œä¿è¯ <code>Point</code> çš„æˆå‘˜å˜é‡ä¸ä¼šè¢«ä¿®æ”¹ã€‚<br>
âœ… <strong><code>operator double()</code></strong> å¤„ç† <code>_y == 0</code> æƒ…å†µï¼Œé¿å…é™¤é›¶å¼‚å¸¸ã€‚<br>
âœ… <strong>ä¼˜åŒ– <code>Complex</code> ç›¸å…³ä»£ç </strong>ï¼Œæ¶ˆé™¤ <code>friend</code> å†—ä½™ï¼Œæé«˜å¯è¯»æ€§ã€‚</p>
<hr>
<h3 id="2-ç±»åŸŸclass-scope"><strong>2. ç±»åŸŸï¼ˆClass Scopeï¼‰</strong> </h3>
<h4 id="21-ä½œç”¨åŸŸ-vs-å¯è§åŸŸ"><strong>2.1 ä½œç”¨åŸŸ vs å¯è§åŸŸ</strong> </h4>
<ul>
<li><strong>ä½œç”¨åŸŸï¼ˆScopeï¼‰</strong>ï¼šæŒ‡å˜é‡åœ¨ä»£ç ä¸­çš„<strong>å¯è®¿é—®èŒƒå›´</strong>ï¼Œå½±å“å˜é‡çš„è§£ææ–¹å¼ã€‚</li>
<li><strong>å¯è§åŸŸï¼ˆVisibilityï¼‰</strong>ï¼šå˜é‡æ˜¯å¦åœ¨å½“å‰ä¸Šä¸‹æ–‡å¯è§ï¼Œå— <code>private</code>ã€<code>protected</code>ã€<code>public</code> ä¿®é¥°ç¬¦å½±å“ã€‚</li>
<li><strong>ä½œç”¨åŸŸ â‰¥ å¯è§åŸŸ</strong>ï¼Œå¦‚æœæ²¡æœ‰<strong>å‘½åå†²çª</strong>ï¼ŒäºŒè€…ç›¸ç­‰ã€‚</li>
</ul>
<hr>
<h4 id="22-ä»£ç ç¤ºä¾‹"><strong>2.2 ä»£ç ç¤ºä¾‹</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> globalNumber <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>  <span class="token comment">// **å…¨å±€ä½œç”¨åŸŸå˜é‡**</span>

<span class="token keyword keyword-namespace">namespace</span> ceshi
<span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> namespaceNumber <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>  <span class="token comment">// **å‘½åç©ºé—´ä½œç”¨åŸŸ**</span>

    <span class="token keyword keyword-class">class</span> <span class="token class-name">Test</span>
    <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
        <span class="token function">Test</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> value <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

        <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> number<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å±€éƒ¨å˜é‡ number: "</span> <span class="token operator">&lt;&lt;</span> number <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æˆå‘˜å˜é‡ number: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>number <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ç±»ä½œç”¨åŸŸ number: "</span> <span class="token operator">&lt;&lt;</span> Test<span class="token double-colon punctuation">::</span>number <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å‘½åç©ºé—´ ceshi::number: "</span> <span class="token operator">&lt;&lt;</span> ceshi<span class="token double-colon punctuation">::</span>namespaceNumber <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å…¨å±€å˜é‡ globalNumber: "</span> <span class="token operator">&lt;&lt;</span> <span class="token double-colon punctuation">::</span>globalNumber <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span><span class="token operator">:</span>
        <span class="token keyword keyword-int">int</span> number<span class="token punctuation">;</span>  <span class="token comment">// **ç±»æˆå‘˜å˜é‡**</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// namespace ceshi</span>

<span class="token keyword keyword-void">void</span> <span class="token function">testScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> localValue <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>
    ceshi<span class="token double-colon punctuation">::</span>Test obj<span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>localValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">testScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="23-å…³é”®ä¼˜åŒ–"><strong>2.3 å…³é”®ä¼˜åŒ–</strong> </h4>
<p>âœ… <strong>æ¸…æ™°åˆ’åˆ†ä¸åŒä½œç”¨åŸŸ</strong>ï¼šå…¨å±€ä½œç”¨åŸŸ <code>::</code>ã€å‘½åç©ºé—´ <code>ceshi::</code>ã€ç±»ä½œç”¨åŸŸ <code>this-&gt;</code> å’Œ <code>Test::</code>ã€‚<br>
âœ… <strong>å¢å¼º <code>print()</code> æ–¹æ³•è¾“å‡ºæ ¼å¼</strong>ï¼Œæ›´ç›´è§‚ç†è§£å˜é‡çš„ä½œç”¨åŸŸã€‚<br>
âœ… <strong>æ¶ˆé™¤ä¸å¿…è¦çš„ææ„å‡½æ•°</strong>ï¼Œæå‡ä»£ç ç®€æ´æ€§ã€‚<br>
âœ… <strong>ä»£ç æ ¼å¼è°ƒæ•´</strong>ï¼Œå¢å¼ºå¯è¯»æ€§ã€‚</p>
<hr>
<h3 id="3-å†…éƒ¨ç±»nested-class"><strong>3. å†…éƒ¨ç±»ï¼ˆNested Classï¼‰</strong> </h3>
<p><strong>å†…éƒ¨ç±»</strong>ï¼ˆNested Classï¼‰æ˜¯æŒ‡åœ¨ä¸€ä¸ªç±»çš„å®šä¹‰å†…éƒ¨å†å®šä¹‰ä¸€ä¸ªç±»ã€‚å†…éƒ¨ç±»åœ¨é€»è¾‘ä¸Šå±äºå¤–éƒ¨ç±»çš„ä¸€éƒ¨åˆ†ï¼Œä½†å…·æœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚</p>
<h4 id="31-å†…éƒ¨ç±»çš„å®šä¹‰"><strong>3.1 å†…éƒ¨ç±»çš„å®šä¹‰</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-class">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span> <span class="token comment">// å†…éƒ¨ç±»</span>
    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
        <span class="token keyword keyword-void">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"This is Inner class"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Outer<span class="token double-colon punctuation">::</span>Inner obj<span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡</span>
    obj<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ol>
<li>å†…éƒ¨ç±»çš„ä½œç”¨åŸŸå—å¤–éƒ¨ç±»çš„é™åˆ¶ã€‚</li>
<li>å†…éƒ¨ç±»çš„å¯¹è±¡å¯ä»¥é€šè¿‡ <code>å¤–éƒ¨ç±»::å†…éƒ¨ç±»</code> çš„æ–¹å¼åˆ›å»ºã€‚</li>
<li>å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„ <code>public</code> å’Œ <code>protected</code> æˆå‘˜ï¼Œä½†ä¸èƒ½ç›´æ¥è®¿é—® <code>private</code> æˆå‘˜ï¼ˆé™¤éä½¿ç”¨ <code>friend</code> å…³é”®å­—ï¼‰ã€‚</li>
</ol>
<h4 id="32-è®¿é—®å¤–éƒ¨ç±»çš„-private-æˆå‘˜"><strong>3.2 è®¿é—®å¤–éƒ¨ç±»çš„ <code>private</code> æˆå‘˜</strong> </h4>
<p>å¦‚æœå†…éƒ¨ç±»éœ€è¦è®¿é—®å¤–éƒ¨ç±»çš„ <code>private</code> æˆå‘˜ï¼Œå¯ä»¥å°†å…¶å£°æ˜ä¸º <code>friend</code>ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> _data <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-class">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
        <span class="token keyword keyword-void">void</span> <span class="token function">display</span><span class="token punctuation">(</span>Outer<span class="token operator">&amp;</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Outer data: "</span> <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span>_data <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Outer outerObj<span class="token punctuation">;</span>
    Outer<span class="token double-colon punctuation">::</span>Inner innerObj<span class="token punctuation">;</span>
    innerObj<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span>outerObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="33-é™æ€å†…éƒ¨ç±»"><strong>3.3 é™æ€å†…éƒ¨ç±»</strong> </h4>
<p>é™æ€å†…éƒ¨ç±»ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„éé™æ€æˆå‘˜ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">StaticInner</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span><span class="token operator">:</span>
        <span class="token keyword keyword-void">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"This is a static inner class"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Outer<span class="token double-colon punctuation">::</span>StaticInner obj<span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="4-ä½œç”¨åŸŸè¿ç®—ç¬¦scope-resolution-operator-"><strong>4. ä½œç”¨åŸŸè¿ç®—ç¬¦ï¼ˆScope Resolution Operator <code>::</code>ï¼‰</strong> </h3>
<p>ä½œç”¨åŸŸè¿ç®—ç¬¦ <code>::</code> ç”¨äºæŒ‡å®šå˜é‡ã€å‡½æ•°æˆ–ç±»æ‰€å±çš„ä½œç”¨åŸŸï¼Œä¸»è¦åº”ç”¨å¦‚ä¸‹ï¼š</p>
<h4 id="41-è®¿é—®å…¨å±€å˜é‡"><strong>4.1 è®¿é—®å…¨å±€å˜é‡</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> number <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> number <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Local number: "</span> <span class="token operator">&lt;&lt;</span> number <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Global number: "</span> <span class="token operator">&lt;&lt;</span> <span class="token double-colon punctuation">::</span>number <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="42-è®¿é—®å‘½åç©ºé—´å†…çš„å˜é‡"><strong>4.2 è®¿é—®å‘½åç©ºé—´å†…çš„å˜é‡</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-namespace">namespace</span> A <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-namespace">namespace</span> B <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> value <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A::value = "</span> <span class="token operator">&lt;&lt;</span> A<span class="token double-colon punctuation">::</span>value <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B::value = "</span> <span class="token operator">&lt;&lt;</span> B<span class="token double-colon punctuation">::</span>value <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="43-è®¿é—®ç±»çš„é™æ€æˆå‘˜"><strong>4.3 è®¿é—®ç±»çš„é™æ€æˆå‘˜</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> Demo<span class="token double-colon punctuation">::</span>data <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Static data: "</span> <span class="token operator">&lt;&lt;</span> Demo<span class="token double-colon punctuation">::</span>data <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="5-ç±»å‹è½¬æ¢è¿ç®—ç¬¦type-casting-operators"><strong>5. ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆType Casting Operatorsï¼‰</strong> </h3>
<p>C++ æä¾›äº†å››ç§ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼š</p>
<ol>
<li><code>static_cast</code>ï¼šç”¨äºåŸºæœ¬ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</li>
<li><code>dynamic_cast</code>ï¼šç”¨äºå¤šæ€ç±»å‹çš„å®‰å…¨è½¬æ¢ã€‚</li>
<li><code>const_cast</code>ï¼šç”¨äºå»é™¤ <code>const</code> æˆ– <code>volatile</code> ä¿®é¥°ç¬¦ã€‚</li>
<li><code>reinterpret_cast</code>ï¼šç”¨äºä¸åŒç±»å‹æŒ‡é’ˆä¹‹é—´çš„è½¬æ¢ã€‚</li>
</ol>
<h4 id="51-static_cast-ç”¨æ³•"><strong>5.1 <code>static_cast</code> ç”¨æ³•</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">test_static_cast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-double">double</span> num <span class="token operator">=</span> <span class="token number">10.5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> intNum <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Converted value: "</span> <span class="token operator">&lt;&lt;</span> intNum <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="52-dynamic_cast-ç”¨æ³•"><strong>5.2 <code>dynamic_cast</code> ç”¨æ³•</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived class"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test_dynamic_cast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Base<span class="token operator">*</span> basePtr <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Derived<span class="token operator">*</span> derivedPtr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">dynamic_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Derived<span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>basePtr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>derivedPtr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        derivedPtr<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-delete">delete</span> basePtr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="53-const_cast-ç”¨æ³•"><strong>5.3 <code>const_cast</code> ç”¨æ³•</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">test_const_cast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> num <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token generic-function"><span class="token function">const_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Modified value: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="54-reinterpret_cast-ç”¨æ³•"><strong>5.4 <code>reinterpret_cast</code> ç”¨æ³•</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-void">void</span> <span class="token function">test_reinterpret_cast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> num <span class="token operator">=</span> <span class="token number">65</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-char">char</span><span class="token operator">*</span> ch <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reinterpret_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Reinterpreted value: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="6-å…³é”®å­—-explicit-ä¸ç±»å‹è½¬æ¢"><strong>6. å…³é”®å­— <code>explicit</code> ä¸ç±»å‹è½¬æ¢</strong> </h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒC++ å…è®¸æ„é€ å‡½æ•°è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œä½† <code>explicit</code> å…³é”®å­—å¯ä»¥ç¦æ­¢è¿™ç§è¡Œä¸ºã€‚</p>
<h4 id="61-éšå¼è½¬æ¢"><strong>6.1 éšå¼è½¬æ¢</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Demo(int)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test_implicit_conversion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Demo obj <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// éšå¼è°ƒç”¨ Demo(int)</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="62-ä½¿ç”¨-explicit-ç¦æ­¢éšå¼è½¬æ¢"><strong>6.2 ä½¿ç”¨ <code>explicit</code> ç¦æ­¢éšå¼è½¬æ¢</strong> </h4>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-explicit">explicit</span> <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Demo(int)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test_explicit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Demo obj = 10; // é”™è¯¯ï¼éšå¼è½¬æ¢è¢«ç¦æ­¢</span>
    Demo <span class="token function">obj</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ­£ç¡®</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="7-æ€»ç»“"><strong>7. æ€»ç»“</strong> </h3>
<ol>
<li><strong>å†…éƒ¨ç±»</strong> æ˜¯å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»å†…éƒ¨çš„ç±»ï¼Œå…·æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œå¹¶ä¸”å¯ä»¥æ˜¯ <code>static</code>ã€‚</li>
<li><strong>ä½œç”¨åŸŸè¿ç®—ç¬¦ <code>::</code></strong> ç”¨äºè®¿é—®ä¸åŒä½œç”¨åŸŸçš„å˜é‡æˆ–å‡½æ•°ã€‚</li>
<li><strong>ç±»å‹è½¬æ¢è¿ç®—ç¬¦</strong> æä¾›æ›´å®‰å…¨ã€å¯æ§çš„è½¬æ¢æ–¹å¼ã€‚</li>
<li><strong><code>explicit</code> å…³é”®å­—</strong> å¯ä»¥é˜²æ­¢æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢ã€‚</li>
</ol>
<h2 id="day7-1-æ™ºèƒ½æŒ‡é’ˆé›å½¢"><strong>Day7-1 æ™ºèƒ½æŒ‡é’ˆé›å½¢</strong> </h2>
<h3 id="1-ç‹¬å è¯­ä¹‰å’Œå…±äº«è¯­ä¹‰"><strong>1. ç‹¬å è¯­ä¹‰å’Œå…±äº«è¯­ä¹‰</strong> </h3>
<h4 id="11-æ¦‚è¿°-1"><strong>1.1 æ¦‚è¿°</strong> </h4>
<h3 id="2-stdstringçš„å®ç°"><strong>2. std::stringçš„å®ç°</strong> </h3>
<h4 id="21-æ¦‚è¿°"><strong>2.1 æ¦‚è¿°</strong> </h4>
<h3 id="3-ç§»åŠ¨è¯­ä¹‰"><strong>3. ç§»åŠ¨è¯­ä¹‰</strong> </h3>
<h4 id="31-æ¦‚è¿°"><strong>3.1 æ¦‚è¿°</strong> </h4>
<hr>
<h2 id="day7-2-ç»§æ‰¿å’Œå¤šæ€"><strong>Day7-2 ç»§æ‰¿å’Œå¤šæ€</strong> </h2>
<h3 id="ä¸€-ç»§æ‰¿">ä¸€ã€ç»§æ‰¿ </h3>
<h4 id="1-ç»§æ‰¿çš„åŸºç¡€">1ã€ç»§æ‰¿çš„åŸºç¡€ </h4>
<p>é¢å‘å¯¹è±¡çš„å››å¤§åŸºæœ¬ç‰¹å¾ï¼šæŠ½è±¡ã€å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚</p>
<p>åŠ¨ç‰©ï¼šæ—¢æœ‰ç±»ã€‚çˆ¶ç±»ã€åŸºç±»</p>
<p>é¸Ÿï¼šæ–°ç±»ã€‚å­ç±»ã€æ´¾ç”Ÿç±»</p>
<p>ç»§æ‰¿ï¼šä»æ—¢æœ‰ç±»äº§ç”Ÿæ–°ç±»çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚</p>
<h4 id="2-ç»§æ‰¿çš„å®šä¹‰">2ã€ç»§æ‰¿çš„å®šä¹‰ </h4>
<pre data-role="codeBlock" data-info="C++" class="language-cpp C++"><code><span class="token keyword keyword-class">class</span> å­ç±»<span class="token punctuation">(</span>æ´¾ç”Ÿç±»<span class="token punctuation">)</span> 
<span class="token operator">:</span> <span class="token keyword keyword-public">public</span><span class="token operator">/</span><span class="token keyword keyword-protected">protected</span><span class="token operator">/</span><span class="token keyword keyword-private">private</span> çˆ¶ç±»<span class="token punctuation">(</span>åŸºç±»<span class="token punctuation">)</span>   <span class="token comment">//ç±»æ´¾ç”Ÿåˆ—è¡¨</span>
<span class="token punctuation">{</span>
    <span class="token comment">//æ•°æ®æˆå‘˜</span>
    <span class="token comment">//æˆå‘˜å‡½æ•°</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="3-æ´¾ç”Ÿç±»äº§ç”Ÿçš„è¿‡ç¨‹">3ã€æ´¾ç”Ÿç±»äº§ç”Ÿçš„è¿‡ç¨‹ </h4>
<p>1ã€å¸æ”¶åŸºç±»çš„æˆå‘˜</p>
<p>2ã€æ”¹é€ åŸºç±»çš„æˆå‘˜</p>
<p>3ã€æ·»åŠ è‡ªå·±æ–°çš„æˆå‘˜</p>
<p>å¸æ”¶ã€æ”¹é€ ã€æ–°å¢ã€‚</p>
<h4 id="4-ç»§æ‰¿çš„å±€é™">4ã€ç»§æ‰¿çš„å±€é™ </h4>
<p>æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€å‹å…ƒå…³ç³»ã€åŸºç±»çš„operator new/delete /=</p>
<h4 id="5-è®¿é—®æƒé™">5ã€è®¿é—®æƒé™ </h4>
<h4 id="6-protectedä¸privateç»§æ‰¿åŒºåˆ«">6ã€protectedä¸privateç»§æ‰¿åŒºåˆ« </h4>
<p>1ã€protectedçš„ç»§æ‰¿å¯ä»¥æ— é™ç»§æ‰¿ä¸‹å»ï¼Œä½†æ˜¯privateç»§æ‰¿åªèƒ½æœ‰ä¸€ä»£</p>
<p>2ã€å¦‚æœä¸å†™ç»§æ‰¿æ–¹å¼ï¼Œé»˜è®¤ç»§æ‰¿æ–¹å¼æ˜¯ç§æœ‰çš„ã€‚</p>
<h3 id="äºŒ-æ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€ ">äºŒã€æ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€  </h3>
<p>æ€»ç»“ï¼š<strong>å½“åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡çš„æ—¶å€™</strong>ï¼Œ<strong>ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</strong>ï¼Œä¸ºäº†å®Œæˆä»åŸºç±»å¸æ”¶è¿‡æ¥çš„æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–ï¼Œä¼šè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œå¦‚æœåŸºç±»æ²¡æœ‰æ˜¾ç¤ºå®šä¹‰æ„é€ å‡½æ•°ï¼Œå°±ä¼šè°ƒç”¨åŸºç±»çš„æ— å‚æ„é€ å‡½æ•°ï¼Œè€Œå¦‚æœåŸºç±»æœ‰æ˜¾ç¤ºå®šä¹‰æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆä¹Ÿä¼šé»˜è®¤è°ƒç”¨åŸºç±»çš„æ— å‚æ„é€ å‡½æ•°ï¼Œå®Œæˆåˆå§‹åŒ–ï¼Œå¦‚æœä¸åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­æ˜¾ç¤ºè°ƒç”¨åŸºç±»æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<p>æ€»ç»“ï¼šå½“åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡çš„æ—¶å€™ï¼Œä¸ç®¡åŸºç±»ä¸æ´¾ç”Ÿç±»æœ‰æ²¡æœ‰æ˜¾ç¤ºå†™å‡ºæ„é€ å‡½æ•°ï¼Œè‚¯å®šé»˜è®¤ä¼šè°ƒç”¨æ— å‚çš„ï¼Œæœ‰æ—¶æ— å‚åˆæ²¡æœ‰ï¼Œæ‰€ä»¥æœ€å¥½åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œæ˜¾ç¤ºå†™å‡ºåŸºç±»æ„é€ å‡½æ•°å°±å¯ä»¥ã€‚</p>
<p>æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„åŠŸèƒ½ï¼šï¼ˆæ‰§è¡Œé¡ºåºï¼‰</p>
<p>1ã€å®Œæˆå¯¹è±¡æ‰€å æ•´å—å†…å­˜çš„å¼€è¾Ÿï¼Œç”±ç³»ç»Ÿåœ¨è°ƒç”¨æ„é€ å‡½æ•°æ—¶è‡ªåŠ¨å®Œæˆã€‚<br>
2ã€è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°å®ŒæˆåŸºç±»æˆå‘˜çš„åˆå§‹åŒ–ã€‚<br>
3ã€è‹¥æ´¾ç”Ÿç±»ä¸­å«å¯¹è±¡æˆå‘˜ã€constæˆå‘˜æˆ–å¼•ç”¨æˆå‘˜ï¼Œåˆ™å¿…é¡»åœ¨åˆå§‹åŒ–è¡¨ä¸­å®Œæˆå…¶åˆå§‹åŒ–ã€‚<br>
4ã€æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä½“æ‰§è¡Œ</p>
<h3 id="ä¸‰-æ´¾ç”Ÿç±»å¯¹è±¡çš„é”€æ¯">ä¸‰ã€æ´¾ç”Ÿç±»å¯¹è±¡çš„é”€æ¯ </h3>
<p>æ´¾ç”Ÿç±»å¯¹è±¡é”€æ¯çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œç„¶å<strong>åŸºç±»ææ„å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨</strong>ã€‚</p>
<p>ææ„å‡½æ•°æ‰§è¡Œé¡ºåºï¼š</p>
<p>1ã€å…ˆè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°<br>
2ã€å†è°ƒç”¨æ´¾ç”Ÿç±»ä¸­æˆå‘˜å¯¹è±¡çš„ææ„å‡½æ•°<br>
3ã€æœ€åè°ƒç”¨æ™®é€šåŸºç±»çš„ææ„å‡½æ•°</p>
<h3 id="å››-å¤šç»§æ‰¿é‡è¦">å››ã€å¤šç»§æ‰¿ï¼ˆé‡è¦ï¼‰ </h3>
<h4 id="1-å¤šç»§æ‰¿åŸºç¡€">1ã€å¤šç»§æ‰¿åŸºç¡€ </h4>
<h4 id="2-å¤šç»§æ‰¿çš„é—®é¢˜">2ã€å¤šç»§æ‰¿çš„é—®é¢˜ </h4>
<h5 id="1-æˆå‘˜å‡½æ•°è®¿é—®å†²çª">1ã€æˆå‘˜å‡½æ•°è®¿é—®å†²çª </h5>
<p>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç±»å + ä½œç”¨åŸŸé™å®šç¬¦</p>
<h5 id="2-æ•°æ®æˆå‘˜çš„å­˜å‚¨äºŒä¹‰æ€§">2ã€æ•°æ®æˆå‘˜çš„å­˜å‚¨äºŒä¹‰æ€§ </h5>
<p>è§£å†³æ–¹æ¡ˆï¼šè™šæ‹Ÿç»§æ‰¿ã€‚</p>
<h2 id="day7-3-åŸºç±»ä¸æ´¾ç”Ÿç±»æ·±å…¥"><strong>Day7-3 åŸºç±»ä¸æ´¾ç”Ÿç±»æ·±å…¥</strong> </h2>
<h2 id="cday16">C++Day16 </h2>
<h3 id="ä¸€-é—®é¢˜å›é¡¾">ä¸€ã€é—®é¢˜å›é¡¾ </h3>
<p>1ã€ç»§æ‰¿çš„å½¢å¼ï¼Ÿä¸‰ç§ç»§æ‰¿æ–¹å¼çš„ç‰¹ç‚¹ï¼Ÿæ´¾ç”Ÿç±»ç”Ÿæˆè¿‡ç¨‹ï¼Ÿç»§æ‰¿å±€é™ï¼Ÿ</p>
<p>2ã€æ´¾ç”Ÿç±»å¯¹è±¡çš„åˆ›å»ºçš„ç‰¹ç‚¹ï¼Ÿé”€æ¯çš„ç‰¹å¾ï¼Ÿ</p>
<p>3ã€å¤šç»§æ‰¿çš„é—®é¢˜æœ‰å“ªå‡ ç§ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</p>
<h3 id="äºŒ-åŸºç±»ä¸æ´¾ç”Ÿç±»é—´çš„è½¬æ¢">äºŒã€åŸºç±»ä¸æ´¾ç”Ÿç±»é—´çš„è½¬æ¢ </h3>
<p><strong>ç±»å‹é€‚åº”</strong>ï¼šæ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥é€‚ç”¨äºåŸºç±»å¯¹è±¡ã€‚ä¸€ä¸ªç±»å¯ä»¥é€‚ç”¨äºå¦å¤–ä¸€ä¸ªç±»çš„æ‰€æœ‰åœºæ™¯ã€‚<br>
<img src="%E5%9F%BA%E7%B1%BB%E6%B4%BE%E7%94%9F%E7%B1%BB%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2-1.png" alt="alt text"></p>
<hr>
<h3 id="å…³äº-base-ref--derived-çš„æ¨èç¨‹åº¦"><strong>å…³äº <code>Base&amp; ref = derived</code> çš„æ¨èç¨‹åº¦</strong> </h3>
<p>åœ¨C++ä¸­ï¼Œ<code>Base&amp; ref = derived</code>ï¼ˆåŸºç±»å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡ï¼‰æ˜¯ä¸€ç§ <strong>æ¨è</strong> çš„å†™æ³•ï¼Œä½†å…·ä½“æ˜¯å¦é€‚ç”¨å–å†³äºä½ çš„éœ€æ±‚ã€‚ä¸‹é¢è¯¦ç»†åˆ†æå®ƒçš„ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨åœºæ™¯ã€‚</p>
<hr>
<h2 id="1-base--derivedå¯¹è±¡èµ‹å€¼å‘ç”Ÿåˆ‡ç‰‡"><strong>1. <code>base = derived</code>ï¼ˆå¯¹è±¡èµ‹å€¼ï¼Œå‘ç”Ÿåˆ‡ç‰‡ï¼‰</strong> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Base base <span class="token operator">=</span> derived<span class="token punctuation">;</span>  <span class="token comment">// å¯¹è±¡èµ‹å€¼ï¼Œå‘ç”Ÿåˆ‡ç‰‡ï¼ˆslicingï¼‰</span>
base<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// è°ƒç”¨ Base::print()</span>
</code></pre><h3 id="ç‰¹ç‚¹"><strong>ç‰¹ç‚¹ï¼š</strong> </h3>
<ul>
<li><strong>å¯¹è±¡åˆ‡ç‰‡ï¼ˆObject Slicingï¼‰</strong>ï¼š<code>derived</code> çš„æ´¾ç”Ÿç±»éƒ¨åˆ†è¢«ä¸¢å¼ƒï¼Œåªä¿ç•™ <code>Base</code> éƒ¨åˆ†ï¼Œ<code>base</code> æ˜¯ä¸€ä¸ªå…¨æ–°çš„ <code>Base</code> å¯¹è±¡ã€‚</li>
<li><strong>ä¸æ¨è</strong>ï¼šé™¤éä½ æ˜ç¡®åªéœ€è¦åŸºç±»éƒ¨åˆ†ï¼Œå¦åˆ™é€šå¸¸åº”è¯¥é¿å…è¿™ç§å†™æ³•ï¼Œå› ä¸ºå®ƒä¸¢å¤±äº†æ´¾ç”Ÿç±»çš„ä¿¡æ¯ã€‚</li>
</ul>
<hr>
<h2 id="2-base-ref--derivedå¼•ç”¨ç»‘å®šæ— åˆ‡ç‰‡"><strong>2. <code>Base&amp; ref = derived</code>ï¼ˆå¼•ç”¨ç»‘å®šï¼Œæ— åˆ‡ç‰‡ï¼‰</strong> </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Base<span class="token operator">&amp;</span> ref <span class="token operator">=</span> derived<span class="token punctuation">;</span>  <span class="token comment">// å¼•ç”¨ç»‘å®šï¼Œæ— åˆ‡ç‰‡</span>
ref<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// å¦‚æœ print() æ˜¯è™šå‡½æ•°ï¼Œè°ƒç”¨ Derived::print()</span>
</code></pre><h3 id="ç‰¹ç‚¹-1"><strong>ç‰¹ç‚¹ï¼š</strong> </h3>
<p>âœ… <strong>ä¼˜ç‚¹ï¼š</strong></p>
<ol>
<li><strong>æ— å¯¹è±¡åˆ‡ç‰‡</strong>ï¼š<code>ref</code> åªæ˜¯ <code>derived</code> çš„åŸºç±»éƒ¨åˆ†çš„å¼•ç”¨ï¼Œä¸ä¼šå¤åˆ¶æ•°æ®ï¼Œæ´¾ç”Ÿç±»ä¿¡æ¯ä»ç„¶å®Œæ•´ã€‚</li>
<li><strong>æ”¯æŒå¤šæ€</strong>ï¼šå¦‚æœ <code>Base::print()</code> æ˜¯ <code>virtual</code> çš„ï¼Œè°ƒç”¨ <code>ref.print()</code> ä¼šæ­£ç¡®è°ƒç”¨ <code>Derived::print()</code>ï¼ˆåŠ¨æ€ç»‘å®šï¼‰ã€‚</li>
<li><strong>æ›´é«˜æ•ˆ</strong>ï¼šé¿å…äº†ä¸å¿…è¦çš„æ‹·è´ï¼ˆç‰¹åˆ«æ˜¯å½“ <code>Base</code> è¾ƒå¤§æ—¶ï¼‰ã€‚</li>
</ol>
<p>âŒ <strong>ç¼ºç‚¹ï¼š</strong></p>
<ol>
<li><strong>åªèƒ½è®¿é—®åŸºç±»æˆå‘˜</strong>ï¼šé€šè¿‡ <code>ref</code> æ— æ³•ç›´æ¥è®¿é—® <code>Derived</code> çš„ç‰¹æœ‰æ–¹æ³•ï¼ˆå¦‚ <code>derived.extra()</code>ï¼‰ã€‚</li>
<li><strong>å¿…é¡»ç¡®ä¿ <code>derived</code> çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šå¦‚æœ <code>derived</code> è¢«é”€æ¯ï¼Œ<code>ref</code> ä¼šå˜æˆæ‚¬ç©ºå¼•ç”¨ï¼ˆdangling referenceï¼‰ï¼Œå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼ˆUBï¼‰ã€‚</li>
</ol>
<hr>
<h2 id="3-æ¨èç¨‹åº¦"><strong>3. æ¨èç¨‹åº¦</strong> </h2>
<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>æ˜¯å¦æ¨è</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Base base = derived;</code>ï¼ˆèµ‹å€¼ï¼‰</td>
<td>âŒ ä¸æ¨è</td>
<td>é™¤éæ˜ç¡®åªéœ€è¦åŸºç±»éƒ¨åˆ†</td>
</tr>
<tr>
<td><code>Base&amp; ref = derived;</code>ï¼ˆå¼•ç”¨ï¼‰</td>
<td>âœ… <strong>æ¨è</strong></td>
<td>éœ€è¦å¤šæ€ã€é¿å…åˆ‡ç‰‡æ—¶</td>
</tr>
<tr>
<td><code>Base* ptr = &amp;derived;</code>ï¼ˆæŒ‡é’ˆï¼‰</td>
<td>âœ… <strong>æ›´æ¨è</strong></td>
<td>æ›´çµæ´»ï¼Œå¯ä»¥å­˜å‚¨ã€ä¼ é€’</td>
</tr>
</tbody>
</table>
<h3 id="æ›´æ¨èçš„æ›¿ä»£æ–¹æ¡ˆbaseæŒ‡é’ˆ"><strong>æ›´æ¨èçš„æ›¿ä»£æ–¹æ¡ˆï¼š<code>Base*</code>ï¼ˆæŒ‡é’ˆï¼‰</strong> </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>Base<span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>derived<span class="token punctuation">;</span>  <span class="token comment">// åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</span>
ptr<span class="token operator">-&gt;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// å¤šæ€è°ƒç”¨ Derived::print()</span>
</code></pre><p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>æ¯”å¼•ç”¨æ›´çµæ´»ï¼ˆå¯ä»¥è®¾ä¸º <code>nullptr</code>ï¼Œå¯ä»¥ä¿®æ”¹æŒ‡å‘çš„å¯¹è±¡ï¼‰ã€‚</li>
<li>å¸¸ç”¨äºè¿è¡Œæ—¶å¤šæ€ï¼ˆå¦‚å·¥å‚æ¨¡å¼ã€å®¹å™¨å­˜å‚¨ä¸åŒæ´¾ç”Ÿç±»å¯¹è±¡ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="4-æ€»ç»“-1"><strong>4. æ€»ç»“</strong> </h2>
<ul>
<li><strong><code>Base&amp; ref = derived</code> æ˜¯æ¨èçš„</strong>ï¼Œå› ä¸ºå®ƒé¿å…äº†åˆ‡ç‰‡å¹¶æ”¯æŒå¤šæ€ï¼Œä½†å¿…é¡»ç¡®ä¿ <code>derived</code> çš„ç”Ÿå‘½å‘¨æœŸè¶³å¤Ÿé•¿ã€‚</li>
<li><strong><code>Base* ptr = &amp;derived</code> æ›´æ¨è</strong>ï¼Œå› ä¸ºæŒ‡é’ˆæ›´çµæ´»ï¼Œé€‚ç”¨äºæ›´å¤šåœºæ™¯ï¼ˆå¦‚å­˜å‚¨åœ¨ä¸åŒå®¹å™¨ä¸­ï¼‰ã€‚</li>
<li><strong><code>Base base = derived</code> ä¸æ¨è</strong>ï¼Œé™¤éä½ æ˜ç¡®åªéœ€è¦åŸºç±»éƒ¨åˆ†ï¼ˆä½†é€šå¸¸åº”è¯¥ä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿ï¼‰ã€‚</li>
</ul>
<h3 id="æœ€ä½³å®è·µ"><strong>æœ€ä½³å®è·µ</strong> </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">// âœ… æ¨èï¼šæŒ‡é’ˆæ–¹å¼ï¼ˆæ›´çµæ´»ï¼‰</span>
Base<span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>derived<span class="token punctuation">;</span>
ptr<span class="token operator">-&gt;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// âœ… ä¹Ÿå¯ä»¥ï¼šå¼•ç”¨æ–¹å¼ï¼ˆé€‚ç”¨äºå±€éƒ¨ä½œç”¨åŸŸï¼‰</span>
Base<span class="token operator">&amp;</span> ref <span class="token operator">=</span> derived<span class="token punctuation">;</span>
ref<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// âŒ ä¸æ¨èï¼šèµ‹å€¼æ–¹å¼ï¼ˆåˆ‡ç‰‡é—®é¢˜ï¼‰</span>
Base base <span class="token operator">=</span> derived<span class="token punctuation">;</span>
base<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>å¦‚æœä½ éœ€è¦åœ¨å‡½æ•°å‚æ•°ä¸­ä¼ é€’æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œé€šå¸¸ä½¿ç”¨ <strong><code>const Base&amp;</code></strong>ï¼ˆé¿å…æ‹·è´ï¼‰æˆ– <strong><code>Base*</code></strong>ï¼ˆæ›´çµæ´»ï¼‰ã€‚</p>
<hr>
<h3 id="ä¸‰-æ´¾ç”Ÿç±»é—´çš„å¤åˆ¶æ§åˆ¶">ä¸‰ã€æ´¾ç”Ÿç±»é—´çš„å¤åˆ¶æ§åˆ¶ </h3>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//DerivedCopyControl1.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pbase</span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> pbase<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pbase</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base(const char* pbase)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pbase<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> pbase<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pbase</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base(const Base&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pbase<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	Base<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base&amp; operator=(const Base&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pbase<span class="token punctuation">;</span>
			_pbase <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
			_pbase <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pbase<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Base()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pbase<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pbase<span class="token punctuation">;</span>
			_pbase <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> _pbase<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> pbase<span class="token punctuation">,</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> pDerived<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">Base</span><span class="token punctuation">(</span>pbase<span class="token punctuation">)</span>
		<span class="token punctuation">,</span><span class="token function">_pDerived</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived(const char* pbase,const char* pDerived)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pDerived<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> pDerived<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pDerived</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived(const Derived&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pDerived<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	Derived<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived&amp; operator=(const Derived&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pDerived<span class="token punctuation">;</span>
			_pDerived <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>

			_pDerived <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pDerived<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Derived()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pDerived<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pDerived<span class="token punctuation">;</span>
			_pDerived <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> _pDerived<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//Base&amp; ref = rhs;//error!å°† "Base &amp;" ç±»å‹çš„å¼•ç”¨ç»‘å®šåˆ° "const Derived" ç±»å‹çš„åˆå§‹å€¼è®¾å®šé¡¹æ—¶ï¼Œé™å®šç¬¦è¢«ä¸¢å¼ƒ</span>
	<span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> ref <span class="token operator">=</span> rhs<span class="token punctuation">;</span><span class="token comment">//æ­£ç¡®å†™æ³•</span>
	os <span class="token operator">&lt;&lt;</span> ref <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">;</span>
	
	<span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Derived <span class="token function">derived</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span><span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived = "</span> <span class="token operator">&lt;&lt;</span> derived <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡å»åˆå§‹åŒ–ä¸€ä¸ªåˆšåˆšåˆ›å»ºçš„å¯¹è±¡</span>
	Derived <span class="token function">derived2</span><span class="token punctuation">(</span>derived<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived = "</span> <span class="token operator">&lt;&lt;</span> derived <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived2 = "</span> <span class="token operator">&lt;&lt;</span> derived2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Derived <span class="token function">derived3</span><span class="token punctuation">(</span><span class="token string">"cpp"</span><span class="token punctuation">,</span> <span class="token string">"difficult"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived3 = "</span> <span class="token operator">&lt;&lt;</span> derived3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//ä¸¤ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ä¹‹é—´è¿›è¡Œèµ‹å€¼</span>
	derived3 <span class="token operator">=</span> derived<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived = "</span> <span class="token operator">&lt;&lt;</span> derived <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived3 = "</span> <span class="token operator">&lt;&lt;</span> derived3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



</code></pre><hr>
<p><strong><code>DerivedCopyControl2.cpp</code><strong>ç‰ˆæœ¬çš„cppæ–‡ä»¶æ˜¯ä¸ºäº†è§£å†³ä¸Šä¸€ä¸ªç‰ˆæœ¬(</strong><code>DerivedCopyControl1.cpp</code></strong>)çš„æ½œåœ¨é—®é¢˜ï¼Œä¸»è¦é—®é¢˜å¦‚ä¸‹ï¼š</p>
<ul>
<li>Baseçš„æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦æœªå¤„ç†æºå¯¹è±¡çš„_pbaseä¸ºnullptrçš„æƒ…å†µï¼Œå¯¼è‡´æ½œåœ¨å´©æºƒã€‚</li>
<li>Derivedçš„æ‹·è´æ„é€ å‡½æ•°æœªè°ƒç”¨Baseçš„æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¼è‡´åŸºç±»éƒ¨åˆ†æœªè¢«æ­£ç¡®å¤åˆ¶ã€‚</li>
<li>Derivedçš„èµ‹å€¼è¿ç®—ç¬¦æœªè°ƒç”¨Baseçš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œå¯¼è‡´åŸºç±»éƒ¨åˆ†æœªè¢«æ­£ç¡®èµ‹å€¼ã€‚</li>
</ul>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token comment">//DerivedCopyControl2.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>

<span class="token keyword keyword-using">using</span> <span class="token keyword keyword-namespace">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pbase</span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> pbase<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">_pbase</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base(const char* pbase)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pbase<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> pbase<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/*Base(const Base&amp; rhs)
		:_pbase(new char[strlen(rhs._pbase) + 1]())
	{
		cout &lt;&lt; "Base(const Base&amp; rhs)" &lt;&lt; endl;
		strcpy_s(_pbase, strlen(rhs._pbase) + 1, rhs._pbase);
	}*/</span>

	<span class="token comment">// æ‹·è´æ„é€ å‡½æ•°</span>
	<span class="token function">Base</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_pbase</span><span class="token punctuation">(</span><span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base(const Base&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			_pbase <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pbase<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/*Base&amp; operator=(const Base&amp; rhs)
	{
		cout &lt;&lt; "Base&amp; operator=(const Base&amp; rhs)" &lt;&lt; endl;
		if (this != &amp;rhs)
		{
			delete[] _pbase;
			_pbase = nullptr;
			_pbase = new char[strlen(rhs._pbase) + 1]();
			strcpy_s(_pbase, strlen(rhs._pbase) + 1, rhs._pbase);
		}
		return *this;
	}*/</span>

	<span class="token comment">// èµ‹å€¼è¿ç®—ç¬¦</span>
	Base<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base&amp; operator=(const Base&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pbase<span class="token punctuation">;</span>
			_pbase <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">//base = new char[strlen(rhs._pbase) + 1]();</span>
				<span class="token comment">//ä½¿ç”¨new char[size]()ä¼šè¿›è¡Œé›¶åˆå§‹åŒ–ï¼Œéšåstrcpy_sä¼šè¦†ç›–è¿™äº›é›¶ã€‚æ­¤ä¸¾è™½æ— å®³ä½†å½±å“æ€§èƒ½ã€‚</span>
				_pbase <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// æ— éœ€()</span>
				<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pbase<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Base()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pbase<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pbase<span class="token punctuation">;</span>
			_pbase <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> _pbase<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		os <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_pbase<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span>
<span class="token punctuation">{</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> pbase<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> pDerived<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">Base</span><span class="token punctuation">(</span>pbase<span class="token punctuation">)</span>
		<span class="token punctuation">,</span> <span class="token function">_pDerived</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived(const char* pbase,const char* pDerived)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pDerived<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> pDerived<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	
	<span class="token comment">/*Derived(const Derived&amp; rhs)
		:_pDerived(new char[strlen(rhs._pDerived) + 1]())
	{
		cout &lt;&lt; "Derived(const Derived&amp; rhs)" &lt;&lt; endl;
		strcpy_s(_pDerived, strlen(rhs._pDerived) + 1, rhs._pDerived);
	}*/</span>

	<span class="token comment">// æ‹·è´æ„é€ å‡½æ•°</span>
	<span class="token function">Derived</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">Base</span><span class="token punctuation">(</span>rhs<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// è°ƒç”¨åŸºç±»æ‹·è´æ„é€ </span>
		<span class="token function">_pDerived</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived(const Derived&amp; rhs)"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pDerived<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	

	<span class="token comment">/*Derived&amp; operator=(const Derived&amp; rhs)
	{
		cout &lt;&lt; "Derived&amp; operator=(const Derived&amp; rhs)" &lt;&lt; endl;
		if (this != &amp;rhs)
		{
			delete[] _pDerived;
			_pDerived = nullptr;

			_pDerived = new char[strlen(rhs._pDerived) + 1]();
			strcpy_s(_pDerived, strlen(rhs._pDerived) + 1, rhs._pDerived);
		}
		return *this;
	}*/</span>

	<span class="token comment">// èµ‹å€¼è¿ç®—ç¬¦</span>
	Derived<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Base<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨åŸºç±»èµ‹å€¼è¿ç®—ç¬¦</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pDerived<span class="token punctuation">;</span>
			_pDerived <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token function">strcpy_s</span><span class="token punctuation">(</span>_pDerived<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~Derived()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_pDerived<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _pDerived<span class="token punctuation">;</span>
			_pDerived <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> _pDerived<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Derived<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//Base&amp; ref = rhs;//error!å°† "Base &amp;" ç±»å‹çš„å¼•ç”¨ç»‘å®šåˆ° "const Derived" ç±»å‹çš„åˆå§‹å€¼è®¾å®šé¡¹æ—¶ï¼Œé™å®šç¬¦è¢«ä¸¢å¼ƒ</span>
	<span class="token keyword keyword-const">const</span> Base<span class="token operator">&amp;</span> ref <span class="token operator">=</span> rhs<span class="token punctuation">;</span><span class="token comment">//æ­£ç¡®å†™æ³•</span>
	os <span class="token operator">&lt;&lt;</span> ref <span class="token operator">&lt;&lt;</span> rhs<span class="token punctuation">.</span>_pDerived<span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> os<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Derived <span class="token function">derived</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived = "</span> <span class="token operator">&lt;&lt;</span> derived <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡å»åˆå§‹åŒ–ä¸€ä¸ªåˆšåˆšåˆ›å»ºçš„å¯¹è±¡</span>
	Derived <span class="token function">derived2</span><span class="token punctuation">(</span>derived<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived = "</span> <span class="token operator">&lt;&lt;</span> derived <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived2 = "</span> <span class="token operator">&lt;&lt;</span> derived2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Derived <span class="token function">derived3</span><span class="token punctuation">(</span><span class="token string">"cpp"</span><span class="token punctuation">,</span> <span class="token string">"difficult"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived3 = "</span> <span class="token operator">&lt;&lt;</span> derived3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//ä¸¤ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ä¹‹é—´è¿›è¡Œèµ‹å€¼</span>
	derived3 <span class="token operator">=</span> derived<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived = "</span> <span class="token operator">&lt;&lt;</span> derived <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"derived3 = "</span> <span class="token operator">&lt;&lt;</span> derived3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



</code></pre><p><strong>æ€»ç»“ï¼š</strong><br>
1ã€å¦‚æœåŸºç±»å®ç°äº†æ‹·è´æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼Œä½†æ˜¯æ´¾ç”Ÿç±»æ²¡æœ‰å®ç°æ‹·è´æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨å°†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ´¾ç”Ÿç±»å¯¹è±¡åˆå§‹åŒ–ä¸€ä¸ªåˆšåˆšåˆ›å»ºçš„æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œæˆ–è€…å°†ä¸¤ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆæ´¾ç”Ÿéƒ¨åˆ†ä¼šæ‰§è¡Œç¼ºçœè¡Œä¸ºï¼Œè€ŒåŸºç±»éƒ¨åˆ†ä¼šæ‰§è¡ŒåŸºç±»çš„æ‹·è´æ„é€ å‡½æ•°æˆ–è€…èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ã€‚</p>
<p>2ã€å¦‚æœåŸºç±»å®ç°äº†æ‹·è´æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼Œå¹¶ä¸”æ´¾ç”Ÿç±»ä¹Ÿå®ç°æ‹·è´æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨å°†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ´¾ç”Ÿç±»å¯¹è±¡åˆå§‹åŒ–ä¸€ä¸ªåˆšåˆšåˆ›å»ºçš„æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œæˆ–è€…å°†ä¸¤ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆæ´¾ç”Ÿéƒ¨åˆ†ä¼šæ‰§è¡Œæ´¾ç”Ÿç±»è‡ªå·±çš„æ‹·è´æ„é€ å‡½æ•°æˆ–è€…èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼Œè€ŒåŸºç±»éƒ¨åˆ†<strong>ä¸ä¼šè‡ªåŠ¨</strong>æ‰§è¡ŒåŸºç±»çš„æ‹·è´æ„é€ å‡½æ•°æˆ–è€…èµ‹å€¼è¿ç®—ç¬¦å‡½æ•°ï¼Œé™¤éæ˜¾ç¤ºåœ¨æ´¾ç”Ÿç±»ä¸­è°ƒç”¨åŸºç±»çš„æ‹·è´ä¸èµ‹å€¼ã€‚</p>
<h3 id="å››-å¤šæ€é‡è¦">å››ã€å¤šæ€ï¼ˆé‡è¦ï¼‰ </h3>
<h4 id="1-å¤šæ€çš„åŸºç¡€">1ã€å¤šæ€çš„åŸºç¡€ </h4>
<p>é¢å‘å¯¹è±¡çš„å››å¤§åŸºæœ¬ç‰¹å¾ï¼šæŠ½è±¡ã€å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚</p>
<p>å¤šæ€ï¼šå¯¹äºåŒä¸€ç§æŒ‡ä»¤ï¼ˆè­¦è½¦é¸£ç¬›ï¼‰ï¼Œé’ˆå¯¹ä¸åŒå¯¹è±¡ï¼ˆè­¦å¯Ÿã€æ™®é€šäººã€å«Œç–‘çŠ¯ï¼‰ï¼Œäº§ç”Ÿä¸ä¸€æ ·çš„è¡Œä¸ºï¼ˆè¡ŒåŠ¨ã€æ­£å¸¸è¡Œèµ°ã€è—èµ·æ¥ï¼‰ã€‚</p>
<h4 id="2-å¤šæ€çš„åˆ†ç±»">2ã€å¤šæ€çš„åˆ†ç±» </h4>
<p>é™æ€å¤šæ€ï¼šåŒ…æ‹¬ï¼šå‡½æ•°é‡è½½ã€è¿ç®—ç¬¦é‡è½½ã€æ¨¡æ¿ï¼Œ<strong>å‘ç”Ÿçš„æ—¶æœºåœ¨ç¼–è¯‘çš„æ—¶å€™</strong>ã€‚</p>
<p>åŠ¨æ€å¤šæ€ï¼š<strong>å‘ç”Ÿçš„æ—¶æœºåœ¨è¿è¡Œçš„æ—¶å€™</strong>ï¼Œä½¿ç”¨<strong>è™šå‡½æ•°</strong>è¿›è¡Œä½“ç°</p>
<pre data-role="codeBlock" data-info="C++" class="language-cpp C++"><code><span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-double">double</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-double">double</span> dx<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> dy<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

string <span class="token function">add</span><span class="token punctuation">(</span>string s1<span class="token punctuation">,</span> string s2<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h4 id="3-è™šå‡½æ•°">3ã€è™šå‡½æ•° </h4>
<p>æ¦‚å¿µï¼šæ˜¯ä¸€ä¸ª<strong>æˆå‘˜å‡½æ•°</strong>ï¼Œå¹¶ä¸”åœ¨å‰é¢åŠ ä¸Š<strong>virtual</strong>å…³é”®å­—</p>
<p>æ€§è´¨ï¼šå¦‚æœåœ¨åŸºç±»ä¸­å®šä¹‰ç±»è™šå‡½æ•°ï¼Œé‚£ä¹ˆåœ¨æ´¾ç”Ÿç±»ä¸­è¯¥å‡½æ•°å°±æ˜¯è™šå‡½æ•°ï¼Œå³ä½¿åœ¨æ´¾ç”Ÿç±»ä¸­æ²¡æœ‰åŠ virtual</p>
<p>é‡å®šä¹‰ï¼ˆé‡å†™ã€è¦†ç›–ï¼‰ï¼šæ´¾ç”Ÿç±»è¦ä¿è¯è¯¥è™šå‡½æ•°çš„åå­—ä¸åŸºç±»ç›¸åŒï¼Œå‡½æ•°çš„è¿”å›ç±»å‹ä¹Ÿè¦ç›¸åŒï¼Œå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¹Ÿè¦ç›¸åŒï¼ˆåŒ…æ‹¬å‚æ•°çš„ä¸ªæ•°ã€å‚æ•°çš„ç±»å‹ã€å‚æ•°çš„é¡ºåºï¼‰ï¼Œè¨€å¤–ä¹‹æ„ï¼Œå”¯ä¸€å¯ä»¥ä¸ä¸€æ ·çš„ï¼Œå°±æ˜¯å‡½æ•°ä½“ã€‚</p>
<h4 id="4-è™šå‡½æ•°åŸç†é‡è¦">4ã€è™šå‡½æ•°åŸç†ï¼ˆé‡è¦ï¼‰ </h4>
<p>å½“åŸºç±»å®šä¹‰äº†è™šå‡½æ•°ï¼Œå°±ä¼šåœ¨è¯¥ç±»åˆ›å»ºçš„å¯¹è±¡çš„å­˜å‚¨å¸ƒå±€çš„å‰é¢ï¼Œæ–°å¢ä¸€ä¸ªè™šå‡½æ•°æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è™šå‡½æ•°è¡¨ï¼ˆç®€ç§°è™šè¡¨ï¼‰ï¼Œè™šè¡¨ä¸­å­˜çš„æ˜¯è™šå‡½æ•°çš„å…¥å£åœ°å€ï¼ˆæœ‰å¤šå°‘è™šå‡½æ•°éƒ½ä¼šå…¥è™šè¡¨ï¼‰ã€‚å½“æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»çš„æ—¶å€™ï¼Œä¼šæ»¡è¶³å¸æ”¶çš„ç‰¹ç‚¹ï¼Œé‚£ä¹ˆæ´¾ç”Ÿç±»ä¹Ÿä¼šæœ‰è¯¥è™šå‡½æ•°ï¼Œæ‰€ä»¥æ´¾ç”Ÿç±»åˆ›å»ºçš„å¯¹è±¡çš„å¸ƒå±€çš„å‰é¢ï¼Œä¹Ÿä¼šæ–°å¢ä¸€ä¸ªè™šå‡½æ•°æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»è‡ªå·±çš„è™šå‡½æ•°è¡¨ï¼ˆç®€ç§°è™šè¡¨ï¼‰ï¼Œè™šè¡¨ä¸­å­˜çš„æ˜¯æ´¾ç”Ÿç±»çš„è™šå‡½æ•°çš„å…¥å£åœ°å€ï¼ˆæœ‰å¤šå°‘è™šå‡½æ•°éƒ½ä¼šå…¥è™šè¡¨ï¼‰ï¼Œå¦‚æœæ­¤æ—¶æ´¾ç”Ÿç±»é‡å†™äº†ä»åŸºç±»è¿™é‡Œå¸æ”¶è¿‡æ¥çš„è™šå‡½æ•°ï¼Œé‚£ä¹ˆå°±ä¼šç”¨æ´¾ç”Ÿç±»è‡ªå·±çš„è™šå‡½æ•°çš„å…¥å£åœ°å€è¦†ç›–ä»åŸºç±»è¿™é‡Œå¸æ”¶è¿‡æ¥çš„è™šå‡½æ•°çš„å…¥å£åœ°å€ã€‚</p>
<h4 id="5-è™šå‡½æ•°æœºåˆ¶è¢«æ¿€æ´»çš„æ¡ä»¶é‡è¦">5ã€è™šå‡½æ•°æœºåˆ¶è¢«æ¿€æ´»çš„æ¡ä»¶ï¼ˆé‡è¦ï¼‰ </h4>
<p>æˆ–è€…åŠ¨æ€å¤šæ€è¢«æ¿€æ´»çš„äº”ä¸ªæ¡ä»¶</p>
<p>1ã€åŸºç±»å®šä¹‰è™šå‡½æ•°</p>
<p>2ã€æ´¾ç”Ÿç±»é‡å†™ï¼ˆé‡å®šä¹‰ã€è¦†ç›–ï¼‰è¯¥è™šå‡½æ•°</p>
<p>3ã€åˆ›å»ºæ´¾ç”Ÿç±»çš„å¯¹è±¡</p>
<p>4ã€ç”¨åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘ï¼ˆå¼•ç”¨ç»‘å®šï¼‰æ´¾ç”Ÿç±»çš„å¯¹è±¡</p>
<p>5ã€ä½¿ç”¨åŸºç±»çš„æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰è°ƒç”¨è¯¥è™šå‡½æ•°</p>
<h4 id="6-è™šå‡½æ•°çš„é™åˆ¶">6ã€è™šå‡½æ•°çš„é™åˆ¶ </h4>
<p>å“ªäº›å‡½æ•°ä¸èƒ½è¢«è®¾ç½®ä¸ºè™šå‡½æ•°ï¼Ÿ</p>
<p>1ã€æ™®é€šå‡½æ•°ï¼ˆè‡ªç”±å‡½æ•°ã€å…¨å±€å‡½æ•°ï¼‰ï¼šè™šå‡½æ•°å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°ï¼Œè€Œæ™®é€šå‡½æ•°æ˜¯éæˆå‘˜å‡½æ•°ã€‚</p>
<p>2ã€å†…è”æˆå‘˜å‡½æ•°ï¼šå†…è”æˆå‘˜å‡½æ•°è¿›è¡Œå‡½æ•°æ›¿æ¢çš„æ—¶å€™ï¼Œå‘ç”Ÿæ—¶æœºåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œè€Œè™šå‡½æ•°è¦ä½“ç°å¤šæ€ï¼Œå‘ç”Ÿæ—¶æœºåœ¨è¿è¡Œçš„æ—¶å€™ï¼›å¦‚æœå°†å†…è”å‡½æ•°è®¾ç½®ä¸ºè™šå‡½æ•°ï¼Œé‚£æ­¤æ—¶å°±ä¼šå¤±å»å†…è”çš„å«ä¹‰ã€‚</p>
<p>3ã€é™æ€æˆå‘˜å‡½æ•°ï¼šé™æ€æˆå‘˜å‡½æ•°å‘ç”Ÿæ—¶æœºåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œè€Œè™šå‡½æ•°è¦ä½“ç°å¤šæ€ï¼Œå‘ç”Ÿæ—¶æœºåœ¨è¿è¡Œçš„æ—¶å€™ï¼›é™æ€æˆå‘˜å‡½æ•°æ˜¯å…±äº«çš„ï¼Œè¢«è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«ã€‚æ²¡æœ‰thisæŒ‡é’ˆ</p>
<p>4ã€å‹å…ƒå‡½æ•°ï¼šå¦‚æœå‹å…ƒå‡½æ•°æœ¬èº«æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œé‚£ä¹ˆå‹å…ƒå‡½æ•°ä¸èƒ½è¢«è®¾ç½®ä¸ºè™šå‡½æ•°ã€‚å¦‚æœå‹å…ƒå‡½æ•°æœ¬èº«æ˜¯å¦å¤–ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ï¼Œæ˜¯å¯ä»¥è¢«è®¾ç½®ä¸ºè™šå‡½æ•°çš„ã€‚å‹å…ƒå…³ç³»ä¸èƒ½è¢«ç»§æ‰¿ã€‚</p>
<p>5ã€æ„é€ å‡½æ•°ï¼šæ„é€ å‡½æ•°ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä½†æ˜¯è™šå‡½æ•°æ˜¯å¯ä»¥è¢«ç»§æ‰¿çš„ï¼›æ„é€ å‡½æ•°å‘ç”Ÿçš„æ—¶æœºåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œè€Œè™šå‡½æ•°è¦ä½“ç°åŠ¨æ€å¤šæ€ï¼Œå‘ç”Ÿçš„æ—¶æœºåœ¨è¿è¡Œçš„æ—¶å€™ï¼›<strong>å¦‚æœæ„é€ å‡½æ•°è¢«è®¾ç½®ä¸ºè™šå‡½æ•°ï¼Œé‚£ä¹ˆè¦ä½“ç°å‡ºå¤šæ€ï¼Œå°±éœ€è¦æ”¾åœ¨è™šè¡¨ä¸­ï¼Œéœ€è¦ä½¿ç”¨è™šå‡½æ•°æŒ‡é’ˆæ‰¾åˆ°è™šè¡¨ï¼Œè€Œå¦‚æœæ„é€ å‡½æ•°éƒ½ä¸è°ƒç”¨ï¼Œé‚£å¯¹è±¡æ˜¯æ²¡æœ‰å®Œå…¨åˆ›å»ºå‡ºæ¥çš„ï¼Œå¯¹è±¡éƒ½ä¸å®Œæ•´ï¼Œæ­¤æ—¶æœ‰æ²¡æœ‰è™šå‡½æ•°æŒ‡é’ˆéƒ½ä¸ä¸€å®šã€‚ï¼ˆé‡è¦ï¼‰</strong></p>
<h4 id="7-è™šå‡½æ•°çš„è®¿é—®">7ã€è™šå‡½æ•°çš„è®¿é—® </h4>
<p>1ã€ä½¿ç”¨æŒ‡é’ˆä¸å¼•ç”¨å¯ä»¥ä½“ç°å‡ºåŠ¨æ€å¤šæ€</p>
<p>2ã€ä½¿ç”¨å¯¹è±¡ä¸èƒ½ä½“ç°åŠ¨æ€å¤šæ€ï¼Œä½“ç°çš„æ˜¯è™šå‡½æ•°ä½œä¸ºæ™®é€šå‡½æ•°çš„ç‰¹å¾ã€‚</p>
<p>3ã€ä½¿ç”¨å…¶ä»–æ™®é€šæˆå‘˜å‡½æ•°æœ‰å¯èƒ½ä½“ç°åŠ¨æ€å¤šæ€</p>
<h4 id="8-æŠ½è±¡ç±»">8ã€æŠ½è±¡ç±» </h4>
<p>æŠ½è±¡ç±»æ˜¯ä½œä¸ºæ¥å£ä½¿ç”¨çš„ã€‚</p>
<hr>
<p>æ˜¯çš„ï¼Œ<code>int &amp;ref = number;</code> å’Œ <code>Base &amp;ref = derived;</code> è¿™ä¸¤ç§å¼•ç”¨å£°æ˜æ–¹å¼åœ¨<strong>è¯­æ³•å½¢å¼ä¸Šæ˜¯ç›¸ä¼¼çš„</strong>ï¼Œä½†åœ¨<strong>è¯­ä¹‰å’Œåº•å±‚è¡Œä¸ºä¸Šæœ‰é‡è¦åŒºåˆ«</strong>ã€‚ä¸‹é¢æˆ‘ä»¬è¯¦ç»†å¯¹æ¯”å®ƒä»¬çš„å¼‚åŒï¼š</p>
<hr>
<h2 id="1-è¯­æ³•å½¢å¼ç›¸ä¼¼"><strong>1. è¯­æ³•å½¢å¼ç›¸ä¼¼</strong> </h2>
<p>ä¸¤ç§å†™æ³•éƒ½éµå¾ª C++ å¼•ç”¨çš„åŸºæœ¬è¯­æ³•ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code>T<span class="token operator">&amp;</span> ref <span class="token operator">=</span> obj<span class="token punctuation">;</span>  <span class="token comment">// T æ˜¯ç±»å‹ï¼Œobj æ˜¯å·²å­˜åœ¨çš„å¯¹è±¡</span>
</code></pre><ul>
<li><code>int&amp; ref = number;</code>ï¼š<code>ref</code> æ˜¯ <code>int</code> çš„å¼•ç”¨ï¼Œç»‘å®šåˆ° <code>number</code>ã€‚</li>
<li><code>Base&amp; ref = derived;</code>ï¼š<code>ref</code> æ˜¯ <code>Base</code> çš„å¼•ç”¨ï¼Œç»‘å®šåˆ° <code>derived</code>ï¼ˆæ´¾ç”Ÿç±»å¯¹è±¡ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="2-æ ¸å¿ƒåŒºåˆ«"><strong>2. æ ¸å¿ƒåŒºåˆ«</strong> </h2>
<h3 id="1-å¼•ç”¨ç»‘å®šçš„å¯¹è±¡ç±»å‹"><strong>(1) å¼•ç”¨ç»‘å®šçš„å¯¹è±¡ç±»å‹</strong> </h3>
<table>
<thead>
<tr>
<th>å¼•ç”¨å£°æ˜</th>
<th>ç»‘å®šå¯¹è±¡ç±»å‹</th>
<th>æ˜¯å¦å…è®¸</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int&amp; ref = number;</code></td>
<td>ç›¸åŒç±»å‹ï¼ˆ<code>int</code> â†’ <code>int</code>ï¼‰</td>
<td>âœ… å…è®¸</td>
</tr>
<tr>
<td><code>Base&amp; ref = derived;</code></td>
<td>æ´¾ç”Ÿç±» â†’ åŸºç±»ï¼ˆ<code>Derived</code> â†’ <code>Base</code>ï¼‰</td>
<td>âœ… å…è®¸ï¼ˆå¤šæ€ï¼‰</td>
</tr>
<tr>
<td><code>Derived&amp; ref = base;</code></td>
<td>åŸºç±» â†’ æ´¾ç”Ÿç±»ï¼ˆ<code>Base</code> â†’ <code>Derived</code>ï¼‰</td>
<td>âŒ é”™è¯¯ï¼ˆé™¤éåŸºç±»å®é™…æ˜¯æ´¾ç”Ÿç±»ï¼‰</td>
</tr>
</tbody>
</table>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>C++ å…è®¸ <strong>åŸºç±»å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡</strong>ï¼ˆå‘ä¸Šè½¬å‹ï¼ŒUpcastingï¼‰ï¼Œè¿™æ˜¯å¤šæ€çš„åŸºç¡€ã€‚</li>
<li>ä½†åè¿‡æ¥ï¼ˆæ´¾ç”Ÿç±»å¼•ç”¨ç»‘å®šåŸºç±»å¯¹è±¡ï¼‰æ˜¯ç¦æ­¢çš„ï¼Œé™¤éé€šè¿‡ <code>dynamic_cast</code> ä¸”åŸºç±»å…·æœ‰å¤šæ€æ€§ï¼ˆå«è™šå‡½æ•°ï¼‰ã€‚</li>
</ul>
<hr>
<h3 id="2-å¯è®¿é—®çš„æˆå‘˜"><strong>(2) å¯è®¿é—®çš„æˆå‘˜</strong> </h3>
<table>
<thead>
<tr>
<th>å¼•ç”¨ç±»å‹</th>
<th>èƒ½è®¿é—®çš„æˆå‘˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int&amp; ref</code></td>
<td>å¯è®¿é—® <code>int</code> çš„æ‰€æœ‰æ“ä½œï¼ˆå¦‚åŠ å‡ä¹˜é™¤ï¼‰</td>
</tr>
<tr>
<td><code>Base&amp; ref</code></td>
<td>åªèƒ½è®¿é—® <code>Base</code> çš„æˆå‘˜ï¼Œæ— æ³•ç›´æ¥è®¿é—® <code>Derived</code> çš„ç‰¹æœ‰æˆå‘˜</td>
</tr>
</tbody>
</table>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">base_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">derived_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Derived derived<span class="token punctuation">;</span>
    Base<span class="token operator">&amp;</span> ref <span class="token operator">=</span> derived<span class="token punctuation">;</span>

    ref<span class="token punctuation">.</span><span class="token function">base_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// âœ… å…è®¸</span>
    <span class="token comment">// ref.derived_func(); // âŒ é”™è¯¯ï¼šBase æ²¡æœ‰ derived_func</span>
<span class="token punctuation">}</span>
</code></pre><hr>
<h3 id="3-å¤šæ€è¡Œä¸ºè™šå‡½æ•°"><strong>(3) å¤šæ€è¡Œä¸ºï¼ˆè™šå‡½æ•°ï¼‰</strong> </h3>
<p>å¦‚æœ <code>Base</code> æœ‰è™šå‡½æ•°ï¼Œä¸” <code>Derived</code> è¦†ç›–äº†å®ƒï¼Œé€šè¿‡ <code>Base&amp; ref</code> è°ƒç”¨æ—¶ä¼šè§¦å‘åŠ¨æ€ç»‘å®šï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Derived derived<span class="token punctuation">;</span>
    Base<span class="token operator">&amp;</span> ref <span class="token operator">=</span> derived<span class="token punctuation">;</span>
    ref<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º "Derived"ï¼ˆå¤šæ€è°ƒç”¨ï¼‰</span>
<span class="token punctuation">}</span>
</code></pre><p>è€Œ <code>int&amp;</code> ä¸æ¶‰åŠå¤šæ€ï¼Œå› ä¸ºå†…ç½®ç±»å‹ï¼ˆå¦‚ <code>int</code>ï¼‰æ²¡æœ‰è™šå‡½æ•°ã€‚</p>
<hr>
<h2 id="3-åº•å±‚æœºåˆ¶"><strong>3. åº•å±‚æœºåˆ¶</strong> </h2>
<ul>
<li><code>int&amp; ref = number;</code>ï¼š
<ul>
<li><code>ref</code> ç›´æ¥ç»‘å®šåˆ° <code>number</code> çš„å†…å­˜åœ°å€ï¼Œæ“ä½œ <code>ref</code> ç­‰åŒäºæ“ä½œ <code>number</code>ã€‚</li>
</ul>
</li>
<li><code>Base&amp; ref = derived;</code>ï¼š
<ul>
<li><code>ref</code> ç»‘å®šåˆ° <code>derived</code> å¯¹è±¡ä¸­çš„ <strong>åŸºç±»å­å¯¹è±¡éƒ¨åˆ†</strong>ï¼ˆå³ <code>Base</code> çš„éƒ¨åˆ†ï¼‰ã€‚</li>
<li>å¦‚æœ <code>Base</code> æœ‰è™šå‡½æ•°ï¼Œ<code>ref</code> ä¼šé€šè¿‡è™šè¡¨ï¼ˆvtableï¼‰å®ç°å¤šæ€ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h2 id="4-æ€»ç»“-2"><strong>4. æ€»ç»“</strong> </h2>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th><code>int&amp; ref = number;</code></th>
<th><code>Base&amp; ref = derived;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç»‘å®šç±»å‹</strong></td>
<td>ç›¸åŒç±»å‹ï¼ˆ<code>int</code> â†’ <code>int</code>ï¼‰</td>
<td>æ´¾ç”Ÿç±» â†’ åŸºç±»ï¼ˆ<code>Derived</code> â†’ <code>Base</code>ï¼‰</td>
</tr>
<tr>
<td><strong>æ˜¯å¦æ”¯æŒå¤šæ€</strong></td>
<td>å¦ï¼ˆ<code>int</code> æ— è™šå‡½æ•°ï¼‰</td>
<td>æ˜¯ï¼ˆå¦‚æœ <code>Base</code> æœ‰è™šå‡½æ•°ï¼‰</td>
</tr>
<tr>
<td><strong>å¯è®¿é—®æˆå‘˜</strong></td>
<td>å…¨éƒ¨ <code>int</code> æ“ä½œ</td>
<td>ä»… <code>Base</code> çš„æˆå‘˜</td>
</tr>
<tr>
<td><strong>åº•å±‚è¡Œä¸º</strong></td>
<td>ç›´æ¥åˆ«å</td>
<td>ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡çš„åŸºç±»éƒ¨åˆ†</td>
</tr>
</tbody>
</table>
<h3 id="å…³é”®ç»“è®º"><strong>å…³é”®ç»“è®º</strong> </h3>
<ol>
<li><strong>è¯­æ³•å½¢å¼ç›¸åŒ</strong>ï¼Œä½† <code>Base&amp; ref = derived;</code> åˆ©ç”¨äº† C++ çš„å¤šæ€ç‰¹æ€§ã€‚</li>
<li><strong>æ¨èä½¿ç”¨åŸºç±»å¼•ç”¨/æŒ‡é’ˆç»‘å®šæ´¾ç”Ÿç±»å¯¹è±¡</strong>ï¼Œä»¥å®ç°è¿è¡Œæ—¶å¤šæ€ï¼ˆæ¯”ç›´æ¥èµ‹å€¼ <code>Base base = derived;</code> æ›´é«˜æ•ˆä¸”å®‰å…¨ï¼‰ã€‚</li>
<li>å¦‚æœä¸éœ€è¦å¤šæ€ï¼Œä¼˜å…ˆä½¿ç”¨ <strong>å€¼ç±»å‹æˆ–æ¨¡æ¿</strong>ï¼Œè€Œéç»§æ‰¿ä½“ç³»ã€‚</li>
</ol>
<hr>
<h1 id="c-ä¸­åˆ›å»ºçº¿ç¨‹å¹¶ä¼ å…¥ç±»ç±»å‹çš„æ­£ç¡®å†™æ³•">C++ ä¸­åˆ›å»ºçº¿ç¨‹å¹¶ä¼ å…¥ç±»ç±»å‹çš„æ­£ç¡®å†™æ³• </h1>
<p>åœ¨ C++ ä¸­åˆ›å»ºçº¿ç¨‹å¹¶ä¼ å…¥ç±»ç±»å‹æœ‰å‡ ç§æ­£ç¡®çš„æ–¹å¼ï¼Œä¸»è¦å–å†³äºä½ æƒ³å¦‚ä½•ä¼ é€’ç±»å®ä¾‹ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„æ­£ç¡®å†™æ³•ï¼š</p>
<h2 id="1-ä¼ é€’æˆå‘˜å‡½æ•°ä½¿ç”¨å¯¹è±¡æŒ‡é’ˆ">1. ä¼ é€’æˆå‘˜å‡½æ•°ï¼ˆä½¿ç”¨å¯¹è±¡æŒ‡é’ˆï¼‰ </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">memberFunction</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Member function called with "</span> <span class="token operator">&lt;&lt;</span> x 
                  <span class="token operator">&lt;&lt;</span> <span class="token string">" (thread ID: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>this_thread<span class="token double-colon punctuation">::</span><span class="token function">get_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MyClass obj<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>thread <span class="token function">t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>MyClass<span class="token double-colon punctuation">::</span>memberFunction<span class="token punctuation">,</span> <span class="token operator">&amp;</span>obj<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="2-ä¼ é€’-lambda-è¡¨è¾¾å¼æ•è·å¯¹è±¡">2. ä¼ é€’ lambda è¡¨è¾¾å¼æ•è·å¯¹è±¡ </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Functor called with "</span> <span class="token operator">&lt;&lt;</span> x 
                  <span class="token operator">&lt;&lt;</span> <span class="token string">" (thread ID: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>this_thread<span class="token double-colon punctuation">::</span><span class="token function">get_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MyClass obj<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>thread <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&amp;</span>obj<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">obj</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="3-ä¼ é€’ä¸´æ—¶å¯¹è±¡ç§»åŠ¨è¯­ä¹‰">3. ä¼ é€’ä¸´æ—¶å¯¹è±¡ï¼ˆç§»åŠ¨è¯­ä¹‰ï¼‰ </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Temporary object called"</span>
                  <span class="token operator">&lt;&lt;</span> <span class="token string">" (thread ID: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>this_thread<span class="token double-colon punctuation">::</span><span class="token function">get_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>thread <span class="token function">t</span><span class="token punctuation">(</span><span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ³¨æ„ï¼šè¿™é‡Œå¯èƒ½ä¼šè¢«è§£æä¸ºå‡½æ•°å£°æ˜</span>
    <span class="token comment">// æ›´å¥½çš„å†™æ³•ï¼š</span>
    <span class="token comment">// std::thread t{MyClass()};</span>
    <span class="token comment">// æˆ–</span>
    <span class="token comment">// std::thread t((MyClass()));</span>
    t<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="4-ä½¿ç”¨-stdref-ä¼ é€’å¼•ç”¨">4. ä½¿ç”¨ std::ref ä¼ é€’å¼•ç”¨ </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Object called by reference"</span>
                  <span class="token operator">&lt;&lt;</span> <span class="token string">" (thread ID: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>this_thread<span class="token double-colon punctuation">::</span><span class="token function">get_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MyClass obj<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>thread <span class="token function">t</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">ref</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="5-ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ">5. ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ </h2>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Shared object called"</span>
                  <span class="token operator">&lt;&lt;</span> <span class="token string">" (thread ID: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>this_thread<span class="token double-colon punctuation">::</span><span class="token function">get_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-auto">auto</span> obj <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyClass<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>thread <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token operator">*</span>obj<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹ </h2>
<ol>
<li>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»é•¿äºæˆ–ç­‰äºå®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡</li>
<li>å¦‚æœéœ€è¦å…±äº«å¯¹è±¡ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨æ€§ï¼ˆä½¿ç”¨äº’æ–¥é”ç­‰ï¼‰</li>
<li>é¿å…æ‚¬å‚å¼•ç”¨ï¼ˆä¸è¦ä¼ é€’å±€éƒ¨å˜é‡çš„å¼•ç”¨ç»™å¯èƒ½æ¯”å®ƒç”Ÿå‘½å‘¨æœŸé•¿çš„çº¿ç¨‹ï¼‰</li>
<li>è€ƒè™‘ä½¿ç”¨ join() æˆ– detach() æ˜ç¡®çº¿ç¨‹çš„ç»“æŸæ–¹å¼</li>
</ol>
<p>é€‰æ‹©å“ªç§æ–¹å¼å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ï¼Œå¦‚å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æ˜¯å¦éœ€è¦ä¿®æ”¹å¯¹è±¡çŠ¶æ€ç­‰ã€‚</p>
<hr>
<h3 id="é—®é¢˜æè¿°">é—®é¢˜æè¿° </h3>
<p>æˆ‘ä»¬æœ‰ä»¥ä¸‹C++ä»£ç ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"D\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    D d<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼Œè¾“å‡ºçš„æ˜¯ <code>B</code> è€Œä¸æ˜¯ <code>D</code>ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p>
<h3 id="åˆæ­¥è§‚å¯Ÿ">åˆæ­¥è§‚å¯Ÿ </h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŸºç±» <code>B</code> å’Œä¸€ä¸ªæ´¾ç”Ÿç±» <code>D</code>ã€‚<code>B</code> çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨äº†è™šå‡½æ•° <code>test()</code>ï¼Œè€Œ <code>D</code> é‡å†™äº†è¿™ä¸ªè™šå‡½æ•°ã€‚å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>D</code> çš„å¯¹è±¡æ—¶ï¼Œ<code>B</code> çš„æ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œç„¶ååœ¨ <code>B</code> çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨äº† <code>test()</code>ã€‚ç„¶è€Œï¼Œè¾“å‡ºçš„æ˜¯ <code>B</code> çš„ <code>test()</code> å®ç°ï¼Œè€Œä¸æ˜¯ <code>D</code> çš„ã€‚</p>
<h3 id="ç†è§£å¯¹è±¡æ„é€ è¿‡ç¨‹">ç†è§£å¯¹è±¡æ„é€ è¿‡ç¨‹ </h3>
<p>åœ¨C++ä¸­ï¼Œå¯¹è±¡çš„æ„é€ æ˜¯ä»åŸºç±»åˆ°æ´¾ç”Ÿç±»çš„é¡ºåºè¿›è¡Œçš„ã€‚å…·ä½“åˆ°è¿™æ®µä»£ç ï¼š</p>
<ol>
<li>å½“åˆ›å»º <code>D</code> çš„å¯¹è±¡ <code>d</code> æ—¶ï¼Œé¦–å…ˆè°ƒç”¨ <code>B</code> çš„æ„é€ å‡½æ•°ã€‚</li>
<li>åœ¨ <code>B</code> çš„æ„é€ å‡½æ•°ä¸­ï¼Œè°ƒç”¨äº† <code>test()</code>ã€‚</li>
<li>ä¹‹åï¼Œ<code>D</code> çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨ï¼ˆè¿™é‡Œ <code>D</code> çš„æ„é€ å‡½æ•°æ˜¯é»˜è®¤çš„ï¼Œæ²¡æœ‰é¢å¤–æ“ä½œï¼‰ã€‚</li>
</ol>
<h3 id="è™šå‡½æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„è¡Œä¸º">è™šå‡½æ•°åœ¨æ„é€ å‡½æ•°ä¸­çš„è¡Œä¸º </h3>
<p>å…³é”®åœ¨äºï¼š<strong>åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œè™šå‡½æ•°çš„åŠ¨æ€ç»‘å®šï¼ˆå¤šæ€ï¼‰è¡Œä¸ºä¸ä¼šå‘ç”Ÿ</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ <code>B</code> çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨ <code>test()</code> æ—¶ï¼Œå®ƒè°ƒç”¨çš„æ˜¯ <code>B</code> çš„ <code>test()</code>ï¼Œè€Œä¸æ˜¯ <code>D</code> çš„ <code>test()</code>ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼š</p>
<ul>
<li>å½“ <code>B</code> çš„æ„é€ å‡½æ•°æ­£åœ¨æ‰§è¡Œæ—¶ï¼Œ<code>D</code> çš„éƒ¨åˆ†è¿˜æ²¡æœ‰è¢«æ„é€ ã€‚æ­¤æ—¶å¯¹è±¡çš„ <code>D</code> éƒ¨åˆ†è¿˜ä¸å®Œæ•´ï¼Œå› æ­¤ä¸èƒ½å®‰å…¨åœ°è°ƒç”¨ <code>D</code> çš„é‡å†™å‡½æ•°ã€‚</li>
<li>C++ çš„è®¾è®¡å†³å®šäº†åœ¨åŸºç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œè™šå‡½æ•°è°ƒç”¨è¢«è§£æä¸ºå½“å‰ç±»ï¼ˆå³åŸºç±»ï¼‰çš„å®ç°ï¼Œè€Œä¸æ˜¯æ´¾ç”Ÿç±»çš„å®ç°ã€‚è¿™æ˜¯ä¸ºäº†é¿å…åœ¨å¯¹è±¡æœªå®Œå…¨æ„é€ æ—¶è°ƒç”¨æœªåˆå§‹åŒ–çš„æ´¾ç”Ÿç±»æˆå‘˜ã€‚</li>
</ul>
<h3 id="cæ ‡å‡†çš„è§„å®š">C++æ ‡å‡†çš„è§„å®š </h3>
<p>æ ¹æ®C++æ ‡å‡†ï¼ˆå¦‚ISO/IEC 14882:2017ï¼‰ï¼š</p>
<blockquote>
<p>When a virtual function is called directly or indirectly from a constructor or from a destructor, including during the construction or destruction of the classâ€™s non-static data members, and the object to which the call applies is the object under construction or destruction, the function called is the one defined in the constructor or destructorâ€™s own class or in one of its bases, but not a function overriding it in a class derived from the constructor or destructorâ€™s class, or overriding it in one of the other base classes of the most derived object.</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œåœ¨æ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œè°ƒç”¨çš„ç‰ˆæœ¬æ˜¯å½“å‰æ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°æ‰€åœ¨ç±»çš„ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯æ´¾ç”Ÿç±»çš„é‡å†™ç‰ˆæœ¬ã€‚</p>
<h3 id="ç¤ºä¾‹éªŒè¯">ç¤ºä¾‹éªŒè¯ </h3>
<p>è®©æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä»£ç ï¼Œä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ°æ„é€ é¡ºåºï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B constructor\n"</span><span class="token punctuation">;</span>
        <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B::test\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"D constructor\n"</span><span class="token punctuation">;</span>
        <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"D::test\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    D d<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>è¾“å‡ºï¼š</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>B constructor
B::test
D constructor
D::test
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼š</p>
<ol>
<li><code>B</code> çš„æ„é€ å‡½æ•°å…ˆè¢«è°ƒç”¨ï¼Œæ­¤æ—¶ <code>test()</code> è°ƒç”¨çš„æ˜¯ <code>B::test()</code>ã€‚</li>
<li>ç„¶å <code>D</code> çš„æ„é€ å‡½æ•°è¢«è°ƒç”¨ï¼Œæ­¤æ—¶ <code>test()</code> è°ƒç”¨çš„æ˜¯ <code>D::test()</code>ã€‚</li>
</ol>
<h3 id="ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡">ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ </h3>
<p>è¿™ç§è®¾è®¡æ˜¯ä¸ºäº†ä¿è¯å¯¹è±¡æ„é€ çš„å®‰å…¨æ€§ã€‚è€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¦‚æœè¿™é‡Œè°ƒç”¨ D::test()ï¼Œè€Œ D çš„æˆå‘˜è¿˜æœªåˆå§‹åŒ–</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-int">int</span> x<span class="token punctuation">;</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> x<span class="token punctuation">;</span>  <span class="token comment">// å¦‚æœ B::B() ä¸­è°ƒç”¨ D::test()ï¼Œx è¿˜æœªåˆå§‹åŒ–</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>å¦‚æœåœ¨ <code>B</code> çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨ <code>D::test()</code>ï¼Œè€Œ <code>D</code> çš„æˆå‘˜ <code>x</code> è¿˜æœªåˆå§‹åŒ–ï¼ˆå› ä¸º <code>D</code> çš„æ„é€ å‡½æ•°è¿˜æœªæ‰§è¡Œï¼‰ï¼Œé‚£ä¹ˆè®¿é—® <code>x</code> å°†æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚å› æ­¤ï¼ŒC++ è§„å®šåœ¨æ„é€ å‡½æ•°ä¸­è™šå‡½æ•°è°ƒç”¨ä¸è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼Œè€Œæ˜¯ä½¿ç”¨å½“å‰ç±»çš„å®ç°ã€‚</p>
<h3 id="ç±»ä¼¼è¡Œä¸ºææ„å‡½æ•°">ç±»ä¼¼è¡Œä¸ºï¼šææ„å‡½æ•° </h3>
<p>ç±»ä¼¼çš„æƒ…å†µä¹Ÿé€‚ç”¨äºææ„å‡½æ•°ï¼š</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è°ƒç”¨ B::test()ï¼Œå³ä½¿æ˜¯åœ¨ ~D() ä¸­</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B::test\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token operator">~</span><span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// D çš„éƒ¨åˆ†å·²ç»è¢«é”€æ¯</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"D::test\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    B<span class="token operator">*</span> b <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-delete">delete</span> b<span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡º B::test</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>åœ¨ææ„å‡½æ•°ä¸­ï¼Œæ´¾ç”Ÿç±»çš„éƒ¨åˆ†å·²ç»è¢«é”€æ¯ï¼Œå› æ­¤è™šå‡½æ•°è°ƒç”¨ä¹Ÿä¼šè¢«è§£æä¸ºå½“å‰ç±»çš„å®ç°ï¼Œä»¥é¿å…è®¿é—®å·²é”€æ¯çš„æ´¾ç”Ÿç±»æˆå‘˜ã€‚</p>
<h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ </h3>
<p>å¦‚æœéœ€è¦åœ¨æ„é€ æ—¶è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°å®ç°ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ol>
<li>
<p><strong>ä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°</strong>ï¼šè¿™æ˜¯æœ€ç›´æ¥çš„è§£å†³æ–¹æ¡ˆã€‚å°†éœ€è¦åœ¨æ„é€ åè¿›è¡Œçš„æ“ä½œç§»åˆ°å•ç‹¬çš„åˆå§‹åŒ–å‡½æ•°ä¸­ï¼Œç”±ç”¨æˆ·æ˜¾å¼è°ƒç”¨ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">// æ„é€ åç”±ç”¨æˆ·è°ƒç”¨</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B::test\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"D::test\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    D d<span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡º D::test</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><strong>ä½¿ç”¨å·¥å‚æ¨¡å¼</strong>ï¼šé€šè¿‡å·¥å‚å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼Œå¹¶åœ¨æ„é€ åè°ƒç”¨è™šå‡½æ•°ã€‚</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp cpp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B::test\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"D::test\n"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T<span class="token operator">*</span> <span class="token function">createAndTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    T<span class="token operator">*</span> obj <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å®‰å…¨è°ƒç”¨æ´¾ç”Ÿç±»çš„å®ç°</span>
    <span class="token keyword keyword-return">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    D<span class="token operator">*</span> d <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createAndTest</span><span class="token generic class-name"><span class="token operator">&lt;</span>D<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡º D::test</span>
    <span class="token keyword keyword-delete">delete</span> d<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<h3 id="æ€»ç»“-1">æ€»ç»“ </h3>
<ul>
<li>åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œè°ƒç”¨çš„ç‰ˆæœ¬æ˜¯å½“å‰æ„é€ å‡½æ•°æ‰€åœ¨ç±»çš„å®ç°ï¼Œè€Œä¸æ˜¯æ´¾ç”Ÿç±»çš„é‡å†™ç‰ˆæœ¬ã€‚</li>
<li>è¿™æ˜¯å› ä¸ºæ´¾ç”Ÿç±»çš„éƒ¨åˆ†åœ¨åŸºç±»æ„é€ å‡½æ•°æ‰§è¡Œæ—¶è¿˜æœªæ„é€ å®Œæˆï¼Œè°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°å¯èƒ½å¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</li>
<li>è¿™ç§è®¾è®¡æ˜¯C++è¯­è¨€ä¸ºäº†ä¿è¯å¯¹è±¡æ„é€ çš„å®‰å…¨æ€§è€Œåšå‡ºçš„è§„å®šã€‚</li>
<li>å¦‚æœéœ€è¦å¤šæ€è¡Œä¸ºï¼Œåº”é¿å…åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°ï¼Œæˆ–é€šè¿‡å…¶ä»–æ–¹å¼ï¼ˆå¦‚åˆå§‹åŒ–å‡½æ•°æˆ–å·¥å‚æ¨¡å¼ï¼‰å®ç°ã€‚</li>
</ul>
<h3 id="æœ€ç»ˆç­”æ¡ˆ">æœ€ç»ˆç­”æ¡ˆ </h3>
<p>åœ¨ <code>D d;</code> çš„æ„é€ è¿‡ç¨‹ä¸­ï¼Œ<code>B</code> çš„æ„é€ å‡½æ•°é¦–å…ˆè¢«è°ƒç”¨ã€‚åœ¨ <code>B</code> çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•° <code>test()</code> æ—¶ï¼Œç”±äº <code>D</code> çš„éƒ¨åˆ†å°šæœªæ„é€ å®Œæˆï¼ŒC++ çš„è§„åˆ™è§„å®šæ­¤æ—¶è™šå‡½æ•°çš„è°ƒç”¨è¢«é™æ€ç»‘å®šåˆ°å½“å‰ç±»ï¼ˆå³ <code>B</code>ï¼‰çš„å®ç°ï¼Œè€Œä¸æ˜¯æ´¾ç”Ÿç±» <code>D</code> çš„é‡å†™ç‰ˆæœ¬ã€‚å› æ­¤ï¼Œè¾“å‡ºçš„æ˜¯ <code>B</code> è€Œä¸æ˜¯ <code>D</code>ã€‚è¿™æ˜¯C++ä¸ºäº†ä¿è¯å¯¹è±¡æ„é€ çš„å®‰å…¨æ€§è€Œè®¾è®¡çš„ç‰¹æ€§ã€‚</p>
<hr>
<p>ğŸš€</p>
<h3 id="ä¸‰çº§æ ‡é¢˜">ä¸‰çº§æ ‡é¢˜ </h3>
<h4 id="å››çº§æ ‡é¢˜">å››çº§æ ‡é¢˜ </h4>
<h5 id="äº”çº§æ ‡é¢˜">äº”çº§æ ‡é¢˜ </h5>
<h6 id="å…­çº§æ ‡é¢˜">å…­çº§æ ‡é¢˜ </h6>
<p><strong>åŠ ç²—</strong> æˆ–è€… <strong>åŠ ç²—</strong><br>
<em>æ–œä½“</em> æˆ–è€… <em>æ–œä½“</em><br>
<em><strong>åŠ ç²—+æ–œä½“</strong></em> æˆ–è€… <em><strong>åŠ ç²—+æ–œä½“</strong></em></p>
<ul>
<li>é¡¹ç›® 1</li>
<li>é¡¹ç›® 2
<ul>
<li>å­é¡¹ 2.1</li>
<li>å­é¡¹ 2.2</li>
</ul>
</li>
</ul>
<ul>
<li>å¦ä¸€ç§å†™æ³•</li>
</ul>
<ol>
<li>ç¬¬ä¸€é¡¹</li>
<li>ç¬¬äºŒé¡¹</li>
<li>ç¬¬ä¸‰é¡¹</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>
